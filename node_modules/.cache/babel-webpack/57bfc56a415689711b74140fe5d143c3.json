{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nvar _classCallCheck = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createClass\");\n\nvar ExternalModule = require(\"./ExternalModule\");\n\nvar ExternalModuleFactoryPlugin = /*#__PURE__*/function () {\n  function ExternalModuleFactoryPlugin(type, externals) {\n    _classCallCheck(this, ExternalModuleFactoryPlugin);\n\n    this.type = type;\n    this.externals = externals;\n  }\n\n  _createClass(ExternalModuleFactoryPlugin, [{\n    key: \"apply\",\n    value: function apply(normalModuleFactory) {\n      var _this = this;\n\n      var globalType = this.type;\n      normalModuleFactory.hooks.factory.tap(\"ExternalModuleFactoryPlugin\", function (factory) {\n        return function (data, callback) {\n          var context = data.context;\n          var dependency = data.dependencies[0];\n\n          var handleExternal = function handleExternal(value, type, callback) {\n            if (typeof type === \"function\") {\n              callback = type;\n              type = undefined;\n            }\n\n            if (value === false) return factory(data, callback);\n            if (value === true) value = dependency.request;\n\n            if (type === undefined && /^[a-z0-9]+ /.test(value)) {\n              var idx = value.indexOf(\" \");\n              type = value.substr(0, idx);\n              value = value.substr(idx + 1);\n            }\n\n            callback(null, new ExternalModule(value, type || globalType, dependency.request));\n            return true;\n          };\n\n          var handleExternals = function handleExternals(externals, callback) {\n            if (typeof externals === \"string\") {\n              if (externals === dependency.request) {\n                return handleExternal(dependency.request, callback);\n              }\n            } else if (Array.isArray(externals)) {\n              var i = 0;\n\n              var next = function next() {\n                var asyncFlag;\n\n                var handleExternalsAndCallback = function handleExternalsAndCallback(err, module) {\n                  if (err) return callback(err);\n\n                  if (!module) {\n                    if (asyncFlag) {\n                      asyncFlag = false;\n                      return;\n                    }\n\n                    return next();\n                  }\n\n                  callback(null, module);\n                };\n\n                do {\n                  asyncFlag = true;\n                  if (i >= externals.length) return callback();\n                  handleExternals(externals[i++], handleExternalsAndCallback);\n                } while (!asyncFlag);\n\n                asyncFlag = false;\n              };\n\n              next();\n              return;\n            } else if (externals instanceof RegExp) {\n              if (externals.test(dependency.request)) {\n                return handleExternal(dependency.request, callback);\n              }\n            } else if (typeof externals === \"function\") {\n              externals.call(null, context, dependency.request, function (err, value, type) {\n                if (err) return callback(err);\n\n                if (value !== undefined) {\n                  handleExternal(value, type, callback);\n                } else {\n                  callback();\n                }\n              });\n              return;\n            } else if (typeof externals === \"object\" && Object.prototype.hasOwnProperty.call(externals, dependency.request)) {\n              return handleExternal(externals[dependency.request], callback);\n            }\n\n            callback();\n          };\n\n          handleExternals(_this.externals, function (err, module) {\n            if (err) return callback(err);\n            if (!module) return handleExternal(false, callback);\n            return callback(null, module);\n          });\n        };\n      });\n    }\n  }]);\n\n  return ExternalModuleFactoryPlugin;\n}();\n\nmodule.exports = ExternalModuleFactoryPlugin;","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/webpack/lib/ExternalModuleFactoryPlugin.js"],"names":["ExternalModule","require","ExternalModuleFactoryPlugin","type","externals","normalModuleFactory","globalType","hooks","factory","tap","data","callback","context","dependency","dependencies","handleExternal","value","undefined","request","test","idx","indexOf","substr","handleExternals","Array","isArray","i","next","asyncFlag","handleExternalsAndCallback","err","module","length","RegExp","call","Object","prototype","hasOwnProperty","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst ExternalModule = require(\"./ExternalModule\");\n\nclass ExternalModuleFactoryPlugin {\n\tconstructor(type, externals) {\n\t\tthis.type = type;\n\t\tthis.externals = externals;\n\t}\n\n\tapply(normalModuleFactory) {\n\t\tconst globalType = this.type;\n\t\tnormalModuleFactory.hooks.factory.tap(\n\t\t\t\"ExternalModuleFactoryPlugin\",\n\t\t\tfactory => (data, callback) => {\n\t\t\t\tconst context = data.context;\n\t\t\t\tconst dependency = data.dependencies[0];\n\n\t\t\t\tconst handleExternal = (value, type, callback) => {\n\t\t\t\t\tif (typeof type === \"function\") {\n\t\t\t\t\t\tcallback = type;\n\t\t\t\t\t\ttype = undefined;\n\t\t\t\t\t}\n\t\t\t\t\tif (value === false) return factory(data, callback);\n\t\t\t\t\tif (value === true) value = dependency.request;\n\t\t\t\t\tif (type === undefined && /^[a-z0-9]+ /.test(value)) {\n\t\t\t\t\t\tconst idx = value.indexOf(\" \");\n\t\t\t\t\t\ttype = value.substr(0, idx);\n\t\t\t\t\t\tvalue = value.substr(idx + 1);\n\t\t\t\t\t}\n\t\t\t\t\tcallback(\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tnew ExternalModule(value, type || globalType, dependency.request)\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\n\t\t\t\tconst handleExternals = (externals, callback) => {\n\t\t\t\t\tif (typeof externals === \"string\") {\n\t\t\t\t\t\tif (externals === dependency.request) {\n\t\t\t\t\t\t\treturn handleExternal(dependency.request, callback);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (Array.isArray(externals)) {\n\t\t\t\t\t\tlet i = 0;\n\t\t\t\t\t\tconst next = () => {\n\t\t\t\t\t\t\tlet asyncFlag;\n\t\t\t\t\t\t\tconst handleExternalsAndCallback = (err, module) => {\n\t\t\t\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\t\t\t\tif (!module) {\n\t\t\t\t\t\t\t\t\tif (asyncFlag) {\n\t\t\t\t\t\t\t\t\t\tasyncFlag = false;\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn next();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcallback(null, module);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\tasyncFlag = true;\n\t\t\t\t\t\t\t\tif (i >= externals.length) return callback();\n\t\t\t\t\t\t\t\thandleExternals(externals[i++], handleExternalsAndCallback);\n\t\t\t\t\t\t\t} while (!asyncFlag);\n\t\t\t\t\t\t\tasyncFlag = false;\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tnext();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (externals instanceof RegExp) {\n\t\t\t\t\t\tif (externals.test(dependency.request)) {\n\t\t\t\t\t\t\treturn handleExternal(dependency.request, callback);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof externals === \"function\") {\n\t\t\t\t\t\texternals.call(\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\tdependency.request,\n\t\t\t\t\t\t\t(err, value, type) => {\n\t\t\t\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\t\t\t\thandleExternal(value, type, callback);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\ttypeof externals === \"object\" &&\n\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(externals, dependency.request)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn handleExternal(externals[dependency.request], callback);\n\t\t\t\t\t}\n\t\t\t\t\tcallback();\n\t\t\t\t};\n\n\t\t\t\thandleExternals(this.externals, (err, module) => {\n\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\tif (!module) return handleExternal(false, callback);\n\t\t\t\t\treturn callback(null, module);\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t}\n}\nmodule.exports = ExternalModuleFactoryPlugin;\n"]},"metadata":{},"sourceType":"script"}