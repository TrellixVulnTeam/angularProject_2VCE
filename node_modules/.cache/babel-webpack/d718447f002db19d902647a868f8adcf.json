{"ast":null,"code":"/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n(function (factory) {\n  if (typeof module === \"object\" && typeof module.exports === \"object\") {\n    var v = factory(require, exports);\n    if (v !== undefined) module.exports = v;\n  } else if (typeof define === \"function\" && define.amd) {\n    define(\"@angular/compiler/src/schema/dom_element_schema_registry\", [\"require\", \"exports\", \"tslib\", \"@angular/compiler/src/core\", \"@angular/compiler/src/ml_parser/tags\", \"@angular/compiler/src/util\", \"@angular/compiler/src/schema/dom_security_schema\", \"@angular/compiler/src/schema/element_schema_registry\"], factory);\n  }\n})(function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.DomElementSchemaRegistry = void 0;\n\n  var tslib_1 = require(\"tslib\");\n\n  var core_1 = require(\"@angular/compiler/src/core\");\n\n  var tags_1 = require(\"@angular/compiler/src/ml_parser/tags\");\n\n  var util_1 = require(\"@angular/compiler/src/util\");\n\n  var dom_security_schema_1 = require(\"@angular/compiler/src/schema/dom_security_schema\");\n\n  var element_schema_registry_1 = require(\"@angular/compiler/src/schema/element_schema_registry\");\n\n  var BOOLEAN = 'boolean';\n  var NUMBER = 'number';\n  var STRING = 'string';\n  var OBJECT = 'object';\n  /**\n   * This array represents the DOM schema. It encodes inheritance, properties, and events.\n   *\n   * ## Overview\n   *\n   * Each line represents one kind of element. The `element_inheritance` and properties are joined\n   * using `element_inheritance|properties` syntax.\n   *\n   * ## Element Inheritance\n   *\n   * The `element_inheritance` can be further subdivided as `element1,element2,...^parentElement`.\n   * Here the individual elements are separated by `,` (commas). Every element in the list\n   * has identical properties.\n   *\n   * An `element` may inherit additional properties from `parentElement` If no `^parentElement` is\n   * specified then `\"\"` (blank) element is assumed.\n   *\n   * NOTE: The blank element inherits from root `[Element]` element, the super element of all\n   * elements.\n   *\n   * NOTE an element prefix such as `:svg:` has no special meaning to the schema.\n   *\n   * ## Properties\n   *\n   * Each element has a set of properties separated by `,` (commas). Each property can be prefixed\n   * by a special character designating its type:\n   *\n   * - (no prefix): property is a string.\n   * - `*`: property represents an event.\n   * - `!`: property is a boolean.\n   * - `#`: property is a number.\n   * - `%`: property is an object.\n   *\n   * ## Query\n   *\n   * The class creates an internal squas representation which allows to easily answer the query of\n   * if a given property exist on a given element.\n   *\n   * NOTE: We don't yet support querying for types or events.\n   * NOTE: This schema is auto extracted from `schema_extractor.ts` located in the test folder,\n   *       see dom_element_schema_registry_spec.ts\n   */\n  // =================================================================================================\n  // =================================================================================================\n  // =========== S T O P   -  S T O P   -  S T O P   -  S T O P   -  S T O P   -  S T O P  ===========\n  // =================================================================================================\n  // =================================================================================================\n  //\n  //                       DO NOT EDIT THIS DOM SCHEMA WITHOUT A SECURITY REVIEW!\n  //\n  // Newly added properties must be security reviewed and assigned an appropriate SecurityContext in\n  // dom_security_schema.ts. Reach out to mprobst & rjamet for details.\n  //\n  // =================================================================================================\n\n  var SCHEMA = ['[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot' +\n  /* added manually to avoid breaking changes */\n  ',*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored', '[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate', 'abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate', 'media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume', ':svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex', ':svg:graphics^:svg:|', ':svg:animation^:svg:|*begin,*end,*repeat', ':svg:geometry^:svg:|', ':svg:componentTransferFunction^:svg:|', ':svg:gradient^:svg:|', ':svg:textContent^:svg:graphics|', ':svg:textPositioning^:svg:textContent|', 'a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username', 'area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username', 'audio^media|', 'br^[HTMLElement]|clear', 'base^[HTMLElement]|href,target', 'body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink', 'button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value', 'canvas^[HTMLElement]|#height,#width', 'content^[HTMLElement]|select', 'dl^[HTMLElement]|!compact', 'datalist^[HTMLElement]|', 'details^[HTMLElement]|!open', 'dialog^[HTMLElement]|!open,returnValue', 'dir^[HTMLElement]|!compact', 'div^[HTMLElement]|align', 'embed^[HTMLElement]|align,height,name,src,type,width', 'fieldset^[HTMLElement]|!disabled,name', 'font^[HTMLElement]|color,face,size', 'form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target', 'frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src', 'frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows', 'hr^[HTMLElement]|align,color,!noShade,size,width', 'head^[HTMLElement]|', 'h1,h2,h3,h4,h5,h6^[HTMLElement]|align', 'html^[HTMLElement]|version', 'iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width', 'img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width', 'input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width', 'li^[HTMLElement]|type,#value', 'label^[HTMLElement]|htmlFor', 'legend^[HTMLElement]|align', 'link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type', 'map^[HTMLElement]|name', 'marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width', 'menu^[HTMLElement]|!compact', 'meta^[HTMLElement]|content,httpEquiv,name,scheme', 'meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value', 'ins,del^[HTMLElement]|cite,dateTime', 'ol^[HTMLElement]|!compact,!reversed,#start,type', 'object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width', 'optgroup^[HTMLElement]|!disabled,label', 'option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value', 'output^[HTMLElement]|defaultValue,%htmlFor,name,value', 'p^[HTMLElement]|align', 'param^[HTMLElement]|name,type,value,valueType', 'picture^[HTMLElement]|', 'pre^[HTMLElement]|#width', 'progress^[HTMLElement]|#max,#value', 'q,blockquote,cite^[HTMLElement]|', 'script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type', 'select^[HTMLElement]|autocomplete,!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value', 'shadow^[HTMLElement]|', 'slot^[HTMLElement]|name', 'source^[HTMLElement]|media,sizes,src,srcset,type', 'span^[HTMLElement]|', 'style^[HTMLElement]|!disabled,media,type', 'caption^[HTMLElement]|align', 'th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width', 'col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width', 'table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width', 'tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign', 'tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign', 'template^[HTMLElement]|', 'textarea^[HTMLElement]|autocapitalize,autocomplete,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap', 'title^[HTMLElement]|text', 'track^[HTMLElement]|!default,kind,label,src,srclang', 'ul^[HTMLElement]|!compact,type', 'unknown^[HTMLElement]|', 'video^media|#height,poster,#width', ':svg:a^:svg:graphics|', ':svg:animate^:svg:animation|', ':svg:animateMotion^:svg:animation|', ':svg:animateTransform^:svg:animation|', ':svg:circle^:svg:geometry|', ':svg:clipPath^:svg:graphics|', ':svg:defs^:svg:graphics|', ':svg:desc^:svg:|', ':svg:discard^:svg:|', ':svg:ellipse^:svg:geometry|', ':svg:feBlend^:svg:|', ':svg:feColorMatrix^:svg:|', ':svg:feComponentTransfer^:svg:|', ':svg:feComposite^:svg:|', ':svg:feConvolveMatrix^:svg:|', ':svg:feDiffuseLighting^:svg:|', ':svg:feDisplacementMap^:svg:|', ':svg:feDistantLight^:svg:|', ':svg:feDropShadow^:svg:|', ':svg:feFlood^:svg:|', ':svg:feFuncA^:svg:componentTransferFunction|', ':svg:feFuncB^:svg:componentTransferFunction|', ':svg:feFuncG^:svg:componentTransferFunction|', ':svg:feFuncR^:svg:componentTransferFunction|', ':svg:feGaussianBlur^:svg:|', ':svg:feImage^:svg:|', ':svg:feMerge^:svg:|', ':svg:feMergeNode^:svg:|', ':svg:feMorphology^:svg:|', ':svg:feOffset^:svg:|', ':svg:fePointLight^:svg:|', ':svg:feSpecularLighting^:svg:|', ':svg:feSpotLight^:svg:|', ':svg:feTile^:svg:|', ':svg:feTurbulence^:svg:|', ':svg:filter^:svg:|', ':svg:foreignObject^:svg:graphics|', ':svg:g^:svg:graphics|', ':svg:image^:svg:graphics|', ':svg:line^:svg:geometry|', ':svg:linearGradient^:svg:gradient|', ':svg:mpath^:svg:|', ':svg:marker^:svg:|', ':svg:mask^:svg:|', ':svg:metadata^:svg:|', ':svg:path^:svg:geometry|', ':svg:pattern^:svg:|', ':svg:polygon^:svg:geometry|', ':svg:polyline^:svg:geometry|', ':svg:radialGradient^:svg:gradient|', ':svg:rect^:svg:geometry|', ':svg:svg^:svg:graphics|#currentScale,#zoomAndPan', ':svg:script^:svg:|type', ':svg:set^:svg:animation|', ':svg:stop^:svg:|', ':svg:style^:svg:|!disabled,media,title,type', ':svg:switch^:svg:graphics|', ':svg:symbol^:svg:|', ':svg:tspan^:svg:textPositioning|', ':svg:text^:svg:textPositioning|', ':svg:textPath^:svg:textContent|', ':svg:title^:svg:|', ':svg:use^:svg:graphics|', ':svg:view^:svg:|#zoomAndPan', 'data^[HTMLElement]|value', 'keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name', 'menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default', 'summary^[HTMLElement]|', 'time^[HTMLElement]|dateTime', ':svg:cursor^:svg:|'];\n  var _ATTR_TO_PROP = {\n    'class': 'className',\n    'for': 'htmlFor',\n    'formaction': 'formAction',\n    'innerHtml': 'innerHTML',\n    'readonly': 'readOnly',\n    'tabindex': 'tabIndex'\n  }; // Invert _ATTR_TO_PROP.\n\n  var _PROP_TO_ATTR = Object.keys(_ATTR_TO_PROP).reduce(function (inverted, attr) {\n    inverted[_ATTR_TO_PROP[attr]] = attr;\n    return inverted;\n  }, {});\n\n  var DomElementSchemaRegistry =\n  /** @class */\n  function (_super) {\n    tslib_1.__extends(DomElementSchemaRegistry, _super);\n\n    function DomElementSchemaRegistry() {\n      var _this = _super.call(this) || this;\n\n      _this._schema = {};\n      SCHEMA.forEach(function (encodedType) {\n        var type = {};\n\n        var _a = tslib_1.__read(encodedType.split('|'), 2),\n            strType = _a[0],\n            strProperties = _a[1];\n\n        var properties = strProperties.split(',');\n\n        var _b = tslib_1.__read(strType.split('^'), 2),\n            typeNames = _b[0],\n            superName = _b[1];\n\n        typeNames.split(',').forEach(function (tag) {\n          return _this._schema[tag.toLowerCase()] = type;\n        });\n\n        var superType = superName && _this._schema[superName.toLowerCase()];\n\n        if (superType) {\n          Object.keys(superType).forEach(function (prop) {\n            type[prop] = superType[prop];\n          });\n        }\n\n        properties.forEach(function (property) {\n          if (property.length > 0) {\n            switch (property[0]) {\n              case '*':\n                // We don't yet support events.\n                // If ever allowing to bind to events, GO THROUGH A SECURITY REVIEW, allowing events\n                // will\n                // almost certainly introduce bad XSS vulnerabilities.\n                // type[property.substring(1)] = EVENT;\n                break;\n\n              case '!':\n                type[property.substring(1)] = BOOLEAN;\n                break;\n\n              case '#':\n                type[property.substring(1)] = NUMBER;\n                break;\n\n              case '%':\n                type[property.substring(1)] = OBJECT;\n                break;\n\n              default:\n                type[property] = STRING;\n            }\n          }\n        });\n      });\n      return _this;\n    }\n\n    DomElementSchemaRegistry.prototype.hasProperty = function (tagName, propName, schemaMetas) {\n      if (schemaMetas.some(function (schema) {\n        return schema.name === core_1.NO_ERRORS_SCHEMA.name;\n      })) {\n        return true;\n      }\n\n      if (tagName.indexOf('-') > -1) {\n        if (tags_1.isNgContainer(tagName) || tags_1.isNgContent(tagName)) {\n          return false;\n        }\n\n        if (schemaMetas.some(function (schema) {\n          return schema.name === core_1.CUSTOM_ELEMENTS_SCHEMA.name;\n        })) {\n          // Can't tell now as we don't know which properties a custom element will get\n          // once it is instantiated\n          return true;\n        }\n      }\n\n      var elementProperties = this._schema[tagName.toLowerCase()] || this._schema['unknown'];\n\n      return !!elementProperties[propName];\n    };\n\n    DomElementSchemaRegistry.prototype.hasElement = function (tagName, schemaMetas) {\n      if (schemaMetas.some(function (schema) {\n        return schema.name === core_1.NO_ERRORS_SCHEMA.name;\n      })) {\n        return true;\n      }\n\n      if (tagName.indexOf('-') > -1) {\n        if (tags_1.isNgContainer(tagName) || tags_1.isNgContent(tagName)) {\n          return true;\n        }\n\n        if (schemaMetas.some(function (schema) {\n          return schema.name === core_1.CUSTOM_ELEMENTS_SCHEMA.name;\n        })) {\n          // Allow any custom elements\n          return true;\n        }\n      }\n\n      return !!this._schema[tagName.toLowerCase()];\n    };\n    /**\n     * securityContext returns the security context for the given property on the given DOM tag.\n     *\n     * Tag and property name are statically known and cannot change at runtime, i.e. it is not\n     * possible to bind a value into a changing attribute or tag name.\n     *\n     * The filtering is based on a list of allowed tags|attributes. All attributes in the schema\n     * above are assumed to have the 'NONE' security context, i.e. that they are safe inert\n     * string values. Only specific well known attack vectors are assigned their appropriate context.\n     */\n\n\n    DomElementSchemaRegistry.prototype.securityContext = function (tagName, propName, isAttribute) {\n      if (isAttribute) {\n        // NB: For security purposes, use the mapped property name, not the attribute name.\n        propName = this.getMappedPropName(propName);\n      } // Make sure comparisons are case insensitive, so that case differences between attribute and\n      // property names do not have a security impact.\n\n\n      tagName = tagName.toLowerCase();\n      propName = propName.toLowerCase();\n      var ctx = dom_security_schema_1.SECURITY_SCHEMA()[tagName + '|' + propName];\n\n      if (ctx) {\n        return ctx;\n      }\n\n      ctx = dom_security_schema_1.SECURITY_SCHEMA()['*|' + propName];\n      return ctx ? ctx : core_1.SecurityContext.NONE;\n    };\n\n    DomElementSchemaRegistry.prototype.getMappedPropName = function (propName) {\n      return _ATTR_TO_PROP[propName] || propName;\n    };\n\n    DomElementSchemaRegistry.prototype.getDefaultComponentElementName = function () {\n      return 'ng-component';\n    };\n\n    DomElementSchemaRegistry.prototype.validateProperty = function (name) {\n      if (name.toLowerCase().startsWith('on')) {\n        var msg = \"Binding to event property '\" + name + \"' is disallowed for security reasons, \" + (\"please use (\" + name.slice(2) + \")=...\") + (\"\\nIf '\" + name + \"' is a directive input, make sure the directive is imported by the\") + \" current module.\";\n        return {\n          error: true,\n          msg: msg\n        };\n      } else {\n        return {\n          error: false\n        };\n      }\n    };\n\n    DomElementSchemaRegistry.prototype.validateAttribute = function (name) {\n      if (name.toLowerCase().startsWith('on')) {\n        var msg = \"Binding to event attribute '\" + name + \"' is disallowed for security reasons, \" + (\"please use (\" + name.slice(2) + \")=...\");\n        return {\n          error: true,\n          msg: msg\n        };\n      } else {\n        return {\n          error: false\n        };\n      }\n    };\n\n    DomElementSchemaRegistry.prototype.allKnownElementNames = function () {\n      return Object.keys(this._schema);\n    };\n\n    DomElementSchemaRegistry.prototype.allKnownAttributesOfElement = function (tagName) {\n      var elementProperties = this._schema[tagName.toLowerCase()] || this._schema['unknown']; // Convert properties to attributes.\n\n\n      return Object.keys(elementProperties).map(function (prop) {\n        var _a;\n\n        return (_a = _PROP_TO_ATTR[prop]) !== null && _a !== void 0 ? _a : prop;\n      });\n    };\n\n    DomElementSchemaRegistry.prototype.normalizeAnimationStyleProperty = function (propName) {\n      return util_1.dashCaseToCamelCase(propName);\n    };\n\n    DomElementSchemaRegistry.prototype.normalizeAnimationStyleValue = function (camelCaseProp, userProvidedProp, val) {\n      var unit = '';\n      var strVal = val.toString().trim();\n      var errorMsg = null;\n\n      if (_isPixelDimensionStyle(camelCaseProp) && val !== 0 && val !== '0') {\n        if (typeof val === 'number') {\n          unit = 'px';\n        } else {\n          var valAndSuffixMatch = val.match(/^[+-]?[\\d\\.]+([a-z]*)$/);\n\n          if (valAndSuffixMatch && valAndSuffixMatch[1].length == 0) {\n            errorMsg = \"Please provide a CSS unit value for \" + userProvidedProp + \":\" + val;\n          }\n        }\n      }\n\n      return {\n        error: errorMsg,\n        value: strVal + unit\n      };\n    };\n\n    return DomElementSchemaRegistry;\n  }(element_schema_registry_1.ElementSchemaRegistry);\n\n  exports.DomElementSchemaRegistry = DomElementSchemaRegistry;\n\n  function _isPixelDimensionStyle(prop) {\n    switch (prop) {\n      case 'width':\n      case 'height':\n      case 'minWidth':\n      case 'minHeight':\n      case 'maxWidth':\n      case 'maxHeight':\n      case 'left':\n      case 'top':\n      case 'bottom':\n      case 'right':\n      case 'fontSize':\n      case 'outlineWidth':\n      case 'outlineOffset':\n      case 'paddingTop':\n      case 'paddingLeft':\n      case 'paddingBottom':\n      case 'paddingRight':\n      case 'marginTop':\n      case 'marginLeft':\n      case 'marginBottom':\n      case 'marginRight':\n      case 'borderRadius':\n      case 'borderWidth':\n      case 'borderTopWidth':\n      case 'borderLeftWidth':\n      case 'borderRightWidth':\n      case 'borderBottomWidth':\n      case 'textIndent':\n        return true;\n\n      default:\n        return false;\n    }\n  }\n});","map":{"version":3,"sources":["../../../../../../../packages/compiler/src/schema/dom_element_schema_registry.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA, SchemaMetadata, SecurityContext} from '../core';\n\nimport {isNgContainer, isNgContent} from '../ml_parser/tags';\nimport {dashCaseToCamelCase} from '../util';\n\nimport {SECURITY_SCHEMA} from './dom_security_schema';\nimport {ElementSchemaRegistry} from './element_schema_registry';\n\nconst BOOLEAN = 'boolean';\nconst NUMBER = 'number';\nconst STRING = 'string';\nconst OBJECT = 'object';\n\n/**\n * This array represents the DOM schema. It encodes inheritance, properties, and events.\n *\n * ## Overview\n *\n * Each line represents one kind of element. The `element_inheritance` and properties are joined\n * using `element_inheritance|properties` syntax.\n *\n * ## Element Inheritance\n *\n * The `element_inheritance` can be further subdivided as `element1,element2,...^parentElement`.\n * Here the individual elements are separated by `,` (commas). Every element in the list\n * has identical properties.\n *\n * An `element` may inherit additional properties from `parentElement` If no `^parentElement` is\n * specified then `\"\"` (blank) element is assumed.\n *\n * NOTE: The blank element inherits from root `[Element]` element, the super element of all\n * elements.\n *\n * NOTE an element prefix such as `:svg:` has no special meaning to the schema.\n *\n * ## Properties\n *\n * Each element has a set of properties separated by `,` (commas). Each property can be prefixed\n * by a special character designating its type:\n *\n * - (no prefix): property is a string.\n * - `*`: property represents an event.\n * - `!`: property is a boolean.\n * - `#`: property is a number.\n * - `%`: property is an object.\n *\n * ## Query\n *\n * The class creates an internal squas representation which allows to easily answer the query of\n * if a given property exist on a given element.\n *\n * NOTE: We don't yet support querying for types or events.\n * NOTE: This schema is auto extracted from `schema_extractor.ts` located in the test folder,\n *       see dom_element_schema_registry_spec.ts\n */\n\n// =================================================================================================\n// =================================================================================================\n// =========== S T O P   -  S T O P   -  S T O P   -  S T O P   -  S T O P   -  S T O P  ===========\n// =================================================================================================\n// =================================================================================================\n//\n//                       DO NOT EDIT THIS DOM SCHEMA WITHOUT A SECURITY REVIEW!\n//\n// Newly added properties must be security reviewed and assigned an appropriate SecurityContext in\n// dom_security_schema.ts. Reach out to mprobst & rjamet for details.\n//\n// =================================================================================================\n\nconst SCHEMA: string[] = [\n  '[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot' +\n      /* added manually to avoid breaking changes */\n      ',*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored',\n  '[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate',\n  'abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate',\n  'media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume',\n  ':svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex',\n  ':svg:graphics^:svg:|',\n  ':svg:animation^:svg:|*begin,*end,*repeat',\n  ':svg:geometry^:svg:|',\n  ':svg:componentTransferFunction^:svg:|',\n  ':svg:gradient^:svg:|',\n  ':svg:textContent^:svg:graphics|',\n  ':svg:textPositioning^:svg:textContent|',\n  'a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username',\n  'area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username',\n  'audio^media|',\n  'br^[HTMLElement]|clear',\n  'base^[HTMLElement]|href,target',\n  'body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink',\n  'button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value',\n  'canvas^[HTMLElement]|#height,#width',\n  'content^[HTMLElement]|select',\n  'dl^[HTMLElement]|!compact',\n  'datalist^[HTMLElement]|',\n  'details^[HTMLElement]|!open',\n  'dialog^[HTMLElement]|!open,returnValue',\n  'dir^[HTMLElement]|!compact',\n  'div^[HTMLElement]|align',\n  'embed^[HTMLElement]|align,height,name,src,type,width',\n  'fieldset^[HTMLElement]|!disabled,name',\n  'font^[HTMLElement]|color,face,size',\n  'form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target',\n  'frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src',\n  'frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows',\n  'hr^[HTMLElement]|align,color,!noShade,size,width',\n  'head^[HTMLElement]|',\n  'h1,h2,h3,h4,h5,h6^[HTMLElement]|align',\n  'html^[HTMLElement]|version',\n  'iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width',\n  'img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width',\n  'input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width',\n  'li^[HTMLElement]|type,#value',\n  'label^[HTMLElement]|htmlFor',\n  'legend^[HTMLElement]|align',\n  'link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type',\n  'map^[HTMLElement]|name',\n  'marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width',\n  'menu^[HTMLElement]|!compact',\n  'meta^[HTMLElement]|content,httpEquiv,name,scheme',\n  'meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value',\n  'ins,del^[HTMLElement]|cite,dateTime',\n  'ol^[HTMLElement]|!compact,!reversed,#start,type',\n  'object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width',\n  'optgroup^[HTMLElement]|!disabled,label',\n  'option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value',\n  'output^[HTMLElement]|defaultValue,%htmlFor,name,value',\n  'p^[HTMLElement]|align',\n  'param^[HTMLElement]|name,type,value,valueType',\n  'picture^[HTMLElement]|',\n  'pre^[HTMLElement]|#width',\n  'progress^[HTMLElement]|#max,#value',\n  'q,blockquote,cite^[HTMLElement]|',\n  'script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type',\n  'select^[HTMLElement]|autocomplete,!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value',\n  'shadow^[HTMLElement]|',\n  'slot^[HTMLElement]|name',\n  'source^[HTMLElement]|media,sizes,src,srcset,type',\n  'span^[HTMLElement]|',\n  'style^[HTMLElement]|!disabled,media,type',\n  'caption^[HTMLElement]|align',\n  'th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width',\n  'col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width',\n  'table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width',\n  'tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign',\n  'tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign',\n  'template^[HTMLElement]|',\n  'textarea^[HTMLElement]|autocapitalize,autocomplete,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap',\n  'title^[HTMLElement]|text',\n  'track^[HTMLElement]|!default,kind,label,src,srclang',\n  'ul^[HTMLElement]|!compact,type',\n  'unknown^[HTMLElement]|',\n  'video^media|#height,poster,#width',\n  ':svg:a^:svg:graphics|',\n  ':svg:animate^:svg:animation|',\n  ':svg:animateMotion^:svg:animation|',\n  ':svg:animateTransform^:svg:animation|',\n  ':svg:circle^:svg:geometry|',\n  ':svg:clipPath^:svg:graphics|',\n  ':svg:defs^:svg:graphics|',\n  ':svg:desc^:svg:|',\n  ':svg:discard^:svg:|',\n  ':svg:ellipse^:svg:geometry|',\n  ':svg:feBlend^:svg:|',\n  ':svg:feColorMatrix^:svg:|',\n  ':svg:feComponentTransfer^:svg:|',\n  ':svg:feComposite^:svg:|',\n  ':svg:feConvolveMatrix^:svg:|',\n  ':svg:feDiffuseLighting^:svg:|',\n  ':svg:feDisplacementMap^:svg:|',\n  ':svg:feDistantLight^:svg:|',\n  ':svg:feDropShadow^:svg:|',\n  ':svg:feFlood^:svg:|',\n  ':svg:feFuncA^:svg:componentTransferFunction|',\n  ':svg:feFuncB^:svg:componentTransferFunction|',\n  ':svg:feFuncG^:svg:componentTransferFunction|',\n  ':svg:feFuncR^:svg:componentTransferFunction|',\n  ':svg:feGaussianBlur^:svg:|',\n  ':svg:feImage^:svg:|',\n  ':svg:feMerge^:svg:|',\n  ':svg:feMergeNode^:svg:|',\n  ':svg:feMorphology^:svg:|',\n  ':svg:feOffset^:svg:|',\n  ':svg:fePointLight^:svg:|',\n  ':svg:feSpecularLighting^:svg:|',\n  ':svg:feSpotLight^:svg:|',\n  ':svg:feTile^:svg:|',\n  ':svg:feTurbulence^:svg:|',\n  ':svg:filter^:svg:|',\n  ':svg:foreignObject^:svg:graphics|',\n  ':svg:g^:svg:graphics|',\n  ':svg:image^:svg:graphics|',\n  ':svg:line^:svg:geometry|',\n  ':svg:linearGradient^:svg:gradient|',\n  ':svg:mpath^:svg:|',\n  ':svg:marker^:svg:|',\n  ':svg:mask^:svg:|',\n  ':svg:metadata^:svg:|',\n  ':svg:path^:svg:geometry|',\n  ':svg:pattern^:svg:|',\n  ':svg:polygon^:svg:geometry|',\n  ':svg:polyline^:svg:geometry|',\n  ':svg:radialGradient^:svg:gradient|',\n  ':svg:rect^:svg:geometry|',\n  ':svg:svg^:svg:graphics|#currentScale,#zoomAndPan',\n  ':svg:script^:svg:|type',\n  ':svg:set^:svg:animation|',\n  ':svg:stop^:svg:|',\n  ':svg:style^:svg:|!disabled,media,title,type',\n  ':svg:switch^:svg:graphics|',\n  ':svg:symbol^:svg:|',\n  ':svg:tspan^:svg:textPositioning|',\n  ':svg:text^:svg:textPositioning|',\n  ':svg:textPath^:svg:textContent|',\n  ':svg:title^:svg:|',\n  ':svg:use^:svg:graphics|',\n  ':svg:view^:svg:|#zoomAndPan',\n  'data^[HTMLElement]|value',\n  'keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name',\n  'menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default',\n  'summary^[HTMLElement]|',\n  'time^[HTMLElement]|dateTime',\n  ':svg:cursor^:svg:|',\n];\n\nconst _ATTR_TO_PROP: {[name: string]: string} = {\n  'class': 'className',\n  'for': 'htmlFor',\n  'formaction': 'formAction',\n  'innerHtml': 'innerHTML',\n  'readonly': 'readOnly',\n  'tabindex': 'tabIndex',\n};\n\n// Invert _ATTR_TO_PROP.\nconst _PROP_TO_ATTR: {[name: string]: string} =\n    Object.keys(_ATTR_TO_PROP).reduce((inverted, attr) => {\n      inverted[_ATTR_TO_PROP[attr]] = attr;\n      return inverted;\n    }, {} as {[prop: string]: string});\n\nexport class DomElementSchemaRegistry extends ElementSchemaRegistry {\n  private _schema: {[element: string]: {[property: string]: string}} = {};\n\n  constructor() {\n    super();\n    SCHEMA.forEach(encodedType => {\n      const type: {[property: string]: string} = {};\n      const [strType, strProperties] = encodedType.split('|');\n      const properties = strProperties.split(',');\n      const [typeNames, superName] = strType.split('^');\n      typeNames.split(',').forEach(tag => this._schema[tag.toLowerCase()] = type);\n      const superType = superName && this._schema[superName.toLowerCase()];\n      if (superType) {\n        Object.keys(superType).forEach((prop: string) => {\n          type[prop] = superType[prop];\n        });\n      }\n      properties.forEach((property: string) => {\n        if (property.length > 0) {\n          switch (property[0]) {\n            case '*':\n              // We don't yet support events.\n              // If ever allowing to bind to events, GO THROUGH A SECURITY REVIEW, allowing events\n              // will\n              // almost certainly introduce bad XSS vulnerabilities.\n              // type[property.substring(1)] = EVENT;\n              break;\n            case '!':\n              type[property.substring(1)] = BOOLEAN;\n              break;\n            case '#':\n              type[property.substring(1)] = NUMBER;\n              break;\n            case '%':\n              type[property.substring(1)] = OBJECT;\n              break;\n            default:\n              type[property] = STRING;\n          }\n        }\n      });\n    });\n  }\n\n  hasProperty(tagName: string, propName: string, schemaMetas: SchemaMetadata[]): boolean {\n    if (schemaMetas.some((schema) => schema.name === NO_ERRORS_SCHEMA.name)) {\n      return true;\n    }\n\n    if (tagName.indexOf('-') > -1) {\n      if (isNgContainer(tagName) || isNgContent(tagName)) {\n        return false;\n      }\n\n      if (schemaMetas.some((schema) => schema.name === CUSTOM_ELEMENTS_SCHEMA.name)) {\n        // Can't tell now as we don't know which properties a custom element will get\n        // once it is instantiated\n        return true;\n      }\n    }\n\n    const elementProperties = this._schema[tagName.toLowerCase()] || this._schema['unknown'];\n    return !!elementProperties[propName];\n  }\n\n  hasElement(tagName: string, schemaMetas: SchemaMetadata[]): boolean {\n    if (schemaMetas.some((schema) => schema.name === NO_ERRORS_SCHEMA.name)) {\n      return true;\n    }\n\n    if (tagName.indexOf('-') > -1) {\n      if (isNgContainer(tagName) || isNgContent(tagName)) {\n        return true;\n      }\n\n      if (schemaMetas.some((schema) => schema.name === CUSTOM_ELEMENTS_SCHEMA.name)) {\n        // Allow any custom elements\n        return true;\n      }\n    }\n\n    return !!this._schema[tagName.toLowerCase()];\n  }\n\n  /**\n   * securityContext returns the security context for the given property on the given DOM tag.\n   *\n   * Tag and property name are statically known and cannot change at runtime, i.e. it is not\n   * possible to bind a value into a changing attribute or tag name.\n   *\n   * The filtering is based on a list of allowed tags|attributes. All attributes in the schema\n   * above are assumed to have the 'NONE' security context, i.e. that they are safe inert\n   * string values. Only specific well known attack vectors are assigned their appropriate context.\n   */\n  securityContext(tagName: string, propName: string, isAttribute: boolean): SecurityContext {\n    if (isAttribute) {\n      // NB: For security purposes, use the mapped property name, not the attribute name.\n      propName = this.getMappedPropName(propName);\n    }\n\n    // Make sure comparisons are case insensitive, so that case differences between attribute and\n    // property names do not have a security impact.\n    tagName = tagName.toLowerCase();\n    propName = propName.toLowerCase();\n    let ctx = SECURITY_SCHEMA()[tagName + '|' + propName];\n    if (ctx) {\n      return ctx;\n    }\n    ctx = SECURITY_SCHEMA()['*|' + propName];\n    return ctx ? ctx : SecurityContext.NONE;\n  }\n\n  getMappedPropName(propName: string): string {\n    return _ATTR_TO_PROP[propName] || propName;\n  }\n\n  getDefaultComponentElementName(): string {\n    return 'ng-component';\n  }\n\n  validateProperty(name: string): {error: boolean, msg?: string} {\n    if (name.toLowerCase().startsWith('on')) {\n      const msg = `Binding to event property '${name}' is disallowed for security reasons, ` +\n          `please use (${name.slice(2)})=...` +\n          `\\nIf '${name}' is a directive input, make sure the directive is imported by the` +\n          ` current module.`;\n      return {error: true, msg: msg};\n    } else {\n      return {error: false};\n    }\n  }\n\n  validateAttribute(name: string): {error: boolean, msg?: string} {\n    if (name.toLowerCase().startsWith('on')) {\n      const msg = `Binding to event attribute '${name}' is disallowed for security reasons, ` +\n          `please use (${name.slice(2)})=...`;\n      return {error: true, msg: msg};\n    } else {\n      return {error: false};\n    }\n  }\n\n  allKnownElementNames(): string[] {\n    return Object.keys(this._schema);\n  }\n\n  allKnownAttributesOfElement(tagName: string): string[] {\n    const elementProperties = this._schema[tagName.toLowerCase()] || this._schema['unknown'];\n    // Convert properties to attributes.\n    return Object.keys(elementProperties).map(prop => _PROP_TO_ATTR[prop] ?? prop);\n  }\n\n  normalizeAnimationStyleProperty(propName: string): string {\n    return dashCaseToCamelCase(propName);\n  }\n\n  normalizeAnimationStyleValue(camelCaseProp: string, userProvidedProp: string, val: string|number):\n      {error: string, value: string} {\n    let unit: string = '';\n    const strVal = val.toString().trim();\n    let errorMsg: string = null!;\n\n    if (_isPixelDimensionStyle(camelCaseProp) && val !== 0 && val !== '0') {\n      if (typeof val === 'number') {\n        unit = 'px';\n      } else {\n        const valAndSuffixMatch = val.match(/^[+-]?[\\d\\.]+([a-z]*)$/);\n        if (valAndSuffixMatch && valAndSuffixMatch[1].length == 0) {\n          errorMsg = `Please provide a CSS unit value for ${userProvidedProp}:${val}`;\n        }\n      }\n    }\n    return {error: errorMsg, value: strVal + unit};\n  }\n}\n\nfunction _isPixelDimensionStyle(prop: string): boolean {\n  switch (prop) {\n    case 'width':\n    case 'height':\n    case 'minWidth':\n    case 'minHeight':\n    case 'maxWidth':\n    case 'maxHeight':\n    case 'left':\n    case 'top':\n    case 'bottom':\n    case 'right':\n    case 'fontSize':\n    case 'outlineWidth':\n    case 'outlineOffset':\n    case 'paddingTop':\n    case 'paddingLeft':\n    case 'paddingBottom':\n    case 'paddingRight':\n    case 'marginTop':\n    case 'marginLeft':\n    case 'marginBottom':\n    case 'marginRight':\n    case 'borderRadius':\n    case 'borderWidth':\n    case 'borderTopWidth':\n    case 'borderLeftWidth':\n    case 'borderRightWidth':\n    case 'borderBottomWidth':\n    case 'textIndent':\n      return true;\n\n    default:\n      return false;\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}