{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nvar _classCallCheck = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createClass\");\n\nvar path = require(\"path\");\n\nvar ParserHelpers = require(\"./ParserHelpers\");\n\nvar CommonJsStuffPlugin = /*#__PURE__*/function () {\n  function CommonJsStuffPlugin() {\n    _classCallCheck(this, CommonJsStuffPlugin);\n  }\n\n  _createClass(CommonJsStuffPlugin, [{\n    key: \"apply\",\n    value: function apply(compiler) {\n      compiler.hooks.compilation.tap(\"CommonJsStuffPlugin\", function (compilation, _ref) {\n        var normalModuleFactory = _ref.normalModuleFactory;\n\n        var handler = function handler(parser, parserOptions) {\n          parser.hooks.expression.for(\"require.main.require\").tap(\"CommonJsStuffPlugin\", ParserHelpers.expressionIsUnsupported(parser, \"require.main.require is not supported by webpack.\"));\n          parser.hooks.expression.for(\"module.parent.require\").tap(\"CommonJsStuffPlugin\", ParserHelpers.expressionIsUnsupported(parser, \"module.parent.require is not supported by webpack.\"));\n          parser.hooks.expression.for(\"require.main\").tap(\"CommonJsStuffPlugin\", ParserHelpers.toConstantDependencyWithWebpackRequire(parser, \"__webpack_require__.c[__webpack_require__.s]\"));\n          parser.hooks.expression.for(\"module.loaded\").tap(\"CommonJsStuffPlugin\", function (expr) {\n            parser.state.module.buildMeta.moduleConcatenationBailout = \"module.loaded\";\n            return ParserHelpers.toConstantDependency(parser, \"module.l\")(expr);\n          });\n          parser.hooks.expression.for(\"module.id\").tap(\"CommonJsStuffPlugin\", function (expr) {\n            parser.state.module.buildMeta.moduleConcatenationBailout = \"module.id\";\n            return ParserHelpers.toConstantDependency(parser, \"module.i\")(expr);\n          });\n          parser.hooks.expression.for(\"module.exports\").tap(\"CommonJsStuffPlugin\", function () {\n            var module = parser.state.module;\n            var isHarmony = module.buildMeta && module.buildMeta.exportsType;\n            if (!isHarmony) return true;\n          });\n          parser.hooks.evaluateIdentifier.for(\"module.hot\").tap(\"CommonJsStuffPlugin\", ParserHelpers.evaluateToIdentifier(\"module.hot\", false));\n          parser.hooks.expression.for(\"module\").tap(\"CommonJsStuffPlugin\", function () {\n            var module = parser.state.module;\n            var isHarmony = module.buildMeta && module.buildMeta.exportsType;\n            var moduleJsPath = path.join(__dirname, \"..\", \"buildin\", isHarmony ? \"harmony-module.js\" : \"module.js\");\n\n            if (module.context) {\n              moduleJsPath = path.relative(parser.state.module.context, moduleJsPath);\n\n              if (!/^[A-Z]:/i.test(moduleJsPath)) {\n                moduleJsPath = \"./\".concat(moduleJsPath.replace(/\\\\/g, \"/\"));\n              }\n            }\n\n            return ParserHelpers.addParsedVariableToModule(parser, \"module\", \"require(\".concat(JSON.stringify(moduleJsPath), \")(module)\"));\n          });\n        };\n\n        normalModuleFactory.hooks.parser.for(\"javascript/auto\").tap(\"CommonJsStuffPlugin\", handler);\n        normalModuleFactory.hooks.parser.for(\"javascript/dynamic\").tap(\"CommonJsStuffPlugin\", handler);\n      });\n    }\n  }]);\n\n  return CommonJsStuffPlugin;\n}();\n\nmodule.exports = CommonJsStuffPlugin;","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/webpack/lib/CommonJsStuffPlugin.js"],"names":["path","require","ParserHelpers","CommonJsStuffPlugin","compiler","hooks","compilation","tap","normalModuleFactory","handler","parser","parserOptions","expression","for","expressionIsUnsupported","toConstantDependencyWithWebpackRequire","expr","state","module","buildMeta","moduleConcatenationBailout","toConstantDependency","isHarmony","exportsType","evaluateIdentifier","evaluateToIdentifier","moduleJsPath","join","__dirname","context","relative","test","replace","addParsedVariableToModule","JSON","stringify","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst path = require(\"path\");\nconst ParserHelpers = require(\"./ParserHelpers\");\n\nclass CommonJsStuffPlugin {\n\tapply(compiler) {\n\t\tcompiler.hooks.compilation.tap(\n\t\t\t\"CommonJsStuffPlugin\",\n\t\t\t(compilation, { normalModuleFactory }) => {\n\t\t\t\tconst handler = (parser, parserOptions) => {\n\t\t\t\t\tparser.hooks.expression\n\t\t\t\t\t\t.for(\"require.main.require\")\n\t\t\t\t\t\t.tap(\n\t\t\t\t\t\t\t\"CommonJsStuffPlugin\",\n\t\t\t\t\t\t\tParserHelpers.expressionIsUnsupported(\n\t\t\t\t\t\t\t\tparser,\n\t\t\t\t\t\t\t\t\"require.main.require is not supported by webpack.\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\tparser.hooks.expression\n\t\t\t\t\t\t.for(\"module.parent.require\")\n\t\t\t\t\t\t.tap(\n\t\t\t\t\t\t\t\"CommonJsStuffPlugin\",\n\t\t\t\t\t\t\tParserHelpers.expressionIsUnsupported(\n\t\t\t\t\t\t\t\tparser,\n\t\t\t\t\t\t\t\t\"module.parent.require is not supported by webpack.\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\tparser.hooks.expression\n\t\t\t\t\t\t.for(\"require.main\")\n\t\t\t\t\t\t.tap(\n\t\t\t\t\t\t\t\"CommonJsStuffPlugin\",\n\t\t\t\t\t\t\tParserHelpers.toConstantDependencyWithWebpackRequire(\n\t\t\t\t\t\t\t\tparser,\n\t\t\t\t\t\t\t\t\"__webpack_require__.c[__webpack_require__.s]\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\tparser.hooks.expression\n\t\t\t\t\t\t.for(\"module.loaded\")\n\t\t\t\t\t\t.tap(\"CommonJsStuffPlugin\", expr => {\n\t\t\t\t\t\t\tparser.state.module.buildMeta.moduleConcatenationBailout =\n\t\t\t\t\t\t\t\t\"module.loaded\";\n\t\t\t\t\t\t\treturn ParserHelpers.toConstantDependency(\n\t\t\t\t\t\t\t\tparser,\n\t\t\t\t\t\t\t\t\"module.l\"\n\t\t\t\t\t\t\t)(expr);\n\t\t\t\t\t\t});\n\t\t\t\t\tparser.hooks.expression\n\t\t\t\t\t\t.for(\"module.id\")\n\t\t\t\t\t\t.tap(\"CommonJsStuffPlugin\", expr => {\n\t\t\t\t\t\t\tparser.state.module.buildMeta.moduleConcatenationBailout =\n\t\t\t\t\t\t\t\t\"module.id\";\n\t\t\t\t\t\t\treturn ParserHelpers.toConstantDependency(\n\t\t\t\t\t\t\t\tparser,\n\t\t\t\t\t\t\t\t\"module.i\"\n\t\t\t\t\t\t\t)(expr);\n\t\t\t\t\t\t});\n\t\t\t\t\tparser.hooks.expression\n\t\t\t\t\t\t.for(\"module.exports\")\n\t\t\t\t\t\t.tap(\"CommonJsStuffPlugin\", () => {\n\t\t\t\t\t\t\tconst module = parser.state.module;\n\t\t\t\t\t\t\tconst isHarmony =\n\t\t\t\t\t\t\t\tmodule.buildMeta && module.buildMeta.exportsType;\n\t\t\t\t\t\t\tif (!isHarmony) return true;\n\t\t\t\t\t\t});\n\t\t\t\t\tparser.hooks.evaluateIdentifier\n\t\t\t\t\t\t.for(\"module.hot\")\n\t\t\t\t\t\t.tap(\n\t\t\t\t\t\t\t\"CommonJsStuffPlugin\",\n\t\t\t\t\t\t\tParserHelpers.evaluateToIdentifier(\"module.hot\", false)\n\t\t\t\t\t\t);\n\t\t\t\t\tparser.hooks.expression\n\t\t\t\t\t\t.for(\"module\")\n\t\t\t\t\t\t.tap(\"CommonJsStuffPlugin\", () => {\n\t\t\t\t\t\t\tconst module = parser.state.module;\n\t\t\t\t\t\t\tconst isHarmony =\n\t\t\t\t\t\t\t\tmodule.buildMeta && module.buildMeta.exportsType;\n\t\t\t\t\t\t\tlet moduleJsPath = path.join(\n\t\t\t\t\t\t\t\t__dirname,\n\t\t\t\t\t\t\t\t\"..\",\n\t\t\t\t\t\t\t\t\"buildin\",\n\t\t\t\t\t\t\t\tisHarmony ? \"harmony-module.js\" : \"module.js\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (module.context) {\n\t\t\t\t\t\t\t\tmoduleJsPath = path.relative(\n\t\t\t\t\t\t\t\t\tparser.state.module.context,\n\t\t\t\t\t\t\t\t\tmoduleJsPath\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tif (!/^[A-Z]:/i.test(moduleJsPath)) {\n\t\t\t\t\t\t\t\t\tmoduleJsPath = `./${moduleJsPath.replace(/\\\\/g, \"/\")}`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn ParserHelpers.addParsedVariableToModule(\n\t\t\t\t\t\t\t\tparser,\n\t\t\t\t\t\t\t\t\"module\",\n\t\t\t\t\t\t\t\t`require(${JSON.stringify(moduleJsPath)})(module)`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tnormalModuleFactory.hooks.parser\n\t\t\t\t\t.for(\"javascript/auto\")\n\t\t\t\t\t.tap(\"CommonJsStuffPlugin\", handler);\n\t\t\t\tnormalModuleFactory.hooks.parser\n\t\t\t\t\t.for(\"javascript/dynamic\")\n\t\t\t\t\t.tap(\"CommonJsStuffPlugin\", handler);\n\t\t\t}\n\t\t);\n\t}\n}\nmodule.exports = CommonJsStuffPlugin;\n"]},"metadata":{},"sourceType":"script"}