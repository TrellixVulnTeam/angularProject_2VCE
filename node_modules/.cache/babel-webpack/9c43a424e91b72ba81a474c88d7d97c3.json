{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createSuper\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar stream_1 = require(\"stream\");\n\nvar fsStat = require(\"@nodelib/fs.stat\");\n\nvar fsWalk = require(\"@nodelib/fs.walk\");\n\nvar reader_1 = require(\"./reader\");\n\nvar ReaderStream = /*#__PURE__*/function (_reader_1$default) {\n  _inherits(ReaderStream, _reader_1$default);\n\n  var _super = _createSuper(ReaderStream);\n\n  function ReaderStream() {\n    var _this;\n\n    _classCallCheck(this, ReaderStream);\n\n    _this = _super.apply(this, arguments);\n    _this._walkStream = fsWalk.walkStream;\n    _this._stat = fsStat.stat;\n    return _this;\n  }\n\n  _createClass(ReaderStream, [{\n    key: \"dynamic\",\n    value: function dynamic(root, options) {\n      return this._walkStream(root, options);\n    }\n  }, {\n    key: \"static\",\n    value: function _static(patterns, options) {\n      var _this2 = this;\n\n      var filepaths = patterns.map(this._getFullEntryPath, this);\n      var stream = new stream_1.PassThrough({\n        objectMode: true\n      });\n\n      stream._write = function (index, _enc, done) {\n        return _this2._getEntry(filepaths[index], patterns[index], options).then(function (entry) {\n          if (entry !== null && options.entryFilter(entry)) {\n            stream.push(entry);\n          }\n\n          if (index === filepaths.length - 1) {\n            stream.end();\n          }\n\n          done();\n        }).catch(done);\n      };\n\n      for (var i = 0; i < filepaths.length; i++) {\n        stream.write(i);\n      }\n\n      return stream;\n    }\n  }, {\n    key: \"_getEntry\",\n    value: function _getEntry(filepath, pattern, options) {\n      var _this3 = this;\n\n      return this._getStat(filepath).then(function (stats) {\n        return _this3._makeEntry(stats, pattern);\n      }).catch(function (error) {\n        if (options.errorFilter(error)) {\n          return null;\n        }\n\n        throw error;\n      });\n    }\n  }, {\n    key: \"_getStat\",\n    value: function _getStat(filepath) {\n      var _this4 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this4._stat(filepath, _this4._fsStatSettings, function (error, stats) {\n          return error === null ? resolve(stats) : reject(error);\n        });\n      });\n    }\n  }]);\n\n  return ReaderStream;\n}(reader_1.default);\n\nexports.default = ReaderStream;","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/fast-glob/out/readers/stream.js"],"names":["Object","defineProperty","exports","value","stream_1","require","fsStat","fsWalk","reader_1","ReaderStream","arguments","_walkStream","walkStream","_stat","stat","root","options","patterns","filepaths","map","_getFullEntryPath","stream","PassThrough","objectMode","_write","index","_enc","done","_getEntry","then","entry","entryFilter","push","length","end","catch","i","write","filepath","pattern","_getStat","stats","_makeEntry","error","errorFilter","Promise","resolve","reject","_fsStatSettings","default"],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst stream_1 = require(\"stream\");\r\nconst fsStat = require(\"@nodelib/fs.stat\");\r\nconst fsWalk = require(\"@nodelib/fs.walk\");\r\nconst reader_1 = require(\"./reader\");\r\nclass ReaderStream extends reader_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._walkStream = fsWalk.walkStream;\r\n        this._stat = fsStat.stat;\r\n    }\r\n    dynamic(root, options) {\r\n        return this._walkStream(root, options);\r\n    }\r\n    static(patterns, options) {\r\n        const filepaths = patterns.map(this._getFullEntryPath, this);\r\n        const stream = new stream_1.PassThrough({ objectMode: true });\r\n        stream._write = (index, _enc, done) => {\r\n            return this._getEntry(filepaths[index], patterns[index], options)\r\n                .then((entry) => {\r\n                if (entry !== null && options.entryFilter(entry)) {\r\n                    stream.push(entry);\r\n                }\r\n                if (index === filepaths.length - 1) {\r\n                    stream.end();\r\n                }\r\n                done();\r\n            })\r\n                .catch(done);\r\n        };\r\n        for (let i = 0; i < filepaths.length; i++) {\r\n            stream.write(i);\r\n        }\r\n        return stream;\r\n    }\r\n    _getEntry(filepath, pattern, options) {\r\n        return this._getStat(filepath)\r\n            .then((stats) => this._makeEntry(stats, pattern))\r\n            .catch((error) => {\r\n            if (options.errorFilter(error)) {\r\n                return null;\r\n            }\r\n            throw error;\r\n        });\r\n    }\r\n    _getStat(filepath) {\r\n        return new Promise((resolve, reject) => {\r\n            this._stat(filepath, this._fsStatSettings, (error, stats) => {\r\n                return error === null ? resolve(stats) : reject(error);\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.default = ReaderStream;\r\n"]},"metadata":{},"sourceType":"script"}