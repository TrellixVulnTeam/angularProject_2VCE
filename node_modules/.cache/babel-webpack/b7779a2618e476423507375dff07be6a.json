{"ast":null,"code":"\"use strict\";\n/* eslint-env browser, es6, node */\n\nimport _regeneratorRuntime from \"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { defaults, map_from_object, map_to_object, HOP } from \"./utils/index.js\";\nimport { AST_Toplevel } from \"./ast.js\";\nimport { parse } from \"./parse.js\";\nimport { OutputStream } from \"./output.js\";\nimport { Compressor } from \"./compress/index.js\";\nimport { base54 } from \"./scope.js\";\nimport { SourceMap } from \"./sourcemap.js\";\nimport { mangle_properties, reserve_quoted_keys } from \"./propmangle.js\";\nvar to_ascii = typeof atob == \"undefined\" ? function (b64) {\n  return Buffer.from(b64, \"base64\").toString();\n} : atob;\nvar to_base64 = typeof btoa == \"undefined\" ? function (str) {\n  return Buffer.from(str).toString(\"base64\");\n} : btoa;\n\nfunction read_source_map(code) {\n  var match = /(?:^|[^.])\\/\\/# sourceMappingURL=data:application\\/json(;[\\w=-]*)?;base64,([+/0-9A-Za-z]*=*)\\s*$/.exec(code);\n\n  if (!match) {\n    console.warn(\"inline source map not found\");\n    return null;\n  }\n\n  return to_ascii(match[2]);\n}\n\nfunction set_shorthand(name, options, keys) {\n  if (options[name]) {\n    keys.forEach(function (key) {\n      if (options[key]) {\n        if (typeof options[key] != \"object\") options[key] = {};\n        if (!(name in options[key])) options[key][name] = options[name];\n      }\n    });\n  }\n}\n\nfunction init_cache(cache) {\n  if (!cache) return;\n\n  if (!(\"props\" in cache)) {\n    cache.props = new Map();\n  } else if (!(cache.props instanceof Map)) {\n    cache.props = map_from_object(cache.props);\n  }\n}\n\nfunction cache_to_json(cache) {\n  return {\n    props: map_to_object(cache.props)\n  };\n}\n\nfunction minify(_x, _x2) {\n  return _minify.apply(this, arguments);\n}\n\nfunction _minify() {\n  _minify = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(files, options) {\n    var timings, quoted_props, toplevel, name, result, stream, sourceMap;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            options = defaults(options, {\n              compress: {},\n              ecma: undefined,\n              enclose: false,\n              ie8: false,\n              keep_classnames: undefined,\n              keep_fnames: false,\n              mangle: {},\n              module: false,\n              nameCache: null,\n              output: null,\n              format: null,\n              parse: {},\n              rename: undefined,\n              safari10: false,\n              sourceMap: false,\n              timings: false,\n              toplevel: false,\n              warnings: false,\n              wrap: false\n            }, true);\n            timings = options.timings && {\n              start: Date.now()\n            };\n\n            if (options.keep_classnames === undefined) {\n              options.keep_classnames = options.keep_fnames;\n            }\n\n            if (options.rename === undefined) {\n              options.rename = options.compress && options.mangle;\n            }\n\n            if (!(options.output && options.format)) {\n              _context.next = 6;\n              break;\n            }\n\n            throw new Error(\"Please only specify either output or format option, preferrably format.\");\n\n          case 6:\n            options.format = options.format || options.output || {};\n            set_shorthand(\"ecma\", options, [\"parse\", \"compress\", \"format\"]);\n            set_shorthand(\"ie8\", options, [\"compress\", \"mangle\", \"format\"]);\n            set_shorthand(\"keep_classnames\", options, [\"compress\", \"mangle\"]);\n            set_shorthand(\"keep_fnames\", options, [\"compress\", \"mangle\"]);\n            set_shorthand(\"module\", options, [\"parse\", \"compress\", \"mangle\"]);\n            set_shorthand(\"safari10\", options, [\"mangle\", \"format\"]);\n            set_shorthand(\"toplevel\", options, [\"compress\", \"mangle\"]);\n            set_shorthand(\"warnings\", options, [\"compress\"]); // legacy\n\n            if (options.mangle) {\n              options.mangle = defaults(options.mangle, {\n                cache: options.nameCache && (options.nameCache.vars || {}),\n                eval: false,\n                ie8: false,\n                keep_classnames: false,\n                keep_fnames: false,\n                module: false,\n                properties: false,\n                reserved: [],\n                safari10: false,\n                toplevel: false\n              }, true);\n\n              if (options.mangle.properties) {\n                if (typeof options.mangle.properties != \"object\") {\n                  options.mangle.properties = {};\n                }\n\n                if (options.mangle.properties.keep_quoted) {\n                  quoted_props = options.mangle.properties.reserved;\n                  if (!Array.isArray(quoted_props)) quoted_props = [];\n                  options.mangle.properties.reserved = quoted_props;\n                }\n\n                if (options.nameCache && !(\"cache\" in options.mangle.properties)) {\n                  options.mangle.properties.cache = options.nameCache.props || {};\n                }\n              }\n\n              init_cache(options.mangle.cache);\n              init_cache(options.mangle.properties.cache);\n            }\n\n            if (options.sourceMap) {\n              options.sourceMap = defaults(options.sourceMap, {\n                asObject: false,\n                content: null,\n                filename: null,\n                includeSources: false,\n                root: null,\n                url: null\n              }, true);\n            }\n\n            if (timings) timings.parse = Date.now();\n\n            if (!(files instanceof AST_Toplevel)) {\n              _context.next = 22;\n              break;\n            }\n\n            toplevel = files;\n            _context.next = 38;\n            break;\n\n          case 22:\n            if (typeof files == \"string\") {\n              files = [files];\n            }\n\n            options.parse = options.parse || {};\n            options.parse.toplevel = null;\n            _context.t0 = _regeneratorRuntime.keys(files);\n\n          case 26:\n            if ((_context.t1 = _context.t0()).done) {\n              _context.next = 37;\n              break;\n            }\n\n            name = _context.t1.value;\n\n            if (!HOP(files, name)) {\n              _context.next = 35;\n              break;\n            }\n\n            options.parse.filename = name;\n            options.parse.toplevel = parse(files[name], options.parse);\n\n            if (!(options.sourceMap && options.sourceMap.content == \"inline\")) {\n              _context.next = 35;\n              break;\n            }\n\n            if (!(Object.keys(files).length > 1)) {\n              _context.next = 34;\n              break;\n            }\n\n            throw new Error(\"inline source map only works with singular input\");\n\n          case 34:\n            options.sourceMap.content = read_source_map(files[name]);\n\n          case 35:\n            _context.next = 26;\n            break;\n\n          case 37:\n            toplevel = options.parse.toplevel;\n\n          case 38:\n            if (quoted_props && options.mangle.properties.keep_quoted !== \"strict\") {\n              reserve_quoted_keys(toplevel, quoted_props);\n            }\n\n            if (options.wrap) {\n              toplevel = toplevel.wrap_commonjs(options.wrap);\n            }\n\n            if (options.enclose) {\n              toplevel = toplevel.wrap_enclose(options.enclose);\n            }\n\n            if (timings) timings.rename = Date.now(); // disable rename on harmony due to expand_names bug in for-of loops\n            // https://github.com/mishoo/UglifyJS2/issues/2794\n\n            if (0 && options.rename) {\n              toplevel.figure_out_scope(options.mangle);\n              toplevel.expand_names(options.mangle);\n            }\n\n            if (timings) timings.compress = Date.now();\n\n            if (options.compress) {\n              toplevel = new Compressor(options.compress, {\n                mangle_options: options.mangle\n              }).compress(toplevel);\n            }\n\n            if (timings) timings.scope = Date.now();\n            if (options.mangle) toplevel.figure_out_scope(options.mangle);\n            if (timings) timings.mangle = Date.now();\n\n            if (options.mangle) {\n              base54.reset();\n              toplevel.compute_char_frequency(options.mangle);\n              toplevel.mangle_names(options.mangle);\n            }\n\n            if (timings) timings.properties = Date.now();\n\n            if (options.mangle && options.mangle.properties) {\n              toplevel = mangle_properties(toplevel, options.mangle.properties);\n            }\n\n            if (timings) timings.format = Date.now();\n            result = {};\n\n            if (options.format.ast) {\n              result.ast = toplevel;\n            }\n\n            if (!(!HOP(options.format, \"code\") || options.format.code)) {\n              _context.next = 71;\n              break;\n            }\n\n            if (!options.sourceMap) {\n              _context.next = 65;\n              break;\n            }\n\n            _context.next = 58;\n            return SourceMap({\n              file: options.sourceMap.filename,\n              orig: options.sourceMap.content,\n              root: options.sourceMap.root\n            });\n\n          case 58:\n            options.format.source_map = _context.sent;\n\n            if (!options.sourceMap.includeSources) {\n              _context.next = 65;\n              break;\n            }\n\n            if (!(files instanceof AST_Toplevel)) {\n              _context.next = 64;\n              break;\n            }\n\n            throw new Error(\"original source content unavailable\");\n\n          case 64:\n            for (name in files) {\n              if (HOP(files, name)) {\n                options.format.source_map.get().setSourceContent(name, files[name]);\n              }\n            }\n\n          case 65:\n            delete options.format.ast;\n            delete options.format.code;\n            stream = OutputStream(options.format);\n            toplevel.print(stream);\n            result.code = stream.get();\n\n            if (options.sourceMap) {\n              if (options.sourceMap.asObject) {\n                result.map = options.format.source_map.get().toJSON();\n              } else {\n                result.map = options.format.source_map.toString();\n              }\n\n              if (options.sourceMap.url == \"inline\") {\n                sourceMap = typeof result.map === \"object\" ? JSON.stringify(result.map) : result.map;\n                result.code += \"\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,\" + to_base64(sourceMap);\n              } else if (options.sourceMap.url) {\n                result.code += \"\\n//# sourceMappingURL=\" + options.sourceMap.url;\n              }\n            }\n\n          case 71:\n            if (options.nameCache && options.mangle) {\n              if (options.mangle.cache) options.nameCache.vars = cache_to_json(options.mangle.cache);\n\n              if (options.mangle.properties && options.mangle.properties.cache) {\n                options.nameCache.props = cache_to_json(options.mangle.properties.cache);\n              }\n            }\n\n            if (options.format && options.format.source_map) {\n              options.format.source_map.destroy();\n            }\n\n            if (timings) {\n              timings.end = Date.now();\n              result.timings = {\n                parse: 1e-3 * (timings.rename - timings.parse),\n                rename: 1e-3 * (timings.compress - timings.rename),\n                compress: 1e-3 * (timings.scope - timings.compress),\n                scope: 1e-3 * (timings.mangle - timings.scope),\n                mangle: 1e-3 * (timings.properties - timings.mangle),\n                properties: 1e-3 * (timings.format - timings.properties),\n                format: 1e-3 * (timings.end - timings.format),\n                total: 1e-3 * (timings.end - timings.start)\n              };\n            }\n\n            return _context.abrupt(\"return\", result);\n\n          case 75:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _minify.apply(this, arguments);\n}\n\nexport { minify, to_ascii };","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/terser/lib/minify.js"],"names":["defaults","map_from_object","map_to_object","HOP","AST_Toplevel","parse","OutputStream","Compressor","base54","SourceMap","mangle_properties","reserve_quoted_keys","to_ascii","atob","b64","Buffer","from","toString","to_base64","btoa","str","read_source_map","code","match","exec","console","warn","set_shorthand","name","options","keys","forEach","key","init_cache","cache","props","Map","cache_to_json","minify","files","compress","ecma","undefined","enclose","ie8","keep_classnames","keep_fnames","mangle","module","nameCache","output","format","rename","safari10","sourceMap","timings","toplevel","warnings","wrap","start","Date","now","Error","vars","eval","properties","reserved","keep_quoted","quoted_props","Array","isArray","asObject","content","filename","includeSources","root","url","Object","length","wrap_commonjs","wrap_enclose","figure_out_scope","expand_names","mangle_options","scope","reset","compute_char_frequency","mangle_names","result","ast","file","orig","source_map","get","setSourceContent","stream","print","map","toJSON","JSON","stringify","destroy","end","total"],"mappings":"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","sourcesContent":["\"use strict\";\n/* eslint-env browser, es6, node */\n\nimport {\n    defaults,\n    map_from_object,\n    map_to_object,\n    HOP,\n} from \"./utils/index.js\";\nimport { AST_Toplevel } from \"./ast.js\";\nimport { parse } from \"./parse.js\";\nimport { OutputStream } from \"./output.js\";\nimport { Compressor } from \"./compress/index.js\";\nimport { base54 } from \"./scope.js\";\nimport { SourceMap } from \"./sourcemap.js\";\nimport {\n    mangle_properties,\n    reserve_quoted_keys,\n} from \"./propmangle.js\";\n\nvar to_ascii = typeof atob == \"undefined\" ? function(b64) {\n    return Buffer.from(b64, \"base64\").toString();\n} : atob;\nvar to_base64 = typeof btoa == \"undefined\" ? function(str) {\n    return Buffer.from(str).toString(\"base64\");\n} : btoa;\n\nfunction read_source_map(code) {\n    var match = /(?:^|[^.])\\/\\/# sourceMappingURL=data:application\\/json(;[\\w=-]*)?;base64,([+/0-9A-Za-z]*=*)\\s*$/.exec(code);\n    if (!match) {\n        console.warn(\"inline source map not found\");\n        return null;\n    }\n    return to_ascii(match[2]);\n}\n\nfunction set_shorthand(name, options, keys) {\n    if (options[name]) {\n        keys.forEach(function(key) {\n            if (options[key]) {\n                if (typeof options[key] != \"object\") options[key] = {};\n                if (!(name in options[key])) options[key][name] = options[name];\n            }\n        });\n    }\n}\n\nfunction init_cache(cache) {\n    if (!cache) return;\n    if (!(\"props\" in cache)) {\n        cache.props = new Map();\n    } else if (!(cache.props instanceof Map)) {\n        cache.props = map_from_object(cache.props);\n    }\n}\n\nfunction cache_to_json(cache) {\n    return {\n        props: map_to_object(cache.props)\n    };\n}\n\nasync function minify(files, options) {\n    options = defaults(options, {\n        compress: {},\n        ecma: undefined,\n        enclose: false,\n        ie8: false,\n        keep_classnames: undefined,\n        keep_fnames: false,\n        mangle: {},\n        module: false,\n        nameCache: null,\n        output: null,\n        format: null,\n        parse: {},\n        rename: undefined,\n        safari10: false,\n        sourceMap: false,\n        timings: false,\n        toplevel: false,\n        warnings: false,\n        wrap: false,\n    }, true);\n    var timings = options.timings && {\n        start: Date.now()\n    };\n    if (options.keep_classnames === undefined) {\n        options.keep_classnames = options.keep_fnames;\n    }\n    if (options.rename === undefined) {\n        options.rename = options.compress && options.mangle;\n    }\n    if (options.output && options.format) {\n        throw new Error(\"Please only specify either output or format option, preferrably format.\");\n    }\n    options.format = options.format || options.output || {};\n    set_shorthand(\"ecma\", options, [ \"parse\", \"compress\", \"format\" ]);\n    set_shorthand(\"ie8\", options, [ \"compress\", \"mangle\", \"format\" ]);\n    set_shorthand(\"keep_classnames\", options, [ \"compress\", \"mangle\" ]);\n    set_shorthand(\"keep_fnames\", options, [ \"compress\", \"mangle\" ]);\n    set_shorthand(\"module\", options, [ \"parse\", \"compress\", \"mangle\" ]);\n    set_shorthand(\"safari10\", options, [ \"mangle\", \"format\" ]);\n    set_shorthand(\"toplevel\", options, [ \"compress\", \"mangle\" ]);\n    set_shorthand(\"warnings\", options, [ \"compress\" ]); // legacy\n    var quoted_props;\n    if (options.mangle) {\n        options.mangle = defaults(options.mangle, {\n            cache: options.nameCache && (options.nameCache.vars || {}),\n            eval: false,\n            ie8: false,\n            keep_classnames: false,\n            keep_fnames: false,\n            module: false,\n            properties: false,\n            reserved: [],\n            safari10: false,\n            toplevel: false,\n        }, true);\n        if (options.mangle.properties) {\n            if (typeof options.mangle.properties != \"object\") {\n                options.mangle.properties = {};\n            }\n            if (options.mangle.properties.keep_quoted) {\n                quoted_props = options.mangle.properties.reserved;\n                if (!Array.isArray(quoted_props)) quoted_props = [];\n                options.mangle.properties.reserved = quoted_props;\n            }\n            if (options.nameCache && !(\"cache\" in options.mangle.properties)) {\n                options.mangle.properties.cache = options.nameCache.props || {};\n            }\n        }\n        init_cache(options.mangle.cache);\n        init_cache(options.mangle.properties.cache);\n    }\n    if (options.sourceMap) {\n        options.sourceMap = defaults(options.sourceMap, {\n            asObject: false,\n            content: null,\n            filename: null,\n            includeSources: false,\n            root: null,\n            url: null,\n        }, true);\n    }\n    if (timings) timings.parse = Date.now();\n    var toplevel;\n    if (files instanceof AST_Toplevel) {\n        toplevel = files;\n    } else {\n        if (typeof files == \"string\") {\n            files = [ files ];\n        }\n        options.parse = options.parse || {};\n        options.parse.toplevel = null;\n        for (var name in files) if (HOP(files, name)) {\n            options.parse.filename = name;\n            options.parse.toplevel = parse(files[name], options.parse);\n            if (options.sourceMap && options.sourceMap.content == \"inline\") {\n                if (Object.keys(files).length > 1)\n                    throw new Error(\"inline source map only works with singular input\");\n                options.sourceMap.content = read_source_map(files[name]);\n            }\n        }\n        toplevel = options.parse.toplevel;\n    }\n    if (quoted_props && options.mangle.properties.keep_quoted !== \"strict\") {\n        reserve_quoted_keys(toplevel, quoted_props);\n    }\n    if (options.wrap) {\n        toplevel = toplevel.wrap_commonjs(options.wrap);\n    }\n    if (options.enclose) {\n        toplevel = toplevel.wrap_enclose(options.enclose);\n    }\n    if (timings) timings.rename = Date.now();\n    // disable rename on harmony due to expand_names bug in for-of loops\n    // https://github.com/mishoo/UglifyJS2/issues/2794\n    if (0 && options.rename) {\n        toplevel.figure_out_scope(options.mangle);\n        toplevel.expand_names(options.mangle);\n    }\n    if (timings) timings.compress = Date.now();\n    if (options.compress) {\n        toplevel = new Compressor(options.compress, {\n            mangle_options: options.mangle\n        }).compress(toplevel);\n    }\n    if (timings) timings.scope = Date.now();\n    if (options.mangle) toplevel.figure_out_scope(options.mangle);\n    if (timings) timings.mangle = Date.now();\n    if (options.mangle) {\n        base54.reset();\n        toplevel.compute_char_frequency(options.mangle);\n        toplevel.mangle_names(options.mangle);\n    }\n    if (timings) timings.properties = Date.now();\n    if (options.mangle && options.mangle.properties) {\n        toplevel = mangle_properties(toplevel, options.mangle.properties);\n    }\n    if (timings) timings.format = Date.now();\n    var result = {};\n    if (options.format.ast) {\n        result.ast = toplevel;\n    }\n    if (!HOP(options.format, \"code\") || options.format.code) {\n        if (options.sourceMap) {\n            options.format.source_map = await SourceMap({\n                file: options.sourceMap.filename,\n                orig: options.sourceMap.content,\n                root: options.sourceMap.root\n            });\n            if (options.sourceMap.includeSources) {\n                if (files instanceof AST_Toplevel) {\n                    throw new Error(\"original source content unavailable\");\n                } else for (var name in files) if (HOP(files, name)) {\n                    options.format.source_map.get().setSourceContent(name, files[name]);\n                }\n            }\n        }\n        delete options.format.ast;\n        delete options.format.code;\n        var stream = OutputStream(options.format);\n        toplevel.print(stream);\n        result.code = stream.get();\n        if (options.sourceMap) {\n            if(options.sourceMap.asObject) {\n                result.map = options.format.source_map.get().toJSON();\n            } else {\n                result.map = options.format.source_map.toString();\n            }\n            if (options.sourceMap.url == \"inline\") {\n                var sourceMap = typeof result.map === \"object\" ? JSON.stringify(result.map) : result.map;\n                result.code += \"\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,\" + to_base64(sourceMap);\n            } else if (options.sourceMap.url) {\n                result.code += \"\\n//# sourceMappingURL=\" + options.sourceMap.url;\n            }\n        }\n    }\n    if (options.nameCache && options.mangle) {\n        if (options.mangle.cache) options.nameCache.vars = cache_to_json(options.mangle.cache);\n        if (options.mangle.properties && options.mangle.properties.cache) {\n            options.nameCache.props = cache_to_json(options.mangle.properties.cache);\n        }\n    }\n    if (options.format && options.format.source_map) {\n        options.format.source_map.destroy();\n    }\n    if (timings) {\n        timings.end = Date.now();\n        result.timings = {\n            parse: 1e-3 * (timings.rename - timings.parse),\n            rename: 1e-3 * (timings.compress - timings.rename),\n            compress: 1e-3 * (timings.scope - timings.compress),\n            scope: 1e-3 * (timings.mangle - timings.scope),\n            mangle: 1e-3 * (timings.properties - timings.mangle),\n            properties: 1e-3 * (timings.format - timings.properties),\n            format: 1e-3 * (timings.end - timings.format),\n            total: 1e-3 * (timings.end - timings.start)\n        };\n    }\n    return result;\n}\n\nexport {\n  minify,\n  to_ascii,\n};\n"]},"metadata":{},"sourceType":"module"}