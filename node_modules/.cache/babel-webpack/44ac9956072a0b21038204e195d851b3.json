{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _classCallCheck = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createClass\");\n\nvar HookCodeFactory = /*#__PURE__*/function () {\n  function HookCodeFactory(config) {\n    _classCallCheck(this, HookCodeFactory);\n\n    this.config = config;\n    this.options = undefined;\n    this._args = undefined;\n  }\n\n  _createClass(HookCodeFactory, [{\n    key: \"create\",\n    value: function create(options) {\n      this.init(options);\n      var fn;\n\n      switch (this.options.type) {\n        case \"sync\":\n          fn = new Function(this.args(), '\"use strict\";\\n' + this.header() + this.contentWithInterceptors({\n            onError: function onError(err) {\n              return \"throw \".concat(err, \";\\n\");\n            },\n            onResult: function onResult(result) {\n              return \"return \".concat(result, \";\\n\");\n            },\n            resultReturns: true,\n            onDone: function onDone() {\n              return \"\";\n            },\n            rethrowIfPossible: true\n          }));\n          break;\n\n        case \"async\":\n          fn = new Function(this.args({\n            after: \"_callback\"\n          }), '\"use strict\";\\n' + this.header() + this.contentWithInterceptors({\n            onError: function onError(err) {\n              return \"_callback(\".concat(err, \");\\n\");\n            },\n            onResult: function onResult(result) {\n              return \"_callback(null, \".concat(result, \");\\n\");\n            },\n            onDone: function onDone() {\n              return \"_callback();\\n\";\n            }\n          }));\n          break;\n\n        case \"promise\":\n          var errorHelperUsed = false;\n          var content = this.contentWithInterceptors({\n            onError: function onError(err) {\n              errorHelperUsed = true;\n              return \"_error(\".concat(err, \");\\n\");\n            },\n            onResult: function onResult(result) {\n              return \"_resolve(\".concat(result, \");\\n\");\n            },\n            onDone: function onDone() {\n              return \"_resolve();\\n\";\n            }\n          });\n          var code = \"\";\n          code += '\"use strict\";\\n';\n          code += this.header();\n          code += \"return new Promise((function(_resolve, _reject) {\\n\";\n\n          if (errorHelperUsed) {\n            code += \"var _sync = true;\\n\";\n            code += \"function _error(_err) {\\n\";\n            code += \"if(_sync)\\n\";\n            code += \"_resolve(Promise.resolve().then((function() { throw _err; })));\\n\";\n            code += \"else\\n\";\n            code += \"_reject(_err);\\n\";\n            code += \"};\\n\";\n          }\n\n          code += content;\n\n          if (errorHelperUsed) {\n            code += \"_sync = false;\\n\";\n          }\n\n          code += \"}));\\n\";\n          fn = new Function(this.args(), code);\n          break;\n      }\n\n      this.deinit();\n      return fn;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup(instance, options) {\n      instance._x = options.taps.map(function (t) {\n        return t.fn;\n      });\n    }\n    /**\n     * @param {{ type: \"sync\" | \"promise\" | \"async\", taps: Array<Tap>, interceptors: Array<Interceptor> }} options\n     */\n\n  }, {\n    key: \"init\",\n    value: function init(options) {\n      this.options = options;\n      this._args = options.args.slice();\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {\n      this.options = undefined;\n      this._args = undefined;\n    }\n  }, {\n    key: \"contentWithInterceptors\",\n    value: function contentWithInterceptors(options) {\n      var _this = this;\n\n      if (this.options.interceptors.length > 0) {\n        var onError = options.onError;\n        var onResult = options.onResult;\n        var onDone = options.onDone;\n        var code = \"\";\n\n        for (var i = 0; i < this.options.interceptors.length; i++) {\n          var interceptor = this.options.interceptors[i];\n\n          if (interceptor.call) {\n            code += \"\".concat(this.getInterceptor(i), \".call(\").concat(this.args({\n              before: interceptor.context ? \"_context\" : undefined\n            }), \");\\n\");\n          }\n        }\n\n        code += this.content(Object.assign(options, {\n          onError: onError && function (err) {\n            var code = \"\";\n\n            for (var _i = 0; _i < _this.options.interceptors.length; _i++) {\n              var _interceptor = _this.options.interceptors[_i];\n\n              if (_interceptor.error) {\n                code += \"\".concat(_this.getInterceptor(_i), \".error(\").concat(err, \");\\n\");\n              }\n            }\n\n            code += onError(err);\n            return code;\n          },\n          onResult: onResult && function (result) {\n            var code = \"\";\n\n            for (var _i2 = 0; _i2 < _this.options.interceptors.length; _i2++) {\n              var _interceptor2 = _this.options.interceptors[_i2];\n\n              if (_interceptor2.result) {\n                code += \"\".concat(_this.getInterceptor(_i2), \".result(\").concat(result, \");\\n\");\n              }\n            }\n\n            code += onResult(result);\n            return code;\n          },\n          onDone: onDone && function () {\n            var code = \"\";\n\n            for (var _i3 = 0; _i3 < _this.options.interceptors.length; _i3++) {\n              var _interceptor3 = _this.options.interceptors[_i3];\n\n              if (_interceptor3.done) {\n                code += \"\".concat(_this.getInterceptor(_i3), \".done();\\n\");\n              }\n            }\n\n            code += onDone();\n            return code;\n          }\n        }));\n        return code;\n      } else {\n        return this.content(options);\n      }\n    }\n  }, {\n    key: \"header\",\n    value: function header() {\n      var code = \"\";\n\n      if (this.needContext()) {\n        code += \"var _context = {};\\n\";\n      } else {\n        code += \"var _context;\\n\";\n      }\n\n      code += \"var _x = this._x;\\n\";\n\n      if (this.options.interceptors.length > 0) {\n        code += \"var _taps = this.taps;\\n\";\n        code += \"var _interceptors = this.interceptors;\\n\";\n      }\n\n      return code;\n    }\n  }, {\n    key: \"needContext\",\n    value: function needContext() {\n      var _iterator = _createForOfIteratorHelper(this.options.taps),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var tap = _step.value;\n          if (tap.context) return true;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"callTap\",\n    value: function callTap(tapIndex, _ref) {\n      var onError = _ref.onError,\n          onResult = _ref.onResult,\n          onDone = _ref.onDone,\n          rethrowIfPossible = _ref.rethrowIfPossible;\n      var code = \"\";\n      var hasTapCached = false;\n\n      for (var i = 0; i < this.options.interceptors.length; i++) {\n        var interceptor = this.options.interceptors[i];\n\n        if (interceptor.tap) {\n          if (!hasTapCached) {\n            code += \"var _tap\".concat(tapIndex, \" = \").concat(this.getTap(tapIndex), \";\\n\");\n            hasTapCached = true;\n          }\n\n          code += \"\".concat(this.getInterceptor(i), \".tap(\").concat(interceptor.context ? \"_context, \" : \"\", \"_tap\").concat(tapIndex, \");\\n\");\n        }\n      }\n\n      code += \"var _fn\".concat(tapIndex, \" = \").concat(this.getTapFn(tapIndex), \";\\n\");\n      var tap = this.options.taps[tapIndex];\n\n      switch (tap.type) {\n        case \"sync\":\n          if (!rethrowIfPossible) {\n            code += \"var _hasError\".concat(tapIndex, \" = false;\\n\");\n            code += \"try {\\n\";\n          }\n\n          if (onResult) {\n            code += \"var _result\".concat(tapIndex, \" = _fn\").concat(tapIndex, \"(\").concat(this.args({\n              before: tap.context ? \"_context\" : undefined\n            }), \");\\n\");\n          } else {\n            code += \"_fn\".concat(tapIndex, \"(\").concat(this.args({\n              before: tap.context ? \"_context\" : undefined\n            }), \");\\n\");\n          }\n\n          if (!rethrowIfPossible) {\n            code += \"} catch(_err) {\\n\";\n            code += \"_hasError\".concat(tapIndex, \" = true;\\n\");\n            code += onError(\"_err\");\n            code += \"}\\n\";\n            code += \"if(!_hasError\".concat(tapIndex, \") {\\n\");\n          }\n\n          if (onResult) {\n            code += onResult(\"_result\".concat(tapIndex));\n          }\n\n          if (onDone) {\n            code += onDone();\n          }\n\n          if (!rethrowIfPossible) {\n            code += \"}\\n\";\n          }\n\n          break;\n\n        case \"async\":\n          var cbCode = \"\";\n          if (onResult) cbCode += \"(function(_err\".concat(tapIndex, \", _result\").concat(tapIndex, \") {\\n\");else cbCode += \"(function(_err\".concat(tapIndex, \") {\\n\");\n          cbCode += \"if(_err\".concat(tapIndex, \") {\\n\");\n          cbCode += onError(\"_err\".concat(tapIndex));\n          cbCode += \"} else {\\n\";\n\n          if (onResult) {\n            cbCode += onResult(\"_result\".concat(tapIndex));\n          }\n\n          if (onDone) {\n            cbCode += onDone();\n          }\n\n          cbCode += \"}\\n\";\n          cbCode += \"})\";\n          code += \"_fn\".concat(tapIndex, \"(\").concat(this.args({\n            before: tap.context ? \"_context\" : undefined,\n            after: cbCode\n          }), \");\\n\");\n          break;\n\n        case \"promise\":\n          code += \"var _hasResult\".concat(tapIndex, \" = false;\\n\");\n          code += \"var _promise\".concat(tapIndex, \" = _fn\").concat(tapIndex, \"(\").concat(this.args({\n            before: tap.context ? \"_context\" : undefined\n          }), \");\\n\");\n          code += \"if (!_promise\".concat(tapIndex, \" || !_promise\").concat(tapIndex, \".then)\\n\");\n          code += \"  throw new Error('Tap function (tapPromise) did not return promise (returned ' + _promise\".concat(tapIndex, \" + ')');\\n\");\n          code += \"_promise\".concat(tapIndex, \".then((function(_result\").concat(tapIndex, \") {\\n\");\n          code += \"_hasResult\".concat(tapIndex, \" = true;\\n\");\n\n          if (onResult) {\n            code += onResult(\"_result\".concat(tapIndex));\n          }\n\n          if (onDone) {\n            code += onDone();\n          }\n\n          code += \"}), function(_err\".concat(tapIndex, \") {\\n\");\n          code += \"if(_hasResult\".concat(tapIndex, \") throw _err\").concat(tapIndex, \";\\n\");\n          code += onError(\"_err\".concat(tapIndex));\n          code += \"});\\n\";\n          break;\n      }\n\n      return code;\n    }\n  }, {\n    key: \"callTapsSeries\",\n    value: function callTapsSeries(_ref2) {\n      var _this2 = this;\n\n      var _onError = _ref2.onError,\n          onResult = _ref2.onResult,\n          resultReturns = _ref2.resultReturns,\n          onDone = _ref2.onDone,\n          doneReturns = _ref2.doneReturns,\n          rethrowIfPossible = _ref2.rethrowIfPossible;\n      if (this.options.taps.length === 0) return onDone();\n      var firstAsync = this.options.taps.findIndex(function (t) {\n        return t.type !== \"sync\";\n      });\n      var somethingReturns = resultReturns || doneReturns;\n      var code = \"\";\n      var current = onDone;\n      var unrollCounter = 0;\n\n      var _loop = function _loop(j) {\n        var i = j;\n        var unroll = current !== onDone && (_this2.options.taps[i].type !== \"sync\" || unrollCounter++ > 20);\n\n        if (unroll) {\n          unrollCounter = 0;\n          code += \"function _next\".concat(i, \"() {\\n\");\n          code += current();\n          code += \"}\\n\";\n\n          current = function current() {\n            return \"\".concat(somethingReturns ? \"return \" : \"\", \"_next\").concat(i, \"();\\n\");\n          };\n        }\n\n        var done = current;\n\n        var doneBreak = function doneBreak(skipDone) {\n          if (skipDone) return \"\";\n          return onDone();\n        };\n\n        var content = _this2.callTap(i, {\n          onError: function onError(error) {\n            return _onError(i, error, done, doneBreak);\n          },\n          onResult: onResult && function (result) {\n            return onResult(i, result, done, doneBreak);\n          },\n          onDone: !onResult && done,\n          rethrowIfPossible: rethrowIfPossible && (firstAsync < 0 || i < firstAsync)\n        });\n\n        current = function current() {\n          return content;\n        };\n      };\n\n      for (var j = this.options.taps.length - 1; j >= 0; j--) {\n        _loop(j);\n      }\n\n      code += current();\n      return code;\n    }\n  }, {\n    key: \"callTapsLooping\",\n    value: function callTapsLooping(_ref3) {\n      var onError = _ref3.onError,\n          onDone = _ref3.onDone,\n          rethrowIfPossible = _ref3.rethrowIfPossible;\n      if (this.options.taps.length === 0) return onDone();\n      var syncOnly = this.options.taps.every(function (t) {\n        return t.type === \"sync\";\n      });\n      var code = \"\";\n\n      if (!syncOnly) {\n        code += \"var _looper = (function() {\\n\";\n        code += \"var _loopAsync = false;\\n\";\n      }\n\n      code += \"var _loop;\\n\";\n      code += \"do {\\n\";\n      code += \"_loop = false;\\n\";\n\n      for (var i = 0; i < this.options.interceptors.length; i++) {\n        var interceptor = this.options.interceptors[i];\n\n        if (interceptor.loop) {\n          code += \"\".concat(this.getInterceptor(i), \".loop(\").concat(this.args({\n            before: interceptor.context ? \"_context\" : undefined\n          }), \");\\n\");\n        }\n      }\n\n      code += this.callTapsSeries({\n        onError: onError,\n        onResult: function onResult(i, result, next, doneBreak) {\n          var code = \"\";\n          code += \"if(\".concat(result, \" !== undefined) {\\n\");\n          code += \"_loop = true;\\n\";\n          if (!syncOnly) code += \"if(_loopAsync) _looper();\\n\";\n          code += doneBreak(true);\n          code += \"} else {\\n\";\n          code += next();\n          code += \"}\\n\";\n          return code;\n        },\n        onDone: onDone && function () {\n          var code = \"\";\n          code += \"if(!_loop) {\\n\";\n          code += onDone();\n          code += \"}\\n\";\n          return code;\n        },\n        rethrowIfPossible: rethrowIfPossible && syncOnly\n      });\n      code += \"} while(_loop);\\n\";\n\n      if (!syncOnly) {\n        code += \"_loopAsync = true;\\n\";\n        code += \"});\\n\";\n        code += \"_looper();\\n\";\n      }\n\n      return code;\n    }\n  }, {\n    key: \"callTapsParallel\",\n    value: function callTapsParallel(_ref4) {\n      var _this3 = this;\n\n      var _onError2 = _ref4.onError,\n          onResult = _ref4.onResult,\n          onDone = _ref4.onDone,\n          rethrowIfPossible = _ref4.rethrowIfPossible,\n          _ref4$onTap = _ref4.onTap,\n          onTap = _ref4$onTap === void 0 ? function (i, run) {\n        return run();\n      } : _ref4$onTap;\n\n      if (this.options.taps.length <= 1) {\n        return this.callTapsSeries({\n          onError: _onError2,\n          onResult: onResult,\n          onDone: onDone,\n          rethrowIfPossible: rethrowIfPossible\n        });\n      }\n\n      var code = \"\";\n      code += \"do {\\n\";\n      code += \"var _counter = \".concat(this.options.taps.length, \";\\n\");\n\n      if (onDone) {\n        code += \"var _done = (function() {\\n\";\n        code += onDone();\n        code += \"});\\n\";\n      }\n\n      var _loop2 = function _loop2(i) {\n        var done = function done() {\n          if (onDone) return \"if(--_counter === 0) _done();\\n\";else return \"--_counter;\";\n        };\n\n        var doneBreak = function doneBreak(skipDone) {\n          if (skipDone || !onDone) return \"_counter = 0;\\n\";else return \"_counter = 0;\\n_done();\\n\";\n        };\n\n        code += \"if(_counter <= 0) break;\\n\";\n        code += onTap(i, function () {\n          return _this3.callTap(i, {\n            onError: function onError(error) {\n              var code = \"\";\n              code += \"if(_counter > 0) {\\n\";\n              code += _onError2(i, error, done, doneBreak);\n              code += \"}\\n\";\n              return code;\n            },\n            onResult: onResult && function (result) {\n              var code = \"\";\n              code += \"if(_counter > 0) {\\n\";\n              code += onResult(i, result, done, doneBreak);\n              code += \"}\\n\";\n              return code;\n            },\n            onDone: !onResult && function () {\n              return done();\n            },\n            rethrowIfPossible: rethrowIfPossible\n          });\n        }, done, doneBreak);\n      };\n\n      for (var i = 0; i < this.options.taps.length; i++) {\n        _loop2(i);\n      }\n\n      code += \"} while(false);\\n\";\n      return code;\n    }\n  }, {\n    key: \"args\",\n    value: function args() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          before = _ref5.before,\n          after = _ref5.after;\n\n      var allArgs = this._args;\n      if (before) allArgs = [before].concat(allArgs);\n      if (after) allArgs = allArgs.concat(after);\n\n      if (allArgs.length === 0) {\n        return \"\";\n      } else {\n        return allArgs.join(\", \");\n      }\n    }\n  }, {\n    key: \"getTapFn\",\n    value: function getTapFn(idx) {\n      return \"_x[\".concat(idx, \"]\");\n    }\n  }, {\n    key: \"getTap\",\n    value: function getTap(idx) {\n      return \"_taps[\".concat(idx, \"]\");\n    }\n  }, {\n    key: \"getInterceptor\",\n    value: function getInterceptor(idx) {\n      return \"_interceptors[\".concat(idx, \"]\");\n    }\n  }]);\n\n  return HookCodeFactory;\n}();\n\nmodule.exports = HookCodeFactory;","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/enhanced-resolve/node_modules/tapable/lib/HookCodeFactory.js"],"names":["HookCodeFactory","config","options","undefined","_args","init","fn","type","Function","args","header","contentWithInterceptors","onError","err","onResult","result","resultReturns","onDone","rethrowIfPossible","after","errorHelperUsed","content","code","deinit","instance","_x","taps","map","t","slice","interceptors","length","i","interceptor","call","getInterceptor","before","context","Object","assign","error","done","needContext","tap","tapIndex","hasTapCached","getTap","getTapFn","cbCode","doneReturns","firstAsync","findIndex","somethingReturns","current","unrollCounter","j","unroll","doneBreak","skipDone","callTap","syncOnly","every","loop","callTapsSeries","next","onTap","run","allArgs","concat","join","idx","module","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nclass HookCodeFactory {\n\tconstructor(config) {\n\t\tthis.config = config;\n\t\tthis.options = undefined;\n\t\tthis._args = undefined;\n\t}\n\n\tcreate(options) {\n\t\tthis.init(options);\n\t\tlet fn;\n\t\tswitch (this.options.type) {\n\t\t\tcase \"sync\":\n\t\t\t\tfn = new Function(\n\t\t\t\t\tthis.args(),\n\t\t\t\t\t'\"use strict\";\\n' +\n\t\t\t\t\t\tthis.header() +\n\t\t\t\t\t\tthis.contentWithInterceptors({\n\t\t\t\t\t\t\tonError: err => `throw ${err};\\n`,\n\t\t\t\t\t\t\tonResult: result => `return ${result};\\n`,\n\t\t\t\t\t\t\tresultReturns: true,\n\t\t\t\t\t\t\tonDone: () => \"\",\n\t\t\t\t\t\t\trethrowIfPossible: true\n\t\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase \"async\":\n\t\t\t\tfn = new Function(\n\t\t\t\t\tthis.args({\n\t\t\t\t\t\tafter: \"_callback\"\n\t\t\t\t\t}),\n\t\t\t\t\t'\"use strict\";\\n' +\n\t\t\t\t\t\tthis.header() +\n\t\t\t\t\t\tthis.contentWithInterceptors({\n\t\t\t\t\t\t\tonError: err => `_callback(${err});\\n`,\n\t\t\t\t\t\t\tonResult: result => `_callback(null, ${result});\\n`,\n\t\t\t\t\t\t\tonDone: () => \"_callback();\\n\"\n\t\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase \"promise\":\n\t\t\t\tlet errorHelperUsed = false;\n\t\t\t\tconst content = this.contentWithInterceptors({\n\t\t\t\t\tonError: err => {\n\t\t\t\t\t\terrorHelperUsed = true;\n\t\t\t\t\t\treturn `_error(${err});\\n`;\n\t\t\t\t\t},\n\t\t\t\t\tonResult: result => `_resolve(${result});\\n`,\n\t\t\t\t\tonDone: () => \"_resolve();\\n\"\n\t\t\t\t});\n\t\t\t\tlet code = \"\";\n\t\t\t\tcode += '\"use strict\";\\n';\n\t\t\t\tcode += this.header();\n\t\t\t\tcode += \"return new Promise((function(_resolve, _reject) {\\n\";\n\t\t\t\tif (errorHelperUsed) {\n\t\t\t\t\tcode += \"var _sync = true;\\n\";\n\t\t\t\t\tcode += \"function _error(_err) {\\n\";\n\t\t\t\t\tcode += \"if(_sync)\\n\";\n\t\t\t\t\tcode +=\n\t\t\t\t\t\t\"_resolve(Promise.resolve().then((function() { throw _err; })));\\n\";\n\t\t\t\t\tcode += \"else\\n\";\n\t\t\t\t\tcode += \"_reject(_err);\\n\";\n\t\t\t\t\tcode += \"};\\n\";\n\t\t\t\t}\n\t\t\t\tcode += content;\n\t\t\t\tif (errorHelperUsed) {\n\t\t\t\t\tcode += \"_sync = false;\\n\";\n\t\t\t\t}\n\t\t\t\tcode += \"}));\\n\";\n\t\t\t\tfn = new Function(this.args(), code);\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.deinit();\n\t\treturn fn;\n\t}\n\n\tsetup(instance, options) {\n\t\tinstance._x = options.taps.map(t => t.fn);\n\t}\n\n\t/**\n\t * @param {{ type: \"sync\" | \"promise\" | \"async\", taps: Array<Tap>, interceptors: Array<Interceptor> }} options\n\t */\n\tinit(options) {\n\t\tthis.options = options;\n\t\tthis._args = options.args.slice();\n\t}\n\n\tdeinit() {\n\t\tthis.options = undefined;\n\t\tthis._args = undefined;\n\t}\n\n\tcontentWithInterceptors(options) {\n\t\tif (this.options.interceptors.length > 0) {\n\t\t\tconst onError = options.onError;\n\t\t\tconst onResult = options.onResult;\n\t\t\tconst onDone = options.onDone;\n\t\t\tlet code = \"\";\n\t\t\tfor (let i = 0; i < this.options.interceptors.length; i++) {\n\t\t\t\tconst interceptor = this.options.interceptors[i];\n\t\t\t\tif (interceptor.call) {\n\t\t\t\t\tcode += `${this.getInterceptor(i)}.call(${this.args({\n\t\t\t\t\t\tbefore: interceptor.context ? \"_context\" : undefined\n\t\t\t\t\t})});\\n`;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcode += this.content(\n\t\t\t\tObject.assign(options, {\n\t\t\t\t\tonError:\n\t\t\t\t\t\tonError &&\n\t\t\t\t\t\t(err => {\n\t\t\t\t\t\t\tlet code = \"\";\n\t\t\t\t\t\t\tfor (let i = 0; i < this.options.interceptors.length; i++) {\n\t\t\t\t\t\t\t\tconst interceptor = this.options.interceptors[i];\n\t\t\t\t\t\t\t\tif (interceptor.error) {\n\t\t\t\t\t\t\t\t\tcode += `${this.getInterceptor(i)}.error(${err});\\n`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcode += onError(err);\n\t\t\t\t\t\t\treturn code;\n\t\t\t\t\t\t}),\n\t\t\t\t\tonResult:\n\t\t\t\t\t\tonResult &&\n\t\t\t\t\t\t(result => {\n\t\t\t\t\t\t\tlet code = \"\";\n\t\t\t\t\t\t\tfor (let i = 0; i < this.options.interceptors.length; i++) {\n\t\t\t\t\t\t\t\tconst interceptor = this.options.interceptors[i];\n\t\t\t\t\t\t\t\tif (interceptor.result) {\n\t\t\t\t\t\t\t\t\tcode += `${this.getInterceptor(i)}.result(${result});\\n`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcode += onResult(result);\n\t\t\t\t\t\t\treturn code;\n\t\t\t\t\t\t}),\n\t\t\t\t\tonDone:\n\t\t\t\t\t\tonDone &&\n\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\tlet code = \"\";\n\t\t\t\t\t\t\tfor (let i = 0; i < this.options.interceptors.length; i++) {\n\t\t\t\t\t\t\t\tconst interceptor = this.options.interceptors[i];\n\t\t\t\t\t\t\t\tif (interceptor.done) {\n\t\t\t\t\t\t\t\t\tcode += `${this.getInterceptor(i)}.done();\\n`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcode += onDone();\n\t\t\t\t\t\t\treturn code;\n\t\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn code;\n\t\t} else {\n\t\t\treturn this.content(options);\n\t\t}\n\t}\n\n\theader() {\n\t\tlet code = \"\";\n\t\tif (this.needContext()) {\n\t\t\tcode += \"var _context = {};\\n\";\n\t\t} else {\n\t\t\tcode += \"var _context;\\n\";\n\t\t}\n\t\tcode += \"var _x = this._x;\\n\";\n\t\tif (this.options.interceptors.length > 0) {\n\t\t\tcode += \"var _taps = this.taps;\\n\";\n\t\t\tcode += \"var _interceptors = this.interceptors;\\n\";\n\t\t}\n\t\treturn code;\n\t}\n\n\tneedContext() {\n\t\tfor (const tap of this.options.taps) if (tap.context) return true;\n\t\treturn false;\n\t}\n\n\tcallTap(tapIndex, { onError, onResult, onDone, rethrowIfPossible }) {\n\t\tlet code = \"\";\n\t\tlet hasTapCached = false;\n\t\tfor (let i = 0; i < this.options.interceptors.length; i++) {\n\t\t\tconst interceptor = this.options.interceptors[i];\n\t\t\tif (interceptor.tap) {\n\t\t\t\tif (!hasTapCached) {\n\t\t\t\t\tcode += `var _tap${tapIndex} = ${this.getTap(tapIndex)};\\n`;\n\t\t\t\t\thasTapCached = true;\n\t\t\t\t}\n\t\t\t\tcode += `${this.getInterceptor(i)}.tap(${\n\t\t\t\t\tinterceptor.context ? \"_context, \" : \"\"\n\t\t\t\t}_tap${tapIndex});\\n`;\n\t\t\t}\n\t\t}\n\t\tcode += `var _fn${tapIndex} = ${this.getTapFn(tapIndex)};\\n`;\n\t\tconst tap = this.options.taps[tapIndex];\n\t\tswitch (tap.type) {\n\t\t\tcase \"sync\":\n\t\t\t\tif (!rethrowIfPossible) {\n\t\t\t\t\tcode += `var _hasError${tapIndex} = false;\\n`;\n\t\t\t\t\tcode += \"try {\\n\";\n\t\t\t\t}\n\t\t\t\tif (onResult) {\n\t\t\t\t\tcode += `var _result${tapIndex} = _fn${tapIndex}(${this.args({\n\t\t\t\t\t\tbefore: tap.context ? \"_context\" : undefined\n\t\t\t\t\t})});\\n`;\n\t\t\t\t} else {\n\t\t\t\t\tcode += `_fn${tapIndex}(${this.args({\n\t\t\t\t\t\tbefore: tap.context ? \"_context\" : undefined\n\t\t\t\t\t})});\\n`;\n\t\t\t\t}\n\t\t\t\tif (!rethrowIfPossible) {\n\t\t\t\t\tcode += \"} catch(_err) {\\n\";\n\t\t\t\t\tcode += `_hasError${tapIndex} = true;\\n`;\n\t\t\t\t\tcode += onError(\"_err\");\n\t\t\t\t\tcode += \"}\\n\";\n\t\t\t\t\tcode += `if(!_hasError${tapIndex}) {\\n`;\n\t\t\t\t}\n\t\t\t\tif (onResult) {\n\t\t\t\t\tcode += onResult(`_result${tapIndex}`);\n\t\t\t\t}\n\t\t\t\tif (onDone) {\n\t\t\t\t\tcode += onDone();\n\t\t\t\t}\n\t\t\t\tif (!rethrowIfPossible) {\n\t\t\t\t\tcode += \"}\\n\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"async\":\n\t\t\t\tlet cbCode = \"\";\n\t\t\t\tif (onResult)\n\t\t\t\t\tcbCode += `(function(_err${tapIndex}, _result${tapIndex}) {\\n`;\n\t\t\t\telse cbCode += `(function(_err${tapIndex}) {\\n`;\n\t\t\t\tcbCode += `if(_err${tapIndex}) {\\n`;\n\t\t\t\tcbCode += onError(`_err${tapIndex}`);\n\t\t\t\tcbCode += \"} else {\\n\";\n\t\t\t\tif (onResult) {\n\t\t\t\t\tcbCode += onResult(`_result${tapIndex}`);\n\t\t\t\t}\n\t\t\t\tif (onDone) {\n\t\t\t\t\tcbCode += onDone();\n\t\t\t\t}\n\t\t\t\tcbCode += \"}\\n\";\n\t\t\t\tcbCode += \"})\";\n\t\t\t\tcode += `_fn${tapIndex}(${this.args({\n\t\t\t\t\tbefore: tap.context ? \"_context\" : undefined,\n\t\t\t\t\tafter: cbCode\n\t\t\t\t})});\\n`;\n\t\t\t\tbreak;\n\t\t\tcase \"promise\":\n\t\t\t\tcode += `var _hasResult${tapIndex} = false;\\n`;\n\t\t\t\tcode += `var _promise${tapIndex} = _fn${tapIndex}(${this.args({\n\t\t\t\t\tbefore: tap.context ? \"_context\" : undefined\n\t\t\t\t})});\\n`;\n\t\t\t\tcode += `if (!_promise${tapIndex} || !_promise${tapIndex}.then)\\n`;\n\t\t\t\tcode += `  throw new Error('Tap function (tapPromise) did not return promise (returned ' + _promise${tapIndex} + ')');\\n`;\n\t\t\t\tcode += `_promise${tapIndex}.then((function(_result${tapIndex}) {\\n`;\n\t\t\t\tcode += `_hasResult${tapIndex} = true;\\n`;\n\t\t\t\tif (onResult) {\n\t\t\t\t\tcode += onResult(`_result${tapIndex}`);\n\t\t\t\t}\n\t\t\t\tif (onDone) {\n\t\t\t\t\tcode += onDone();\n\t\t\t\t}\n\t\t\t\tcode += `}), function(_err${tapIndex}) {\\n`;\n\t\t\t\tcode += `if(_hasResult${tapIndex}) throw _err${tapIndex};\\n`;\n\t\t\t\tcode += onError(`_err${tapIndex}`);\n\t\t\t\tcode += \"});\\n\";\n\t\t\t\tbreak;\n\t\t}\n\t\treturn code;\n\t}\n\n\tcallTapsSeries({\n\t\tonError,\n\t\tonResult,\n\t\tresultReturns,\n\t\tonDone,\n\t\tdoneReturns,\n\t\trethrowIfPossible\n\t}) {\n\t\tif (this.options.taps.length === 0) return onDone();\n\t\tconst firstAsync = this.options.taps.findIndex(t => t.type !== \"sync\");\n\t\tconst somethingReturns = resultReturns || doneReturns;\n\t\tlet code = \"\";\n\t\tlet current = onDone;\n\t\tlet unrollCounter = 0;\n\t\tfor (let j = this.options.taps.length - 1; j >= 0; j--) {\n\t\t\tconst i = j;\n\t\t\tconst unroll =\n\t\t\t\tcurrent !== onDone &&\n\t\t\t\t(this.options.taps[i].type !== \"sync\" || unrollCounter++ > 20);\n\t\t\tif (unroll) {\n\t\t\t\tunrollCounter = 0;\n\t\t\t\tcode += `function _next${i}() {\\n`;\n\t\t\t\tcode += current();\n\t\t\t\tcode += `}\\n`;\n\t\t\t\tcurrent = () => `${somethingReturns ? \"return \" : \"\"}_next${i}();\\n`;\n\t\t\t}\n\t\t\tconst done = current;\n\t\t\tconst doneBreak = skipDone => {\n\t\t\t\tif (skipDone) return \"\";\n\t\t\t\treturn onDone();\n\t\t\t};\n\t\t\tconst content = this.callTap(i, {\n\t\t\t\tonError: error => onError(i, error, done, doneBreak),\n\t\t\t\tonResult:\n\t\t\t\t\tonResult &&\n\t\t\t\t\t(result => {\n\t\t\t\t\t\treturn onResult(i, result, done, doneBreak);\n\t\t\t\t\t}),\n\t\t\t\tonDone: !onResult && done,\n\t\t\t\trethrowIfPossible:\n\t\t\t\t\trethrowIfPossible && (firstAsync < 0 || i < firstAsync)\n\t\t\t});\n\t\t\tcurrent = () => content;\n\t\t}\n\t\tcode += current();\n\t\treturn code;\n\t}\n\n\tcallTapsLooping({ onError, onDone, rethrowIfPossible }) {\n\t\tif (this.options.taps.length === 0) return onDone();\n\t\tconst syncOnly = this.options.taps.every(t => t.type === \"sync\");\n\t\tlet code = \"\";\n\t\tif (!syncOnly) {\n\t\t\tcode += \"var _looper = (function() {\\n\";\n\t\t\tcode += \"var _loopAsync = false;\\n\";\n\t\t}\n\t\tcode += \"var _loop;\\n\";\n\t\tcode += \"do {\\n\";\n\t\tcode += \"_loop = false;\\n\";\n\t\tfor (let i = 0; i < this.options.interceptors.length; i++) {\n\t\t\tconst interceptor = this.options.interceptors[i];\n\t\t\tif (interceptor.loop) {\n\t\t\t\tcode += `${this.getInterceptor(i)}.loop(${this.args({\n\t\t\t\t\tbefore: interceptor.context ? \"_context\" : undefined\n\t\t\t\t})});\\n`;\n\t\t\t}\n\t\t}\n\t\tcode += this.callTapsSeries({\n\t\t\tonError,\n\t\t\tonResult: (i, result, next, doneBreak) => {\n\t\t\t\tlet code = \"\";\n\t\t\t\tcode += `if(${result} !== undefined) {\\n`;\n\t\t\t\tcode += \"_loop = true;\\n\";\n\t\t\t\tif (!syncOnly) code += \"if(_loopAsync) _looper();\\n\";\n\t\t\t\tcode += doneBreak(true);\n\t\t\t\tcode += `} else {\\n`;\n\t\t\t\tcode += next();\n\t\t\t\tcode += `}\\n`;\n\t\t\t\treturn code;\n\t\t\t},\n\t\t\tonDone:\n\t\t\t\tonDone &&\n\t\t\t\t(() => {\n\t\t\t\t\tlet code = \"\";\n\t\t\t\t\tcode += \"if(!_loop) {\\n\";\n\t\t\t\t\tcode += onDone();\n\t\t\t\t\tcode += \"}\\n\";\n\t\t\t\t\treturn code;\n\t\t\t\t}),\n\t\t\trethrowIfPossible: rethrowIfPossible && syncOnly\n\t\t});\n\t\tcode += \"} while(_loop);\\n\";\n\t\tif (!syncOnly) {\n\t\t\tcode += \"_loopAsync = true;\\n\";\n\t\t\tcode += \"});\\n\";\n\t\t\tcode += \"_looper();\\n\";\n\t\t}\n\t\treturn code;\n\t}\n\n\tcallTapsParallel({\n\t\tonError,\n\t\tonResult,\n\t\tonDone,\n\t\trethrowIfPossible,\n\t\tonTap = (i, run) => run()\n\t}) {\n\t\tif (this.options.taps.length <= 1) {\n\t\t\treturn this.callTapsSeries({\n\t\t\t\tonError,\n\t\t\t\tonResult,\n\t\t\t\tonDone,\n\t\t\t\trethrowIfPossible\n\t\t\t});\n\t\t}\n\t\tlet code = \"\";\n\t\tcode += \"do {\\n\";\n\t\tcode += `var _counter = ${this.options.taps.length};\\n`;\n\t\tif (onDone) {\n\t\t\tcode += \"var _done = (function() {\\n\";\n\t\t\tcode += onDone();\n\t\t\tcode += \"});\\n\";\n\t\t}\n\t\tfor (let i = 0; i < this.options.taps.length; i++) {\n\t\t\tconst done = () => {\n\t\t\t\tif (onDone) return \"if(--_counter === 0) _done();\\n\";\n\t\t\t\telse return \"--_counter;\";\n\t\t\t};\n\t\t\tconst doneBreak = skipDone => {\n\t\t\t\tif (skipDone || !onDone) return \"_counter = 0;\\n\";\n\t\t\t\telse return \"_counter = 0;\\n_done();\\n\";\n\t\t\t};\n\t\t\tcode += \"if(_counter <= 0) break;\\n\";\n\t\t\tcode += onTap(\n\t\t\t\ti,\n\t\t\t\t() =>\n\t\t\t\t\tthis.callTap(i, {\n\t\t\t\t\t\tonError: error => {\n\t\t\t\t\t\t\tlet code = \"\";\n\t\t\t\t\t\t\tcode += \"if(_counter > 0) {\\n\";\n\t\t\t\t\t\t\tcode += onError(i, error, done, doneBreak);\n\t\t\t\t\t\t\tcode += \"}\\n\";\n\t\t\t\t\t\t\treturn code;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonResult:\n\t\t\t\t\t\t\tonResult &&\n\t\t\t\t\t\t\t(result => {\n\t\t\t\t\t\t\t\tlet code = \"\";\n\t\t\t\t\t\t\t\tcode += \"if(_counter > 0) {\\n\";\n\t\t\t\t\t\t\t\tcode += onResult(i, result, done, doneBreak);\n\t\t\t\t\t\t\t\tcode += \"}\\n\";\n\t\t\t\t\t\t\t\treturn code;\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\tonDone:\n\t\t\t\t\t\t\t!onResult &&\n\t\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\t\treturn done();\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\trethrowIfPossible\n\t\t\t\t\t}),\n\t\t\t\tdone,\n\t\t\t\tdoneBreak\n\t\t\t);\n\t\t}\n\t\tcode += \"} while(false);\\n\";\n\t\treturn code;\n\t}\n\n\targs({ before, after } = {}) {\n\t\tlet allArgs = this._args;\n\t\tif (before) allArgs = [before].concat(allArgs);\n\t\tif (after) allArgs = allArgs.concat(after);\n\t\tif (allArgs.length === 0) {\n\t\t\treturn \"\";\n\t\t} else {\n\t\t\treturn allArgs.join(\", \");\n\t\t}\n\t}\n\n\tgetTapFn(idx) {\n\t\treturn `_x[${idx}]`;\n\t}\n\n\tgetTap(idx) {\n\t\treturn `_taps[${idx}]`;\n\t}\n\n\tgetInterceptor(idx) {\n\t\treturn `_interceptors[${idx}]`;\n\t}\n}\n\nmodule.exports = HookCodeFactory;\n"]},"metadata":{},"sourceType":"script"}