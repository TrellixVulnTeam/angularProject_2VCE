{"ast":null,"code":"'use strict';\n\nvar _toConsumableArray = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = mergeRules;\n\nvar _hasAllProps = require('./hasAllProps');\n\nvar _hasAllProps2 = _interopRequireDefault(_hasAllProps);\n\nvar _getDecls = require('./getDecls');\n\nvar _getDecls2 = _interopRequireDefault(_getDecls);\n\nvar _getRules = require('./getRules');\n\nvar _getRules2 = _interopRequireDefault(_getRules);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction isConflictingProp(propA, propB) {\n  if (!propB.prop || propB.important !== propA.important) {\n    return;\n  }\n\n  var parts = propA.prop.split('-');\n  return parts.some(function () {\n    parts.pop();\n    return parts.join('-') === propB.prop;\n  });\n}\n\nfunction hasConflicts(match, nodes) {\n  var firstNode = Math.min.apply(null, match.map(function (n) {\n    return nodes.indexOf(n);\n  }));\n  var lastNode = Math.max.apply(null, match.map(function (n) {\n    return nodes.indexOf(n);\n  }));\n  var between = nodes.slice(firstNode + 1, lastNode);\n  return match.some(function (a) {\n    return between.some(function (b) {\n      return isConflictingProp(a, b);\n    });\n  });\n}\n\nfunction mergeRules(rule, properties, callback) {\n  var decls = (0, _getDecls2.default)(rule, properties);\n\n  var _loop = function _loop() {\n    var last = decls[decls.length - 1];\n    var props = decls.filter(function (node) {\n      return node.important === last.important;\n    });\n    var rules = (0, _getRules2.default)(props, properties);\n\n    if ((0, _hasAllProps2.default).apply(void 0, [rules].concat(_toConsumableArray(properties))) && !hasConflicts(rules, rule.nodes)) {\n      if (callback(rules, last, props)) {\n        decls = decls.filter(function (node) {\n          return !~rules.indexOf(node);\n        });\n      }\n    }\n\n    decls = decls.filter(function (node) {\n      return node !== last;\n    });\n  };\n\n  while (decls.length) {\n    _loop();\n  }\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/postcss-merge-longhand/dist/lib/mergeRules.js"],"names":["Object","defineProperty","exports","value","default","mergeRules","_hasAllProps","require","_hasAllProps2","_interopRequireDefault","_getDecls","_getDecls2","_getRules","_getRules2","obj","__esModule","isConflictingProp","propA","propB","prop","important","parts","split","some","pop","join","hasConflicts","match","nodes","firstNode","Math","min","apply","map","n","indexOf","lastNode","max","between","slice","a","b","rule","properties","callback","decls","last","length","props","filter","node","rules","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = mergeRules;\n\nvar _hasAllProps = require('./hasAllProps');\n\nvar _hasAllProps2 = _interopRequireDefault(_hasAllProps);\n\nvar _getDecls = require('./getDecls');\n\nvar _getDecls2 = _interopRequireDefault(_getDecls);\n\nvar _getRules = require('./getRules');\n\nvar _getRules2 = _interopRequireDefault(_getRules);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isConflictingProp(propA, propB) {\n    if (!propB.prop || propB.important !== propA.important) {\n        return;\n    }\n\n    const parts = propA.prop.split('-');\n\n    return parts.some(() => {\n        parts.pop();\n\n        return parts.join('-') === propB.prop;\n    });\n}\n\nfunction hasConflicts(match, nodes) {\n    const firstNode = Math.min.apply(null, match.map(n => nodes.indexOf(n)));\n    const lastNode = Math.max.apply(null, match.map(n => nodes.indexOf(n)));\n    const between = nodes.slice(firstNode + 1, lastNode);\n\n    return match.some(a => between.some(b => isConflictingProp(a, b)));\n}\n\nfunction mergeRules(rule, properties, callback) {\n    let decls = (0, _getDecls2.default)(rule, properties);\n\n    while (decls.length) {\n        const last = decls[decls.length - 1];\n        const props = decls.filter(node => node.important === last.important);\n        const rules = (0, _getRules2.default)(props, properties);\n\n        if ((0, _hasAllProps2.default)(rules, ...properties) && !hasConflicts(rules, rule.nodes)) {\n            if (callback(rules, last, props)) {\n                decls = decls.filter(node => !~rules.indexOf(node));\n            }\n        }\n\n        decls = decls.filter(node => node !== last);\n    }\n}\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}