{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nvar _classCallCheck = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createClass\");\n\nvar path = require(\"path\");\n\nvar NORMALIZE_SLASH_DIRECTION_REGEXP = /\\\\/g;\nvar PATH_CHARS_REGEXP = /[-[\\]{}()*+?.,\\\\^$|#\\s]/g;\nvar SEPARATOR_REGEXP = /[/\\\\]$/;\nvar FRONT_OR_BACK_BANG_REGEXP = /^!|!$/g;\nvar INDEX_JS_REGEXP = /\\/index.js(!|\\?|\\(query\\))/g;\nvar MATCH_RESOURCE_REGEXP = /!=!/;\n\nvar normalizeBackSlashDirection = function normalizeBackSlashDirection(request) {\n  return request.replace(NORMALIZE_SLASH_DIRECTION_REGEXP, \"/\");\n};\n\nvar createRegExpForPath = function createRegExpForPath(path) {\n  var regexpTypePartial = path.replace(PATH_CHARS_REGEXP, \"\\\\$&\");\n  return new RegExp(\"(^|!)\".concat(regexpTypePartial), \"g\");\n};\n\nvar RequestShortener = /*#__PURE__*/function () {\n  function RequestShortener(directory) {\n    _classCallCheck(this, RequestShortener);\n\n    directory = normalizeBackSlashDirection(directory);\n\n    if (SEPARATOR_REGEXP.test(directory)) {\n      directory = directory.substr(0, directory.length - 1);\n    }\n\n    if (directory) {\n      this.currentDirectoryRegExp = createRegExpForPath(directory);\n    }\n\n    var dirname = path.dirname(directory);\n    var endsWithSeparator = SEPARATOR_REGEXP.test(dirname);\n    var parentDirectory = endsWithSeparator ? dirname.substr(0, dirname.length - 1) : dirname;\n\n    if (parentDirectory && parentDirectory !== directory) {\n      this.parentDirectoryRegExp = createRegExpForPath(\"\".concat(parentDirectory, \"/\"));\n    }\n\n    if (__dirname.length >= 2) {\n      var buildins = normalizeBackSlashDirection(path.join(__dirname, \"..\"));\n      var buildinsAsModule = this.currentDirectoryRegExp && this.currentDirectoryRegExp.test(buildins);\n      this.buildinsAsModule = buildinsAsModule;\n      this.buildinsRegExp = createRegExpForPath(buildins);\n    }\n\n    this.cache = new Map();\n  }\n\n  _createClass(RequestShortener, [{\n    key: \"shorten\",\n    value: function shorten(request) {\n      if (!request) return request;\n      var cacheEntry = this.cache.get(request);\n\n      if (cacheEntry !== undefined) {\n        return cacheEntry;\n      }\n\n      var result = normalizeBackSlashDirection(request);\n\n      if (this.buildinsAsModule && this.buildinsRegExp) {\n        result = result.replace(this.buildinsRegExp, \"!(webpack)\");\n      }\n\n      if (this.currentDirectoryRegExp) {\n        result = result.replace(this.currentDirectoryRegExp, \"!.\");\n      }\n\n      if (this.parentDirectoryRegExp) {\n        result = result.replace(this.parentDirectoryRegExp, \"!../\");\n      }\n\n      if (!this.buildinsAsModule && this.buildinsRegExp) {\n        result = result.replace(this.buildinsRegExp, \"!(webpack)\");\n      }\n\n      result = result.replace(INDEX_JS_REGEXP, \"$1\");\n      result = result.replace(FRONT_OR_BACK_BANG_REGEXP, \"\");\n      result = result.replace(MATCH_RESOURCE_REGEXP, \" = \");\n      this.cache.set(request, result);\n      return result;\n    }\n  }]);\n\n  return RequestShortener;\n}();\n\nmodule.exports = RequestShortener;","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/webpack/lib/RequestShortener.js"],"names":["path","require","NORMALIZE_SLASH_DIRECTION_REGEXP","PATH_CHARS_REGEXP","SEPARATOR_REGEXP","FRONT_OR_BACK_BANG_REGEXP","INDEX_JS_REGEXP","MATCH_RESOURCE_REGEXP","normalizeBackSlashDirection","request","replace","createRegExpForPath","regexpTypePartial","RegExp","RequestShortener","directory","test","substr","length","currentDirectoryRegExp","dirname","endsWithSeparator","parentDirectory","parentDirectoryRegExp","__dirname","buildins","join","buildinsAsModule","buildinsRegExp","cache","Map","cacheEntry","get","undefined","result","set","module","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst path = require(\"path\");\nconst NORMALIZE_SLASH_DIRECTION_REGEXP = /\\\\/g;\nconst PATH_CHARS_REGEXP = /[-[\\]{}()*+?.,\\\\^$|#\\s]/g;\nconst SEPARATOR_REGEXP = /[/\\\\]$/;\nconst FRONT_OR_BACK_BANG_REGEXP = /^!|!$/g;\nconst INDEX_JS_REGEXP = /\\/index.js(!|\\?|\\(query\\))/g;\nconst MATCH_RESOURCE_REGEXP = /!=!/;\n\nconst normalizeBackSlashDirection = request => {\n\treturn request.replace(NORMALIZE_SLASH_DIRECTION_REGEXP, \"/\");\n};\n\nconst createRegExpForPath = path => {\n\tconst regexpTypePartial = path.replace(PATH_CHARS_REGEXP, \"\\\\$&\");\n\treturn new RegExp(`(^|!)${regexpTypePartial}`, \"g\");\n};\n\nclass RequestShortener {\n\tconstructor(directory) {\n\t\tdirectory = normalizeBackSlashDirection(directory);\n\t\tif (SEPARATOR_REGEXP.test(directory)) {\n\t\t\tdirectory = directory.substr(0, directory.length - 1);\n\t\t}\n\n\t\tif (directory) {\n\t\t\tthis.currentDirectoryRegExp = createRegExpForPath(directory);\n\t\t}\n\n\t\tconst dirname = path.dirname(directory);\n\t\tconst endsWithSeparator = SEPARATOR_REGEXP.test(dirname);\n\t\tconst parentDirectory = endsWithSeparator\n\t\t\t? dirname.substr(0, dirname.length - 1)\n\t\t\t: dirname;\n\t\tif (parentDirectory && parentDirectory !== directory) {\n\t\t\tthis.parentDirectoryRegExp = createRegExpForPath(`${parentDirectory}/`);\n\t\t}\n\n\t\tif (__dirname.length >= 2) {\n\t\t\tconst buildins = normalizeBackSlashDirection(path.join(__dirname, \"..\"));\n\t\t\tconst buildinsAsModule =\n\t\t\t\tthis.currentDirectoryRegExp &&\n\t\t\t\tthis.currentDirectoryRegExp.test(buildins);\n\t\t\tthis.buildinsAsModule = buildinsAsModule;\n\t\t\tthis.buildinsRegExp = createRegExpForPath(buildins);\n\t\t}\n\n\t\tthis.cache = new Map();\n\t}\n\n\tshorten(request) {\n\t\tif (!request) return request;\n\t\tconst cacheEntry = this.cache.get(request);\n\t\tif (cacheEntry !== undefined) {\n\t\t\treturn cacheEntry;\n\t\t}\n\t\tlet result = normalizeBackSlashDirection(request);\n\t\tif (this.buildinsAsModule && this.buildinsRegExp) {\n\t\t\tresult = result.replace(this.buildinsRegExp, \"!(webpack)\");\n\t\t}\n\t\tif (this.currentDirectoryRegExp) {\n\t\t\tresult = result.replace(this.currentDirectoryRegExp, \"!.\");\n\t\t}\n\t\tif (this.parentDirectoryRegExp) {\n\t\t\tresult = result.replace(this.parentDirectoryRegExp, \"!../\");\n\t\t}\n\t\tif (!this.buildinsAsModule && this.buildinsRegExp) {\n\t\t\tresult = result.replace(this.buildinsRegExp, \"!(webpack)\");\n\t\t}\n\t\tresult = result.replace(INDEX_JS_REGEXP, \"$1\");\n\t\tresult = result.replace(FRONT_OR_BACK_BANG_REGEXP, \"\");\n\t\tresult = result.replace(MATCH_RESOURCE_REGEXP, \" = \");\n\t\tthis.cache.set(request, result);\n\t\treturn result;\n\t}\n}\n\nmodule.exports = RequestShortener;\n"]},"metadata":{},"sourceType":"script"}