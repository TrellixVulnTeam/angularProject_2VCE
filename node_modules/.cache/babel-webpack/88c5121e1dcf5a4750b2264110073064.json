{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/regenerator\");\n\nvar _objectSpread = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/objectSpread2\");\n\nvar _toConsumableArray = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _slicedToArray = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _createForOfIteratorHelper = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _asyncToGenerator = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _os = _interopRequireDefault(require(\"os\"));\n\nvar _sourceMap = require(\"source-map\");\n\nvar _webpack = _interopRequireWildcard(require(\"webpack\"));\n\nvar _RequestShortener = _interopRequireDefault(require(\"webpack/lib/RequestShortener\"));\n\nvar _schemaUtils = require(\"schema-utils\");\n\nvar _serializeJavascript = _interopRequireDefault(require(\"serialize-javascript\"));\n\nvar _package = _interopRequireDefault(require(\"terser/package.json\"));\n\nvar _pLimit = _interopRequireDefault(require(\"p-limit\"));\n\nvar _jestWorker = _interopRequireDefault(require(\"jest-worker\"));\n\nvar _options = _interopRequireDefault(require(\"./options.json\"));\n\nvar _minify = require(\"./minify\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // webpack 5 exposes the sources property to ensure the right version of webpack-sources is used\n\n\nvar _ref = // eslint-disable-next-line global-require\n_webpack.default.sources || require('webpack-sources'),\n    SourceMapSource = _ref.SourceMapSource,\n    RawSource = _ref.RawSource,\n    ConcatSource = _ref.ConcatSource;\n\nvar TerserPlugin = /*#__PURE__*/function () {\n  function TerserPlugin() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, TerserPlugin);\n\n    (0, _schemaUtils.validate)(_options.default, options, {\n      name: 'Terser Plugin',\n      baseDataPath: 'options'\n    });\n    var minify = options.minify,\n        _options$terserOption = options.terserOptions,\n        terserOptions = _options$terserOption === void 0 ? {} : _options$terserOption,\n        _options$test = options.test,\n        test = _options$test === void 0 ? /\\.[cm]?js(\\?.*)?$/i : _options$test,\n        _options$extractComme = options.extractComments,\n        extractComments = _options$extractComme === void 0 ? true : _options$extractComme,\n        sourceMap = options.sourceMap,\n        _options$cache = options.cache,\n        cache = _options$cache === void 0 ? true : _options$cache,\n        _options$cacheKeys = options.cacheKeys,\n        cacheKeys = _options$cacheKeys === void 0 ? function (defaultCacheKeys) {\n      return defaultCacheKeys;\n    } : _options$cacheKeys,\n        _options$parallel = options.parallel,\n        parallel = _options$parallel === void 0 ? true : _options$parallel,\n        include = options.include,\n        exclude = options.exclude;\n    this.options = {\n      test: test,\n      extractComments: extractComments,\n      sourceMap: sourceMap,\n      cache: cache,\n      cacheKeys: cacheKeys,\n      parallel: parallel,\n      include: include,\n      exclude: exclude,\n      minify: minify,\n      terserOptions: terserOptions\n    };\n  }\n\n  _createClass(TerserPlugin, [{\n    key: \"optimize\",\n    value: function () {\n      var _optimize = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(compiler, compilation, assets, CacheEngine, weakCache) {\n        var _this = this;\n\n        var assetNames, availableNumberOfCores, concurrency, worker, numWorkers, workerStdout, workerStderr, limit, cache, allExtractedComments, scheduledTasks, _iterator, _step, _loop;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (TerserPlugin.isWebpack4()) {\n                  assetNames = [].concat(Array.from(compilation.additionalChunkAssets || [])).concat( // In webpack@4 it is `chunks`\n                  Array.from(assets).reduce(function (acc, chunk) {\n                    return acc.concat(Array.from(chunk.files || []));\n                  }, [])).concat(Object.keys(compilation.assets)).filter(function (assetName, index, existingAssets) {\n                    return existingAssets.indexOf(assetName) === index;\n                  }).filter(function (assetName) {\n                    return _webpack.ModuleFilenameHelpers.matchObject.bind( // eslint-disable-next-line no-undefined\n                    undefined, _this.options)(assetName);\n                  });\n                } else {\n                  assetNames = Object.keys(assets).filter(function (assetName) {\n                    return _webpack.ModuleFilenameHelpers.matchObject.bind( // eslint-disable-next-line no-undefined\n                    undefined, _this.options)(assetName);\n                  });\n                }\n\n                if (!(assetNames.length === 0)) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                availableNumberOfCores = TerserPlugin.getAvailableNumberOfCores(this.options.parallel);\n                concurrency = Infinity;\n\n                if (availableNumberOfCores > 0) {\n                  // Do not create unnecessary workers when the number of files is less than the available cores, it saves memory\n                  numWorkers = Math.min(assetNames.length, availableNumberOfCores);\n                  concurrency = numWorkers;\n                  worker = new _jestWorker.default(require.resolve('./minify'), {\n                    numWorkers: numWorkers\n                  }); // https://github.com/facebook/jest/issues/8872#issuecomment-524822081\n\n                  workerStdout = worker.getStdout();\n\n                  if (workerStdout) {\n                    workerStdout.on('data', function (chunk) {\n                      return process.stdout.write(chunk);\n                    });\n                  }\n\n                  workerStderr = worker.getStderr();\n\n                  if (workerStderr) {\n                    workerStderr.on('data', function (chunk) {\n                      return process.stderr.write(chunk);\n                    });\n                  }\n                }\n\n                limit = (0, _pLimit.default)(concurrency);\n                cache = new CacheEngine(compilation, {\n                  cache: this.options.cache\n                }, weakCache);\n                allExtractedComments = new Map();\n                scheduledTasks = [];\n                _iterator = _createForOfIteratorHelper(assetNames);\n\n                try {\n                  _loop = function _loop() {\n                    var name = _step.value;\n                    scheduledTasks.push(limit( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n                      var _TerserPlugin$getAsse, info, inputSource, input, inputSourceMap, _inputSource$sourceAn, _source, map, cacheData, _compilation$outputOp2, hashSalt, hashDigest, hashDigestLength, hashFunction, hash, digest, output, minimizerOptions, shebang, firstNewlinePosition, commentsFilename, query, filename, querySplit, lastSlashIndex, basename, data, banner, extractedCommentsString, newInfo, _output, source, extractedCommentsSource, _output2, _commentsFilename;\n\n                      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                        while (1) {\n                          switch (_context2.prev = _context2.next) {\n                            case 0:\n                              _TerserPlugin$getAsse = TerserPlugin.getAsset(compilation, name), info = _TerserPlugin$getAsse.info, inputSource = _TerserPlugin$getAsse.source; // Skip double minimize assets from child compilation\n\n                              if (!info.minimized) {\n                                _context2.next = 3;\n                                break;\n                              }\n\n                              return _context2.abrupt(\"return\");\n\n                            case 3:\n                              // TODO refactor after drop webpack@4, webpack@5 always has `sourceAndMap` on sources\n                              if (_this.options.sourceMap && inputSource.sourceAndMap) {\n                                _inputSource$sourceAn = inputSource.sourceAndMap(), _source = _inputSource$sourceAn.source, map = _inputSource$sourceAn.map;\n                                input = _source;\n\n                                if (map) {\n                                  if (TerserPlugin.isSourceMap(map)) {\n                                    inputSourceMap = map;\n                                  } else {\n                                    inputSourceMap = map;\n                                    compilation.warnings.push(new Error(\"\".concat(name, \" contains invalid source map\")));\n                                  }\n                                }\n                              } else {\n                                input = inputSource.source();\n                                inputSourceMap = null;\n                              }\n\n                              if (Buffer.isBuffer(input)) {\n                                input = input.toString();\n                              }\n\n                              cacheData = {\n                                name: name,\n                                inputSource: inputSource\n                              };\n\n                              if (TerserPlugin.isWebpack4()) {\n                                if (_this.options.cache) {\n                                  _compilation$outputOp2 = compilation.outputOptions, hashSalt = _compilation$outputOp2.hashSalt, hashDigest = _compilation$outputOp2.hashDigest, hashDigestLength = _compilation$outputOp2.hashDigestLength, hashFunction = _compilation$outputOp2.hashFunction;\n                                  hash = _webpack.util.createHash(hashFunction);\n\n                                  if (hashSalt) {\n                                    hash.update(hashSalt);\n                                  }\n\n                                  hash.update(input);\n                                  digest = hash.digest(hashDigest);\n                                  cacheData.input = input;\n                                  cacheData.inputSourceMap = inputSourceMap;\n                                  cacheData.cacheKeys = _this.options.cacheKeys({\n                                    terser: _package.default.version,\n                                    // eslint-disable-next-line global-require\n                                    'terser-webpack-plugin': require('../package.json').version,\n                                    'terser-webpack-plugin-options': _this.options,\n                                    name: name,\n                                    contentHash: digest.substr(0, hashDigestLength)\n                                  }, name);\n                                }\n                              }\n\n                              _context2.next = 9;\n                              return cache.get(cacheData, {\n                                RawSource: RawSource,\n                                ConcatSource: ConcatSource,\n                                SourceMapSource: SourceMapSource\n                              });\n\n                            case 9:\n                              output = _context2.sent;\n\n                              if (output) {\n                                _context2.next = 28;\n                                break;\n                              }\n\n                              minimizerOptions = {\n                                name: name,\n                                input: input,\n                                inputSourceMap: inputSourceMap,\n                                minify: _this.options.minify,\n                                minimizerOptions: _this.options.terserOptions,\n                                extractComments: _this.options.extractComments\n                              };\n\n                              if (/\\.mjs(\\?.*)?$/i.test(name)) {\n                                _this.options.terserOptions.module = true;\n                              }\n\n                              _context2.prev = 13;\n                              _context2.next = 16;\n                              return worker ? worker.transform((0, _serializeJavascript.default)(minimizerOptions)) : (0, _minify.minify)(minimizerOptions);\n\n                            case 16:\n                              output = _context2.sent;\n                              _context2.next = 23;\n                              break;\n\n                            case 19:\n                              _context2.prev = 19;\n                              _context2.t0 = _context2[\"catch\"](13);\n                              compilation.errors.push(TerserPlugin.buildError(_context2.t0, name, inputSourceMap && TerserPlugin.isSourceMap(inputSourceMap) ? new _sourceMap.SourceMapConsumer(inputSourceMap) : null, new _RequestShortener.default(compiler.context)));\n                              return _context2.abrupt(\"return\");\n\n                            case 23:\n                              if (_this.options.extractComments.banner !== false && output.extractedComments && output.extractedComments.length > 0 && output.code.startsWith('#!')) {\n                                firstNewlinePosition = output.code.indexOf('\\n');\n                                shebang = output.code.substring(0, firstNewlinePosition);\n                                output.code = output.code.substring(firstNewlinePosition + 1);\n                              }\n\n                              if (output.map) {\n                                output.source = new SourceMapSource(output.code, name, output.map, input, inputSourceMap, true);\n                              } else {\n                                output.source = new RawSource(output.code);\n                              }\n\n                              if (output.extractedComments && output.extractedComments.length > 0) {\n                                commentsFilename = _this.options.extractComments.filename || '[file].LICENSE.txt[query]';\n                                query = '';\n                                filename = name;\n                                querySplit = filename.indexOf('?');\n\n                                if (querySplit >= 0) {\n                                  query = filename.substr(querySplit);\n                                  filename = filename.substr(0, querySplit);\n                                }\n\n                                lastSlashIndex = filename.lastIndexOf('/');\n                                basename = lastSlashIndex === -1 ? filename : filename.substr(lastSlashIndex + 1);\n                                data = {\n                                  filename: filename,\n                                  basename: basename,\n                                  query: query\n                                };\n                                commentsFilename = compilation.getPath(commentsFilename, data);\n                                output.commentsFilename = commentsFilename;\n\n                                // Add a banner to the original file\n                                if (_this.options.extractComments.banner !== false) {\n                                  banner = _this.options.extractComments.banner || \"For license information please see \".concat(_path.default.relative(_path.default.dirname(name), commentsFilename).replace(/\\\\/g, '/'));\n\n                                  if (typeof banner === 'function') {\n                                    banner = banner(commentsFilename);\n                                  }\n\n                                  if (banner) {\n                                    output.source = new ConcatSource(shebang ? \"\".concat(shebang, \"\\n\") : '', \"/*! \".concat(banner, \" */\\n\"), output.source);\n                                    output.banner = banner;\n                                    output.shebang = shebang;\n                                  }\n                                }\n\n                                extractedCommentsString = output.extractedComments.sort().join('\\n\\n');\n                                output.extractedCommentsSource = new RawSource(\"\".concat(extractedCommentsString, \"\\n\"));\n                              }\n\n                              _context2.next = 28;\n                              return cache.store(_objectSpread(_objectSpread({}, output), cacheData));\n\n                            case 28:\n                              // TODO `...` required only for webpack@4\n                              newInfo = _objectSpread(_objectSpread({}, info), {}, {\n                                minimized: true\n                              });\n                              _output = output, source = _output.source, extractedCommentsSource = _output.extractedCommentsSource; // Write extracted comments to commentsFilename\n\n                              if (extractedCommentsSource) {\n                                _output2 = output, _commentsFilename = _output2.commentsFilename; // TODO `...` required only for webpack@4\n\n                                newInfo.related = _objectSpread({\n                                  license: _commentsFilename\n                                }, info.related);\n                                allExtractedComments.set(name, {\n                                  extractedCommentsSource: extractedCommentsSource,\n                                  commentsFilename: _commentsFilename\n                                });\n                              }\n\n                              TerserPlugin.updateAsset(compilation, name, source, newInfo);\n\n                            case 32:\n                            case \"end\":\n                              return _context2.stop();\n                          }\n                        }\n                      }, _callee2, null, [[13, 19]]);\n                    }))));\n                  };\n\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    _loop();\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                _context3.next = 14;\n                return Promise.all(scheduledTasks);\n\n              case 14:\n                if (!worker) {\n                  _context3.next = 17;\n                  break;\n                }\n\n                _context3.next = 17;\n                return worker.end();\n\n              case 17:\n                _context3.next = 19;\n                return Array.from(allExtractedComments).sort().reduce( /*#__PURE__*/function () {\n                  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(previousPromise, _ref2) {\n                    var _ref4, from, value, previous, commentsFilename, extractedCommentsSource, previousFrom, prevSource, mergedName, cacheData, _compilation$outputOp, hashSalt, hashDigest, hashDigestLength, hashFunction, previousHash, hash, previousDigest, digest, mergedInputSource, output, existingAsset;\n\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _ref4 = _slicedToArray(_ref2, 2), from = _ref4[0], value = _ref4[1];\n                            _context.next = 3;\n                            return previousPromise;\n\n                          case 3:\n                            previous = _context.sent;\n                            commentsFilename = value.commentsFilename, extractedCommentsSource = value.extractedCommentsSource;\n\n                            if (!(previous && previous.commentsFilename === commentsFilename)) {\n                              _context.next = 19;\n                              break;\n                            }\n\n                            previousFrom = previous.from, prevSource = previous.source;\n                            mergedName = \"\".concat(previousFrom, \"|\").concat(from);\n                            cacheData = {\n                              target: 'comments'\n                            };\n\n                            if (TerserPlugin.isWebpack4()) {\n                              _compilation$outputOp = compilation.outputOptions, hashSalt = _compilation$outputOp.hashSalt, hashDigest = _compilation$outputOp.hashDigest, hashDigestLength = _compilation$outputOp.hashDigestLength, hashFunction = _compilation$outputOp.hashFunction;\n                              previousHash = _webpack.util.createHash(hashFunction);\n                              hash = _webpack.util.createHash(hashFunction);\n\n                              if (hashSalt) {\n                                previousHash.update(hashSalt);\n                                hash.update(hashSalt);\n                              }\n\n                              previousHash.update(prevSource.source());\n                              hash.update(extractedCommentsSource.source());\n                              previousDigest = previousHash.digest(hashDigest);\n                              digest = hash.digest(hashDigest);\n                              cacheData.cacheKeys = {\n                                mergedName: mergedName,\n                                previousContentHash: previousDigest.substr(0, hashDigestLength),\n                                contentHash: digest.substr(0, hashDigestLength)\n                              };\n                              cacheData.inputSource = extractedCommentsSource;\n                            } else {\n                              mergedInputSource = [prevSource, extractedCommentsSource];\n                              cacheData.name = \"\".concat(commentsFilename, \"|\").concat(mergedName);\n                              cacheData.inputSource = mergedInputSource;\n                            }\n\n                            _context.next = 12;\n                            return cache.get(cacheData, {\n                              ConcatSource: ConcatSource\n                            });\n\n                          case 12:\n                            output = _context.sent;\n\n                            if (output) {\n                              _context.next = 17;\n                              break;\n                            }\n\n                            output = new ConcatSource(Array.from(new Set([].concat(_toConsumableArray(prevSource.source().split('\\n\\n')), _toConsumableArray(extractedCommentsSource.source().split('\\n\\n'))))).join('\\n\\n'));\n                            _context.next = 17;\n                            return cache.store(_objectSpread(_objectSpread({}, cacheData), {}, {\n                              output: output\n                            }));\n\n                          case 17:\n                            TerserPlugin.updateAsset(compilation, commentsFilename, output);\n                            return _context.abrupt(\"return\", {\n                              commentsFilename: commentsFilename,\n                              from: mergedName,\n                              source: output\n                            });\n\n                          case 19:\n                            existingAsset = TerserPlugin.getAsset(compilation, commentsFilename);\n\n                            if (!existingAsset) {\n                              _context.next = 22;\n                              break;\n                            }\n\n                            return _context.abrupt(\"return\", {\n                              commentsFilename: commentsFilename,\n                              from: commentsFilename,\n                              source: existingAsset.source\n                            });\n\n                          case 22:\n                            TerserPlugin.emitAsset(compilation, commentsFilename, extractedCommentsSource);\n                            return _context.abrupt(\"return\", {\n                              commentsFilename: commentsFilename,\n                              from: from,\n                              source: extractedCommentsSource\n                            });\n\n                          case 24:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function (_x6, _x7) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }(), Promise.resolve());\n\n              case 19:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function optimize(_x, _x2, _x3, _x4, _x5) {\n        return _optimize.apply(this, arguments);\n      }\n\n      return optimize;\n    }()\n  }, {\n    key: \"apply\",\n    value: function apply(compiler) {\n      var _this2 = this;\n\n      var _compiler$options = compiler.options,\n          devtool = _compiler$options.devtool,\n          output = _compiler$options.output,\n          plugins = _compiler$options.plugins;\n      this.options.sourceMap = typeof this.options.sourceMap === 'undefined' ? devtool && !devtool.includes('eval') && !devtool.includes('cheap') && (devtool.includes('source-map') || // Todo remove when `webpack@4` support will be dropped\n      devtool.includes('sourcemap')) || plugins && plugins.some(function (plugin) {\n        return plugin instanceof _webpack.SourceMapDevToolPlugin && plugin.options && plugin.options.columns;\n      }) : Boolean(this.options.sourceMap);\n\n      if (typeof this.options.terserOptions.module === 'undefined' && typeof output.module !== 'undefined') {\n        this.options.terserOptions.module = output.module;\n      }\n\n      if (typeof this.options.terserOptions.ecma === 'undefined') {\n        this.options.terserOptions.ecma = TerserPlugin.getEcmaVersion(output.environment || {});\n      }\n\n      var pluginName = this.constructor.name;\n      var weakCache = TerserPlugin.isWebpack4() && (this.options.cache === true || typeof this.options.cache === 'string') ? new WeakMap() : // eslint-disable-next-line no-undefined\n      undefined;\n      compiler.hooks.compilation.tap(pluginName, function (compilation) {\n        if (_this2.options.sourceMap) {\n          compilation.hooks.buildModule.tap(pluginName, function (moduleArg) {\n            // to get detailed location info about errors\n            // eslint-disable-next-line no-param-reassign\n            moduleArg.useSourceMap = true;\n          });\n        }\n\n        if (TerserPlugin.isWebpack4()) {\n          (function () {\n            // eslint-disable-next-line global-require\n            var CacheEngine = require('./Webpack4Cache').default;\n\n            var mainTemplate = compilation.mainTemplate,\n                chunkTemplate = compilation.chunkTemplate;\n            var data = (0, _serializeJavascript.default)({\n              terser: _package.default.version,\n              terserOptions: _this2.options.terserOptions\n            }); // Regenerate `contenthash` for minified assets\n\n            for (var _i = 0, _arr = [mainTemplate, chunkTemplate]; _i < _arr.length; _i++) {\n              var template = _arr[_i];\n              template.hooks.hashForChunk.tap(pluginName, function (hash) {\n                hash.update('TerserPlugin');\n                hash.update(data);\n              });\n            }\n\n            compilation.hooks.optimizeChunkAssets.tapPromise(pluginName, function (assets) {\n              return _this2.optimize(compiler, compilation, assets, CacheEngine, weakCache);\n            });\n          })();\n        } else {\n          // eslint-disable-next-line global-require\n          var CacheEngine = require('./Webpack5Cache').default; // eslint-disable-next-line global-require\n\n\n          var Compilation = require('webpack/lib/Compilation');\n\n          var hooks = _webpack.javascript.JavascriptModulesPlugin.getCompilationHooks(compilation);\n\n          var data = (0, _serializeJavascript.default)({\n            terser: _package.default.version,\n            terserOptions: _this2.options.terserOptions\n          });\n          hooks.chunkHash.tap(pluginName, function (chunk, hash) {\n            hash.update('TerserPlugin');\n            hash.update(data);\n          });\n          compilation.hooks.processAssets.tapPromise({\n            name: pluginName,\n            stage: Compilation.PROCESS_ASSETS_STAGE_OPTIMIZE_SIZE\n          }, function (assets) {\n            return _this2.optimize(compiler, compilation, assets, CacheEngine);\n          });\n          compilation.hooks.statsPrinter.tap(pluginName, function (stats) {\n            stats.hooks.print.for('asset.info.minimized').tap('terser-webpack-plugin', function (minimized, _ref6) {\n              var green = _ref6.green,\n                  formatFlag = _ref6.formatFlag;\n              return (// eslint-disable-next-line no-undefined\n                minimized ? green(formatFlag('minimized')) : undefined\n              );\n            });\n          });\n        }\n      });\n    }\n  }], [{\n    key: \"isSourceMap\",\n    value: function isSourceMap(input) {\n      // All required options for `new SourceMapConsumer(...options)`\n      // https://github.com/mozilla/source-map#new-sourcemapconsumerrawsourcemap\n      return Boolean(input && input.version && input.sources && Array.isArray(input.sources) && typeof input.mappings === 'string');\n    }\n  }, {\n    key: \"buildError\",\n    value: function buildError(error, file, sourceMap, requestShortener) {\n      if (error.line) {\n        var original = sourceMap && sourceMap.originalPositionFor({\n          line: error.line,\n          column: error.col\n        });\n\n        if (original && original.source && requestShortener) {\n          return new Error(\"\".concat(file, \" from Terser\\n\").concat(error.message, \" [\").concat(requestShortener.shorten(original.source), \":\").concat(original.line, \",\").concat(original.column, \"][\").concat(file, \":\").concat(error.line, \",\").concat(error.col, \"]\").concat(error.stack ? \"\\n\".concat(error.stack.split('\\n').slice(1).join('\\n')) : ''));\n        }\n\n        return new Error(\"\".concat(file, \" from Terser\\n\").concat(error.message, \" [\").concat(file, \":\").concat(error.line, \",\").concat(error.col, \"]\").concat(error.stack ? \"\\n\".concat(error.stack.split('\\n').slice(1).join('\\n')) : ''));\n      }\n\n      if (error.stack) {\n        return new Error(\"\".concat(file, \" from Terser\\n\").concat(error.stack));\n      }\n\n      return new Error(\"\".concat(file, \" from Terser\\n\").concat(error.message));\n    }\n  }, {\n    key: \"isWebpack4\",\n    value: function isWebpack4() {\n      return _webpack.version[0] === '4';\n    }\n  }, {\n    key: \"getAvailableNumberOfCores\",\n    value: function getAvailableNumberOfCores(parallel) {\n      // In some cases cpus() returns undefined\n      // https://github.com/nodejs/node/issues/19022\n      var cpus = _os.default.cpus() || {\n        length: 1\n      };\n      return parallel === true ? cpus.length - 1 : Math.min(Number(parallel) || 0, cpus.length - 1);\n    } // eslint-disable-next-line consistent-return\n\n  }, {\n    key: \"getAsset\",\n    value: function getAsset(compilation, name) {\n      // New API\n      if (compilation.getAsset) {\n        return compilation.getAsset(name);\n      }\n      /* istanbul ignore next */\n\n\n      if (compilation.assets[name]) {\n        return {\n          name: name,\n          source: compilation.assets[name],\n          info: {}\n        };\n      }\n    }\n  }, {\n    key: \"emitAsset\",\n    value: function emitAsset(compilation, name, source, assetInfo) {\n      // New API\n      if (compilation.emitAsset) {\n        compilation.emitAsset(name, source, assetInfo);\n      } // eslint-disable-next-line no-param-reassign\n\n\n      compilation.assets[name] = source;\n    }\n  }, {\n    key: \"updateAsset\",\n    value: function updateAsset(compilation, name, newSource, assetInfo) {\n      // New API\n      if (compilation.updateAsset) {\n        compilation.updateAsset(name, newSource, assetInfo);\n      } // eslint-disable-next-line no-param-reassign\n\n\n      compilation.assets[name] = newSource;\n    }\n  }, {\n    key: \"getEcmaVersion\",\n    value: function getEcmaVersion(environment) {\n      // ES 6th\n      if (environment.arrowFunction || environment.const || environment.destructuring || environment.forOf || environment.module) {\n        return 2015;\n      } // ES 11th\n\n\n      if (environment.bigIntLiteral || environment.dynamicImport) {\n        return 2020;\n      }\n\n      return 5;\n    }\n  }]);\n\n  return TerserPlugin;\n}();\n\nvar _default = TerserPlugin;\nexports.default = _default;","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/terser-webpack-plugin/dist/index.js"],"names":["Object","defineProperty","exports","value","default","_path","_interopRequireDefault","require","_os","_sourceMap","_webpack","_interopRequireWildcard","_RequestShortener","_schemaUtils","_serializeJavascript","_package","_pLimit","_jestWorker","_options","_minify","_getRequireWildcardCache","WeakMap","cache","obj","__esModule","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","sources","SourceMapSource","RawSource","ConcatSource","TerserPlugin","options","validate","name","baseDataPath","minify","terserOptions","test","extractComments","sourceMap","cacheKeys","defaultCacheKeys","parallel","include","exclude","compiler","compilation","assets","CacheEngine","weakCache","isWebpack4","assetNames","concat","Array","from","additionalChunkAssets","reduce","acc","chunk","files","keys","filter","assetName","index","existingAssets","indexOf","ModuleFilenameHelpers","matchObject","bind","undefined","length","availableNumberOfCores","getAvailableNumberOfCores","concurrency","Infinity","numWorkers","Math","min","worker","resolve","workerStdout","getStdout","on","process","stdout","write","workerStderr","getStderr","stderr","limit","allExtractedComments","Map","scheduledTasks","push","getAsset","info","inputSource","source","minimized","sourceAndMap","map","input","isSourceMap","inputSourceMap","warnings","Error","Buffer","isBuffer","toString","cacheData","outputOptions","hashSalt","hashDigest","hashDigestLength","hashFunction","hash","util","createHash","update","digest","terser","version","contentHash","substr","output","minimizerOptions","module","transform","errors","buildError","SourceMapConsumer","context","banner","extractedComments","code","startsWith","firstNewlinePosition","shebang","substring","commentsFilename","filename","query","querySplit","lastSlashIndex","lastIndexOf","basename","data","getPath","relative","dirname","replace","extractedCommentsString","sort","join","extractedCommentsSource","store","newInfo","related","license","updateAsset","Promise","all","end","previousPromise","previous","previousFrom","prevSource","mergedName","target","previousHash","previousDigest","previousContentHash","mergedInputSource","Set","split","existingAsset","emitAsset","devtool","plugins","includes","some","plugin","SourceMapDevToolPlugin","columns","Boolean","ecma","getEcmaVersion","environment","pluginName","constructor","hooks","tap","buildModule","moduleArg","useSourceMap","mainTemplate","chunkTemplate","template","hashForChunk","optimizeChunkAssets","tapPromise","optimize","Compilation","javascript","JavascriptModulesPlugin","getCompilationHooks","chunkHash","processAssets","stage","PROCESS_ASSETS_STAGE_OPTIMIZE_SIZE","statsPrinter","stats","print","for","green","formatFlag","isArray","mappings","error","file","requestShortener","line","original","originalPositionFor","column","col","message","shorten","stack","slice","cpus","Number","assetInfo","newSource","arrowFunction","const","destructuring","forOf","bigIntLiteral","dynamicImport","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _os = _interopRequireDefault(require(\"os\"));\n\nvar _sourceMap = require(\"source-map\");\n\nvar _webpack = _interopRequireWildcard(require(\"webpack\"));\n\nvar _RequestShortener = _interopRequireDefault(require(\"webpack/lib/RequestShortener\"));\n\nvar _schemaUtils = require(\"schema-utils\");\n\nvar _serializeJavascript = _interopRequireDefault(require(\"serialize-javascript\"));\n\nvar _package = _interopRequireDefault(require(\"terser/package.json\"));\n\nvar _pLimit = _interopRequireDefault(require(\"p-limit\"));\n\nvar _jestWorker = _interopRequireDefault(require(\"jest-worker\"));\n\nvar _options = _interopRequireDefault(require(\"./options.json\"));\n\nvar _minify = require(\"./minify\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// webpack 5 exposes the sources property to ensure the right version of webpack-sources is used\nconst {\n  SourceMapSource,\n  RawSource,\n  ConcatSource\n} = // eslint-disable-next-line global-require\n_webpack.default.sources || require('webpack-sources');\n\nclass TerserPlugin {\n  constructor(options = {}) {\n    (0, _schemaUtils.validate)(_options.default, options, {\n      name: 'Terser Plugin',\n      baseDataPath: 'options'\n    });\n    const {\n      minify,\n      terserOptions = {},\n      test = /\\.[cm]?js(\\?.*)?$/i,\n      extractComments = true,\n      sourceMap,\n      cache = true,\n      cacheKeys = defaultCacheKeys => defaultCacheKeys,\n      parallel = true,\n      include,\n      exclude\n    } = options;\n    this.options = {\n      test,\n      extractComments,\n      sourceMap,\n      cache,\n      cacheKeys,\n      parallel,\n      include,\n      exclude,\n      minify,\n      terserOptions\n    };\n  }\n\n  static isSourceMap(input) {\n    // All required options for `new SourceMapConsumer(...options)`\n    // https://github.com/mozilla/source-map#new-sourcemapconsumerrawsourcemap\n    return Boolean(input && input.version && input.sources && Array.isArray(input.sources) && typeof input.mappings === 'string');\n  }\n\n  static buildError(error, file, sourceMap, requestShortener) {\n    if (error.line) {\n      const original = sourceMap && sourceMap.originalPositionFor({\n        line: error.line,\n        column: error.col\n      });\n\n      if (original && original.source && requestShortener) {\n        return new Error(`${file} from Terser\\n${error.message} [${requestShortener.shorten(original.source)}:${original.line},${original.column}][${file}:${error.line},${error.col}]${error.stack ? `\\n${error.stack.split('\\n').slice(1).join('\\n')}` : ''}`);\n      }\n\n      return new Error(`${file} from Terser\\n${error.message} [${file}:${error.line},${error.col}]${error.stack ? `\\n${error.stack.split('\\n').slice(1).join('\\n')}` : ''}`);\n    }\n\n    if (error.stack) {\n      return new Error(`${file} from Terser\\n${error.stack}`);\n    }\n\n    return new Error(`${file} from Terser\\n${error.message}`);\n  }\n\n  static isWebpack4() {\n    return _webpack.version[0] === '4';\n  }\n\n  static getAvailableNumberOfCores(parallel) {\n    // In some cases cpus() returns undefined\n    // https://github.com/nodejs/node/issues/19022\n    const cpus = _os.default.cpus() || {\n      length: 1\n    };\n    return parallel === true ? cpus.length - 1 : Math.min(Number(parallel) || 0, cpus.length - 1);\n  } // eslint-disable-next-line consistent-return\n\n\n  static getAsset(compilation, name) {\n    // New API\n    if (compilation.getAsset) {\n      return compilation.getAsset(name);\n    }\n    /* istanbul ignore next */\n\n\n    if (compilation.assets[name]) {\n      return {\n        name,\n        source: compilation.assets[name],\n        info: {}\n      };\n    }\n  }\n\n  static emitAsset(compilation, name, source, assetInfo) {\n    // New API\n    if (compilation.emitAsset) {\n      compilation.emitAsset(name, source, assetInfo);\n    } // eslint-disable-next-line no-param-reassign\n\n\n    compilation.assets[name] = source;\n  }\n\n  static updateAsset(compilation, name, newSource, assetInfo) {\n    // New API\n    if (compilation.updateAsset) {\n      compilation.updateAsset(name, newSource, assetInfo);\n    } // eslint-disable-next-line no-param-reassign\n\n\n    compilation.assets[name] = newSource;\n  }\n\n  async optimize(compiler, compilation, assets, CacheEngine, weakCache) {\n    let assetNames;\n\n    if (TerserPlugin.isWebpack4()) {\n      assetNames = [].concat(Array.from(compilation.additionalChunkAssets || [])).concat( // In webpack@4 it is `chunks`\n      Array.from(assets).reduce((acc, chunk) => acc.concat(Array.from(chunk.files || [])), [])).concat(Object.keys(compilation.assets)).filter((assetName, index, existingAssets) => existingAssets.indexOf(assetName) === index).filter(assetName => _webpack.ModuleFilenameHelpers.matchObject.bind( // eslint-disable-next-line no-undefined\n      undefined, this.options)(assetName));\n    } else {\n      assetNames = Object.keys(assets).filter(assetName => _webpack.ModuleFilenameHelpers.matchObject.bind( // eslint-disable-next-line no-undefined\n      undefined, this.options)(assetName));\n    }\n\n    if (assetNames.length === 0) {\n      return;\n    }\n\n    const availableNumberOfCores = TerserPlugin.getAvailableNumberOfCores(this.options.parallel);\n    let concurrency = Infinity;\n    let worker;\n\n    if (availableNumberOfCores > 0) {\n      // Do not create unnecessary workers when the number of files is less than the available cores, it saves memory\n      const numWorkers = Math.min(assetNames.length, availableNumberOfCores);\n      concurrency = numWorkers;\n      worker = new _jestWorker.default(require.resolve('./minify'), {\n        numWorkers\n      }); // https://github.com/facebook/jest/issues/8872#issuecomment-524822081\n\n      const workerStdout = worker.getStdout();\n\n      if (workerStdout) {\n        workerStdout.on('data', chunk => {\n          return process.stdout.write(chunk);\n        });\n      }\n\n      const workerStderr = worker.getStderr();\n\n      if (workerStderr) {\n        workerStderr.on('data', chunk => {\n          return process.stderr.write(chunk);\n        });\n      }\n    }\n\n    const limit = (0, _pLimit.default)(concurrency);\n    const cache = new CacheEngine(compilation, {\n      cache: this.options.cache\n    }, weakCache);\n    const allExtractedComments = new Map();\n    const scheduledTasks = [];\n\n    for (const name of assetNames) {\n      scheduledTasks.push(limit(async () => {\n        const {\n          info,\n          source: inputSource\n        } = TerserPlugin.getAsset(compilation, name); // Skip double minimize assets from child compilation\n\n        if (info.minimized) {\n          return;\n        }\n\n        let input;\n        let inputSourceMap; // TODO refactor after drop webpack@4, webpack@5 always has `sourceAndMap` on sources\n\n        if (this.options.sourceMap && inputSource.sourceAndMap) {\n          const {\n            source,\n            map\n          } = inputSource.sourceAndMap();\n          input = source;\n\n          if (map) {\n            if (TerserPlugin.isSourceMap(map)) {\n              inputSourceMap = map;\n            } else {\n              inputSourceMap = map;\n              compilation.warnings.push(new Error(`${name} contains invalid source map`));\n            }\n          }\n        } else {\n          input = inputSource.source();\n          inputSourceMap = null;\n        }\n\n        if (Buffer.isBuffer(input)) {\n          input = input.toString();\n        }\n\n        const cacheData = {\n          name,\n          inputSource\n        };\n\n        if (TerserPlugin.isWebpack4()) {\n          if (this.options.cache) {\n            const {\n              outputOptions: {\n                hashSalt,\n                hashDigest,\n                hashDigestLength,\n                hashFunction\n              }\n            } = compilation;\n\n            const hash = _webpack.util.createHash(hashFunction);\n\n            if (hashSalt) {\n              hash.update(hashSalt);\n            }\n\n            hash.update(input);\n            const digest = hash.digest(hashDigest);\n            cacheData.input = input;\n            cacheData.inputSourceMap = inputSourceMap;\n            cacheData.cacheKeys = this.options.cacheKeys({\n              terser: _package.default.version,\n              // eslint-disable-next-line global-require\n              'terser-webpack-plugin': require('../package.json').version,\n              'terser-webpack-plugin-options': this.options,\n              name,\n              contentHash: digest.substr(0, hashDigestLength)\n            }, name);\n          }\n        }\n\n        let output = await cache.get(cacheData, {\n          RawSource,\n          ConcatSource,\n          SourceMapSource\n        });\n\n        if (!output) {\n          const minimizerOptions = {\n            name,\n            input,\n            inputSourceMap,\n            minify: this.options.minify,\n            minimizerOptions: this.options.terserOptions,\n            extractComments: this.options.extractComments\n          };\n\n          if (/\\.mjs(\\?.*)?$/i.test(name)) {\n            this.options.terserOptions.module = true;\n          }\n\n          try {\n            output = await (worker ? worker.transform((0, _serializeJavascript.default)(minimizerOptions)) : (0, _minify.minify)(minimizerOptions));\n          } catch (error) {\n            compilation.errors.push(TerserPlugin.buildError(error, name, inputSourceMap && TerserPlugin.isSourceMap(inputSourceMap) ? new _sourceMap.SourceMapConsumer(inputSourceMap) : null, new _RequestShortener.default(compiler.context)));\n            return;\n          }\n\n          let shebang;\n\n          if (this.options.extractComments.banner !== false && output.extractedComments && output.extractedComments.length > 0 && output.code.startsWith('#!')) {\n            const firstNewlinePosition = output.code.indexOf('\\n');\n            shebang = output.code.substring(0, firstNewlinePosition);\n            output.code = output.code.substring(firstNewlinePosition + 1);\n          }\n\n          if (output.map) {\n            output.source = new SourceMapSource(output.code, name, output.map, input, inputSourceMap, true);\n          } else {\n            output.source = new RawSource(output.code);\n          }\n\n          let commentsFilename;\n\n          if (output.extractedComments && output.extractedComments.length > 0) {\n            commentsFilename = this.options.extractComments.filename || '[file].LICENSE.txt[query]';\n            let query = '';\n            let filename = name;\n            const querySplit = filename.indexOf('?');\n\n            if (querySplit >= 0) {\n              query = filename.substr(querySplit);\n              filename = filename.substr(0, querySplit);\n            }\n\n            const lastSlashIndex = filename.lastIndexOf('/');\n            const basename = lastSlashIndex === -1 ? filename : filename.substr(lastSlashIndex + 1);\n            const data = {\n              filename,\n              basename,\n              query\n            };\n            commentsFilename = compilation.getPath(commentsFilename, data);\n            output.commentsFilename = commentsFilename;\n            let banner; // Add a banner to the original file\n\n            if (this.options.extractComments.banner !== false) {\n              banner = this.options.extractComments.banner || `For license information please see ${_path.default.relative(_path.default.dirname(name), commentsFilename).replace(/\\\\/g, '/')}`;\n\n              if (typeof banner === 'function') {\n                banner = banner(commentsFilename);\n              }\n\n              if (banner) {\n                output.source = new ConcatSource(shebang ? `${shebang}\\n` : '', `/*! ${banner} */\\n`, output.source);\n                output.banner = banner;\n                output.shebang = shebang;\n              }\n            }\n\n            const extractedCommentsString = output.extractedComments.sort().join('\\n\\n');\n            output.extractedCommentsSource = new RawSource(`${extractedCommentsString}\\n`);\n          }\n\n          await cache.store({ ...output,\n            ...cacheData\n          });\n        } // TODO `...` required only for webpack@4\n\n\n        const newInfo = { ...info,\n          minimized: true\n        };\n        const {\n          source,\n          extractedCommentsSource\n        } = output; // Write extracted comments to commentsFilename\n\n        if (extractedCommentsSource) {\n          const {\n            commentsFilename\n          } = output; // TODO `...` required only for webpack@4\n\n          newInfo.related = {\n            license: commentsFilename,\n            ...info.related\n          };\n          allExtractedComments.set(name, {\n            extractedCommentsSource,\n            commentsFilename\n          });\n        }\n\n        TerserPlugin.updateAsset(compilation, name, source, newInfo);\n      }));\n    }\n\n    await Promise.all(scheduledTasks);\n\n    if (worker) {\n      await worker.end();\n    }\n\n    await Array.from(allExtractedComments).sort().reduce(async (previousPromise, [from, value]) => {\n      const previous = await previousPromise;\n      const {\n        commentsFilename,\n        extractedCommentsSource\n      } = value;\n\n      if (previous && previous.commentsFilename === commentsFilename) {\n        const {\n          from: previousFrom,\n          source: prevSource\n        } = previous;\n        const mergedName = `${previousFrom}|${from}`;\n        const cacheData = {\n          target: 'comments'\n        };\n\n        if (TerserPlugin.isWebpack4()) {\n          const {\n            outputOptions: {\n              hashSalt,\n              hashDigest,\n              hashDigestLength,\n              hashFunction\n            }\n          } = compilation;\n\n          const previousHash = _webpack.util.createHash(hashFunction);\n\n          const hash = _webpack.util.createHash(hashFunction);\n\n          if (hashSalt) {\n            previousHash.update(hashSalt);\n            hash.update(hashSalt);\n          }\n\n          previousHash.update(prevSource.source());\n          hash.update(extractedCommentsSource.source());\n          const previousDigest = previousHash.digest(hashDigest);\n          const digest = hash.digest(hashDigest);\n          cacheData.cacheKeys = {\n            mergedName,\n            previousContentHash: previousDigest.substr(0, hashDigestLength),\n            contentHash: digest.substr(0, hashDigestLength)\n          };\n          cacheData.inputSource = extractedCommentsSource;\n        } else {\n          const mergedInputSource = [prevSource, extractedCommentsSource];\n          cacheData.name = `${commentsFilename}|${mergedName}`;\n          cacheData.inputSource = mergedInputSource;\n        }\n\n        let output = await cache.get(cacheData, {\n          ConcatSource\n        });\n\n        if (!output) {\n          output = new ConcatSource(Array.from(new Set([...prevSource.source().split('\\n\\n'), ...extractedCommentsSource.source().split('\\n\\n')])).join('\\n\\n'));\n          await cache.store({ ...cacheData,\n            output\n          });\n        }\n\n        TerserPlugin.updateAsset(compilation, commentsFilename, output);\n        return {\n          commentsFilename,\n          from: mergedName,\n          source: output\n        };\n      }\n\n      const existingAsset = TerserPlugin.getAsset(compilation, commentsFilename);\n\n      if (existingAsset) {\n        return {\n          commentsFilename,\n          from: commentsFilename,\n          source: existingAsset.source\n        };\n      }\n\n      TerserPlugin.emitAsset(compilation, commentsFilename, extractedCommentsSource);\n      return {\n        commentsFilename,\n        from,\n        source: extractedCommentsSource\n      };\n    }, Promise.resolve());\n  }\n\n  static getEcmaVersion(environment) {\n    // ES 6th\n    if (environment.arrowFunction || environment.const || environment.destructuring || environment.forOf || environment.module) {\n      return 2015;\n    } // ES 11th\n\n\n    if (environment.bigIntLiteral || environment.dynamicImport) {\n      return 2020;\n    }\n\n    return 5;\n  }\n\n  apply(compiler) {\n    const {\n      devtool,\n      output,\n      plugins\n    } = compiler.options;\n    this.options.sourceMap = typeof this.options.sourceMap === 'undefined' ? devtool && !devtool.includes('eval') && !devtool.includes('cheap') && (devtool.includes('source-map') || // Todo remove when `webpack@4` support will be dropped\n    devtool.includes('sourcemap')) || plugins && plugins.some(plugin => plugin instanceof _webpack.SourceMapDevToolPlugin && plugin.options && plugin.options.columns) : Boolean(this.options.sourceMap);\n\n    if (typeof this.options.terserOptions.module === 'undefined' && typeof output.module !== 'undefined') {\n      this.options.terserOptions.module = output.module;\n    }\n\n    if (typeof this.options.terserOptions.ecma === 'undefined') {\n      this.options.terserOptions.ecma = TerserPlugin.getEcmaVersion(output.environment || {});\n    }\n\n    const pluginName = this.constructor.name;\n    const weakCache = TerserPlugin.isWebpack4() && (this.options.cache === true || typeof this.options.cache === 'string') ? new WeakMap() : // eslint-disable-next-line no-undefined\n    undefined;\n    compiler.hooks.compilation.tap(pluginName, compilation => {\n      if (this.options.sourceMap) {\n        compilation.hooks.buildModule.tap(pluginName, moduleArg => {\n          // to get detailed location info about errors\n          // eslint-disable-next-line no-param-reassign\n          moduleArg.useSourceMap = true;\n        });\n      }\n\n      if (TerserPlugin.isWebpack4()) {\n        // eslint-disable-next-line global-require\n        const CacheEngine = require('./Webpack4Cache').default;\n\n        const {\n          mainTemplate,\n          chunkTemplate\n        } = compilation;\n        const data = (0, _serializeJavascript.default)({\n          terser: _package.default.version,\n          terserOptions: this.options.terserOptions\n        }); // Regenerate `contenthash` for minified assets\n\n        for (const template of [mainTemplate, chunkTemplate]) {\n          template.hooks.hashForChunk.tap(pluginName, hash => {\n            hash.update('TerserPlugin');\n            hash.update(data);\n          });\n        }\n\n        compilation.hooks.optimizeChunkAssets.tapPromise(pluginName, assets => this.optimize(compiler, compilation, assets, CacheEngine, weakCache));\n      } else {\n        // eslint-disable-next-line global-require\n        const CacheEngine = require('./Webpack5Cache').default; // eslint-disable-next-line global-require\n\n\n        const Compilation = require('webpack/lib/Compilation');\n\n        const hooks = _webpack.javascript.JavascriptModulesPlugin.getCompilationHooks(compilation);\n\n        const data = (0, _serializeJavascript.default)({\n          terser: _package.default.version,\n          terserOptions: this.options.terserOptions\n        });\n        hooks.chunkHash.tap(pluginName, (chunk, hash) => {\n          hash.update('TerserPlugin');\n          hash.update(data);\n        });\n        compilation.hooks.processAssets.tapPromise({\n          name: pluginName,\n          stage: Compilation.PROCESS_ASSETS_STAGE_OPTIMIZE_SIZE\n        }, assets => this.optimize(compiler, compilation, assets, CacheEngine));\n        compilation.hooks.statsPrinter.tap(pluginName, stats => {\n          stats.hooks.print.for('asset.info.minimized').tap('terser-webpack-plugin', (minimized, {\n            green,\n            formatFlag\n          }) => // eslint-disable-next-line no-undefined\n          minimized ? green(formatFlag('minimized')) : undefined);\n        });\n      }\n    });\n  }\n\n}\n\nvar _default = TerserPlugin;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}