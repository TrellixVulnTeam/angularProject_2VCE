{"ast":null,"code":"/**\n * Stopper middleware is responsible for communicating with `karma stop`.\n */\nvar log = require('../logger').create('middleware:stopper');\n\nfunction createStopperMiddleware(urlRoot) {\n  return function (request, response, next) {\n    if (request.url !== urlRoot + 'stop') return next();\n    response.writeHead(200);\n    log.info('Stopping server');\n    response.end('OK');\n    process.kill(process.pid, 'SIGINT');\n  };\n}\n\ncreateStopperMiddleware.$inject = ['config.urlRoot'];\nexports.create = createStopperMiddleware;","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/karma/lib/middleware/stopper.js"],"names":["log","require","create","createStopperMiddleware","urlRoot","request","response","next","url","writeHead","info","end","process","kill","pid","$inject","exports"],"mappings":"AAAA;AACA;AACA;AAEA,IAAMA,GAAG,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqBC,MAArB,CAA4B,oBAA5B,CAAZ;;AAEA,SAASC,uBAAT,CAAkCC,OAAlC,EAA2C;AACzC,SAAO,UAAUC,OAAV,EAAmBC,QAAnB,EAA6BC,IAA7B,EAAmC;AACxC,QAAIF,OAAO,CAACG,GAAR,KAAgBJ,OAAO,GAAG,MAA9B,EAAsC,OAAOG,IAAI,EAAX;AACtCD,IAAAA,QAAQ,CAACG,SAAT,CAAmB,GAAnB;AACAT,IAAAA,GAAG,CAACU,IAAJ,CAAS,iBAAT;AACAJ,IAAAA,QAAQ,CAACK,GAAT,CAAa,IAAb;AACAC,IAAAA,OAAO,CAACC,IAAR,CAAaD,OAAO,CAACE,GAArB,EAA0B,QAA1B;AACD,GAND;AAOD;;AAEDX,uBAAuB,CAACY,OAAxB,GAAkC,CAAC,gBAAD,CAAlC;AACAC,OAAO,CAACd,MAAR,GAAiBC,uBAAjB","sourcesContent":["/**\n * Stopper middleware is responsible for communicating with `karma stop`.\n */\n\nconst log = require('../logger').create('middleware:stopper')\n\nfunction createStopperMiddleware (urlRoot) {\n  return function (request, response, next) {\n    if (request.url !== urlRoot + 'stop') return next()\n    response.writeHead(200)\n    log.info('Stopping server')\n    response.end('OK')\n    process.kill(process.pid, 'SIGINT')\n  }\n}\n\ncreateStopperMiddleware.$inject = ['config.urlRoot']\nexports.create = createStopperMiddleware\n"]},"metadata":{},"sourceType":"script"}