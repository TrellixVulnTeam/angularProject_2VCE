{"ast":null,"code":"\"use strict\";\n\nvar __values = this && this.__values || function (o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar WebpackCompilerHandler =\n/** @class */\nfunction () {\n  function WebpackCompilerHandler(chunkIncludeTester, chunkHandler, assetManager, moduleCache, addBanner, perChunkOutput, additionalChunkModules, additionalModules, skipChildCompilers) {\n    this.chunkIncludeTester = chunkIncludeTester;\n    this.chunkHandler = chunkHandler;\n    this.assetManager = assetManager;\n    this.moduleCache = moduleCache;\n    this.addBanner = addBanner;\n    this.perChunkOutput = perChunkOutput;\n    this.additionalChunkModules = additionalChunkModules;\n    this.additionalModules = additionalModules;\n    this.skipChildCompilers = skipChildCompilers;\n  }\n\n  WebpackCompilerHandler.prototype.handleCompiler = function (compiler) {\n    var _this = this;\n\n    if (typeof compiler.hooks !== 'undefined') {\n      var hookType = this.skipChildCompilers ? 'thisCompilation' : 'compilation';\n      compiler.hooks[hookType].tap('LicenseWebpackPlugin', function (compilation) {\n        if (typeof compilation.hooks.processAssets !== 'undefined') {\n          // webpack v5\n          compilation.hooks.processAssets.tap({\n            name: 'LicenseWebpackPlugin',\n            stage: WebpackCompilerHandler.PROCESS_ASSETS_STAGE_ADDITIONAL\n          }, function () {\n            _this.iterateChunks(compilation, compilation.chunks);\n          });\n        } else {\n          // webpack v4\n          compilation.hooks.optimizeChunkAssets.tap('LicenseWebpackPlugin', function (chunks) {\n            _this.iterateChunks(compilation, chunks);\n          });\n        }\n      });\n    } else if (typeof compiler.plugin !== 'undefined') {\n      compiler.plugin('compilation', function (compilation) {\n        if (typeof compilation.plugin !== 'undefined') {\n          compilation.plugin('optimize-chunk-assets', function (chunks, callback) {\n            _this.iterateChunks(compilation, chunks);\n\n            callback();\n          });\n        }\n      });\n    }\n  };\n\n  WebpackCompilerHandler.prototype.iterateChunks = function (compilation, chunks) {\n    var _this = this;\n\n    var _loop_1 = function _loop_1(chunk) {\n      if (this_1.chunkIncludeTester.isIncluded(chunk.name)) {\n        this_1.chunkHandler.processChunk(compilation, chunk, this_1.moduleCache);\n\n        if (this_1.additionalChunkModules[chunk.name]) {\n          this_1.additionalChunkModules[chunk.name].forEach(function (module) {\n            return _this.chunkHandler.processModule(compilation, chunk, _this.moduleCache, module);\n          });\n        }\n\n        if (this_1.additionalModules.length > 0) {\n          this_1.additionalModules.forEach(function (module) {\n            return _this.chunkHandler.processModule(compilation, chunk, _this.moduleCache, module);\n          });\n        }\n\n        if (this_1.perChunkOutput) {\n          this_1.assetManager.writeChunkLicenses(this_1.moduleCache.getAllModulesForChunk(chunk.name), compilation, chunk);\n        }\n\n        if (this_1.addBanner) {\n          if (typeof compilation.hooks.processAssets !== 'undefined') {\n            // webpack v5\n            compilation.hooks.processAssets.tap({\n              name: 'LicenseWebpackPlugin',\n              stage: WebpackCompilerHandler.PROCESS_ASSETS_STAGE_ADDITIONS\n            }, function () {\n              _this.assetManager.writeChunkBanners(_this.moduleCache.getAllModulesForChunk(chunk.name), compilation, chunk);\n            });\n          } else {\n            // webpack v4\n            this_1.assetManager.writeChunkBanners(this_1.moduleCache.getAllModulesForChunk(chunk.name), compilation, chunk);\n          }\n        }\n      }\n    };\n\n    var this_1 = this;\n\n    try {\n      for (var chunks_1 = __values(chunks), chunks_1_1 = chunks_1.next(); !chunks_1_1.done; chunks_1_1 = chunks_1.next()) {\n        var chunk = chunks_1_1.value;\n\n        _loop_1(chunk);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (chunks_1_1 && !chunks_1_1.done && (_a = chunks_1.return)) _a.call(chunks_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    if (!this.perChunkOutput) {\n      this.assetManager.writeAllLicenses(this.moduleCache.getAllModules(), compilation);\n    }\n\n    var e_1, _a;\n  }; // copied from webpack/lib/Compilation.js\n\n\n  WebpackCompilerHandler.PROCESS_ASSETS_STAGE_ADDITIONAL = -2000;\n  WebpackCompilerHandler.PROCESS_ASSETS_STAGE_ADDITIONS = -100;\n  return WebpackCompilerHandler;\n}();\n\nexports.WebpackCompilerHandler = WebpackCompilerHandler;","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/license-webpack-plugin/dist/WebpackCompilerHandler.js"],"names":["__values","o","m","Symbol","iterator","i","call","next","length","value","done","Object","defineProperty","exports","WebpackCompilerHandler","chunkIncludeTester","chunkHandler","assetManager","moduleCache","addBanner","perChunkOutput","additionalChunkModules","additionalModules","skipChildCompilers","prototype","handleCompiler","compiler","_this","hooks","hookType","tap","compilation","processAssets","name","stage","PROCESS_ASSETS_STAGE_ADDITIONAL","iterateChunks","chunks","optimizeChunkAssets","plugin","callback","_loop_1","chunk","this_1","isIncluded","processChunk","forEach","module","processModule","writeChunkLicenses","getAllModulesForChunk","PROCESS_ASSETS_STAGE_ADDITIONS","writeChunkBanners","chunks_1","chunks_1_1","e_1_1","e_1","error","_a","return","writeAllLicenses","getAllModules"],"mappings":"AAAA;;AACA,IAAIA,QAAQ,GAAI,QAAQ,KAAKA,QAAd,IAA2B,UAAUC,CAAV,EAAa;AACnD,MAAIC,CAAC,GAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgCF,CAAC,CAACE,MAAM,CAACC,QAAR,CAAzC;AAAA,MAA4DC,CAAC,GAAG,CAAhE;AACA,MAAIH,CAAJ,EAAO,OAAOA,CAAC,CAACI,IAAF,CAAOL,CAAP,CAAP;AACP,SAAO;AACHM,IAAAA,IAAI,EAAE,gBAAY;AACd,UAAIN,CAAC,IAAII,CAAC,IAAIJ,CAAC,CAACO,MAAhB,EAAwBP,CAAC,GAAG,KAAK,CAAT;AACxB,aAAO;AAAEQ,QAAAA,KAAK,EAAER,CAAC,IAAIA,CAAC,CAACI,CAAC,EAAF,CAAf;AAAsBK,QAAAA,IAAI,EAAE,CAACT;AAA7B,OAAP;AACH;AAJE,GAAP;AAMH,CATD;;AAUAU,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEJ,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIK,sBAAsB;AAAG;AAAe,YAAY;AACpD,WAASA,sBAAT,CAAgCC,kBAAhC,EAAoDC,YAApD,EAAkEC,YAAlE,EAAgFC,WAAhF,EAA6FC,SAA7F,EAAwGC,cAAxG,EAAwHC,sBAAxH,EAAgJC,iBAAhJ,EAAmKC,kBAAnK,EAAuL;AACnL,SAAKR,kBAAL,GAA0BA,kBAA1B;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACA,SAAKC,cAAL,GAAsBA,cAAtB;AACA,SAAKC,sBAAL,GAA8BA,sBAA9B;AACA,SAAKC,iBAAL,GAAyBA,iBAAzB;AACA,SAAKC,kBAAL,GAA0BA,kBAA1B;AACH;;AACDT,EAAAA,sBAAsB,CAACU,SAAvB,CAAiCC,cAAjC,GAAkD,UAAUC,QAAV,EAAoB;AAClE,QAAIC,KAAK,GAAG,IAAZ;;AACA,QAAI,OAAOD,QAAQ,CAACE,KAAhB,KAA0B,WAA9B,EAA2C;AACvC,UAAIC,QAAQ,GAAG,KAAKN,kBAAL,GACT,iBADS,GAET,aAFN;AAGAG,MAAAA,QAAQ,CAACE,KAAT,CAAeC,QAAf,EAAyBC,GAAzB,CAA6B,sBAA7B,EAAqD,UAAUC,WAAV,EAAuB;AACxE,YAAI,OAAOA,WAAW,CAACH,KAAZ,CAAkBI,aAAzB,KAA2C,WAA/C,EAA4D;AACxD;AACAD,UAAAA,WAAW,CAACH,KAAZ,CAAkBI,aAAlB,CAAgCF,GAAhC,CAAoC;AAChCG,YAAAA,IAAI,EAAE,sBAD0B;AAEhCC,YAAAA,KAAK,EAAEpB,sBAAsB,CAACqB;AAFE,WAApC,EAGG,YAAY;AACXR,YAAAA,KAAK,CAACS,aAAN,CAAoBL,WAApB,EAAiCA,WAAW,CAACM,MAA7C;AACH,WALD;AAMH,SARD,MASK;AACD;AACAN,UAAAA,WAAW,CAACH,KAAZ,CAAkBU,mBAAlB,CAAsCR,GAAtC,CAA0C,sBAA1C,EAAkE,UAAUO,MAAV,EAAkB;AAChFV,YAAAA,KAAK,CAACS,aAAN,CAAoBL,WAApB,EAAiCM,MAAjC;AACH,WAFD;AAGH;AACJ,OAhBD;AAiBH,KArBD,MAsBK,IAAI,OAAOX,QAAQ,CAACa,MAAhB,KAA2B,WAA/B,EAA4C;AAC7Cb,MAAAA,QAAQ,CAACa,MAAT,CAAgB,aAAhB,EAA+B,UAAUR,WAAV,EAAuB;AAClD,YAAI,OAAOA,WAAW,CAACQ,MAAnB,KAA8B,WAAlC,EAA+C;AAC3CR,UAAAA,WAAW,CAACQ,MAAZ,CAAmB,uBAAnB,EAA4C,UAAUF,MAAV,EAAkBG,QAAlB,EAA4B;AACpEb,YAAAA,KAAK,CAACS,aAAN,CAAoBL,WAApB,EAAiCM,MAAjC;;AACAG,YAAAA,QAAQ;AACX,WAHD;AAIH;AACJ,OAPD;AAQH;AACJ,GAlCD;;AAmCA1B,EAAAA,sBAAsB,CAACU,SAAvB,CAAiCY,aAAjC,GAAiD,UAAUL,WAAV,EAAuBM,MAAvB,EAA+B;AAC5E,QAAIV,KAAK,GAAG,IAAZ;;AACA,QAAIc,OAAO,GAAG,SAAVA,OAAU,CAAUC,KAAV,EAAiB;AAC3B,UAAIC,MAAM,CAAC5B,kBAAP,CAA0B6B,UAA1B,CAAqCF,KAAK,CAACT,IAA3C,CAAJ,EAAsD;AAClDU,QAAAA,MAAM,CAAC3B,YAAP,CAAoB6B,YAApB,CAAiCd,WAAjC,EAA8CW,KAA9C,EAAqDC,MAAM,CAACzB,WAA5D;;AACA,YAAIyB,MAAM,CAACtB,sBAAP,CAA8BqB,KAAK,CAACT,IAApC,CAAJ,EAA+C;AAC3CU,UAAAA,MAAM,CAACtB,sBAAP,CAA8BqB,KAAK,CAACT,IAApC,EAA0Ca,OAA1C,CAAkD,UAAUC,MAAV,EAAkB;AAChE,mBAAOpB,KAAK,CAACX,YAAN,CAAmBgC,aAAnB,CAAiCjB,WAAjC,EAA8CW,KAA9C,EAAqDf,KAAK,CAACT,WAA3D,EAAwE6B,MAAxE,CAAP;AACH,WAFD;AAGH;;AACD,YAAIJ,MAAM,CAACrB,iBAAP,CAAyBd,MAAzB,GAAkC,CAAtC,EAAyC;AACrCmC,UAAAA,MAAM,CAACrB,iBAAP,CAAyBwB,OAAzB,CAAiC,UAAUC,MAAV,EAAkB;AAC/C,mBAAOpB,KAAK,CAACX,YAAN,CAAmBgC,aAAnB,CAAiCjB,WAAjC,EAA8CW,KAA9C,EAAqDf,KAAK,CAACT,WAA3D,EAAwE6B,MAAxE,CAAP;AACH,WAFD;AAGH;;AACD,YAAIJ,MAAM,CAACvB,cAAX,EAA2B;AACvBuB,UAAAA,MAAM,CAAC1B,YAAP,CAAoBgC,kBAApB,CAAuCN,MAAM,CAACzB,WAAP,CAAmBgC,qBAAnB,CAAyCR,KAAK,CAACT,IAA/C,CAAvC,EAA6FF,WAA7F,EAA0GW,KAA1G;AACH;;AACD,YAAIC,MAAM,CAACxB,SAAX,EAAsB;AAClB,cAAI,OAAOY,WAAW,CAACH,KAAZ,CAAkBI,aAAzB,KAA2C,WAA/C,EAA4D;AACxD;AACAD,YAAAA,WAAW,CAACH,KAAZ,CAAkBI,aAAlB,CAAgCF,GAAhC,CAAoC;AAChCG,cAAAA,IAAI,EAAE,sBAD0B;AAEhCC,cAAAA,KAAK,EAAEpB,sBAAsB,CAACqC;AAFE,aAApC,EAGG,YAAY;AACXxB,cAAAA,KAAK,CAACV,YAAN,CAAmBmC,iBAAnB,CAAqCzB,KAAK,CAACT,WAAN,CAAkBgC,qBAAlB,CAAwCR,KAAK,CAACT,IAA9C,CAArC,EAA0FF,WAA1F,EAAuGW,KAAvG;AACH,aALD;AAMH,WARD,MASK;AACD;AACAC,YAAAA,MAAM,CAAC1B,YAAP,CAAoBmC,iBAApB,CAAsCT,MAAM,CAACzB,WAAP,CAAmBgC,qBAAnB,CAAyCR,KAAK,CAACT,IAA/C,CAAtC,EAA4FF,WAA5F,EAAyGW,KAAzG;AACH;AACJ;AACJ;AACJ,KAhCD;;AAiCA,QAAIC,MAAM,GAAG,IAAb;;AACA,QAAI;AACA,WAAK,IAAIU,QAAQ,GAAGrD,QAAQ,CAACqC,MAAD,CAAvB,EAAiCiB,UAAU,GAAGD,QAAQ,CAAC9C,IAAT,EAAnD,EAAoE,CAAC+C,UAAU,CAAC5C,IAAhF,EAAsF4C,UAAU,GAAGD,QAAQ,CAAC9C,IAAT,EAAnG,EAAoH;AAChH,YAAImC,KAAK,GAAGY,UAAU,CAAC7C,KAAvB;;AACAgC,QAAAA,OAAO,CAACC,KAAD,CAAP;AACH;AACJ,KALD,CAMA,OAAOa,KAAP,EAAc;AAAEC,MAAAA,GAAG,GAAG;AAAEC,QAAAA,KAAK,EAAEF;AAAT,OAAN;AAAyB,KANzC,SAOQ;AACJ,UAAI;AACA,YAAID,UAAU,IAAI,CAACA,UAAU,CAAC5C,IAA1B,KAAmCgD,EAAE,GAAGL,QAAQ,CAACM,MAAjD,CAAJ,EAA8DD,EAAE,CAACpD,IAAH,CAAQ+C,QAAR;AACjE,OAFD,SAGQ;AAAE,YAAIG,GAAJ,EAAS,MAAMA,GAAG,CAACC,KAAV;AAAkB;AACxC;;AACD,QAAI,CAAC,KAAKrC,cAAV,EAA0B;AACtB,WAAKH,YAAL,CAAkB2C,gBAAlB,CAAmC,KAAK1C,WAAL,CAAiB2C,aAAjB,EAAnC,EAAqE9B,WAArE;AACH;;AACD,QAAIyB,GAAJ,EAASE,EAAT;AACH,GArDD,CA/CoD,CAqGpD;;;AACA5C,EAAAA,sBAAsB,CAACqB,+BAAvB,GAAyD,CAAC,IAA1D;AACArB,EAAAA,sBAAsB,CAACqC,8BAAvB,GAAwD,CAAC,GAAzD;AACA,SAAOrC,sBAAP;AACH,CAzG2C,EAA5C;;AA0GAD,OAAO,CAACC,sBAAR,GAAiCA,sBAAjC","sourcesContent":["\"use strict\";\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WebpackCompilerHandler = /** @class */ (function () {\n    function WebpackCompilerHandler(chunkIncludeTester, chunkHandler, assetManager, moduleCache, addBanner, perChunkOutput, additionalChunkModules, additionalModules, skipChildCompilers) {\n        this.chunkIncludeTester = chunkIncludeTester;\n        this.chunkHandler = chunkHandler;\n        this.assetManager = assetManager;\n        this.moduleCache = moduleCache;\n        this.addBanner = addBanner;\n        this.perChunkOutput = perChunkOutput;\n        this.additionalChunkModules = additionalChunkModules;\n        this.additionalModules = additionalModules;\n        this.skipChildCompilers = skipChildCompilers;\n    }\n    WebpackCompilerHandler.prototype.handleCompiler = function (compiler) {\n        var _this = this;\n        if (typeof compiler.hooks !== 'undefined') {\n            var hookType = this.skipChildCompilers\n                ? 'thisCompilation'\n                : 'compilation';\n            compiler.hooks[hookType].tap('LicenseWebpackPlugin', function (compilation) {\n                if (typeof compilation.hooks.processAssets !== 'undefined') {\n                    // webpack v5\n                    compilation.hooks.processAssets.tap({\n                        name: 'LicenseWebpackPlugin',\n                        stage: WebpackCompilerHandler.PROCESS_ASSETS_STAGE_ADDITIONAL\n                    }, function () {\n                        _this.iterateChunks(compilation, compilation.chunks);\n                    });\n                }\n                else {\n                    // webpack v4\n                    compilation.hooks.optimizeChunkAssets.tap('LicenseWebpackPlugin', function (chunks) {\n                        _this.iterateChunks(compilation, chunks);\n                    });\n                }\n            });\n        }\n        else if (typeof compiler.plugin !== 'undefined') {\n            compiler.plugin('compilation', function (compilation) {\n                if (typeof compilation.plugin !== 'undefined') {\n                    compilation.plugin('optimize-chunk-assets', function (chunks, callback) {\n                        _this.iterateChunks(compilation, chunks);\n                        callback();\n                    });\n                }\n            });\n        }\n    };\n    WebpackCompilerHandler.prototype.iterateChunks = function (compilation, chunks) {\n        var _this = this;\n        var _loop_1 = function (chunk) {\n            if (this_1.chunkIncludeTester.isIncluded(chunk.name)) {\n                this_1.chunkHandler.processChunk(compilation, chunk, this_1.moduleCache);\n                if (this_1.additionalChunkModules[chunk.name]) {\n                    this_1.additionalChunkModules[chunk.name].forEach(function (module) {\n                        return _this.chunkHandler.processModule(compilation, chunk, _this.moduleCache, module);\n                    });\n                }\n                if (this_1.additionalModules.length > 0) {\n                    this_1.additionalModules.forEach(function (module) {\n                        return _this.chunkHandler.processModule(compilation, chunk, _this.moduleCache, module);\n                    });\n                }\n                if (this_1.perChunkOutput) {\n                    this_1.assetManager.writeChunkLicenses(this_1.moduleCache.getAllModulesForChunk(chunk.name), compilation, chunk);\n                }\n                if (this_1.addBanner) {\n                    if (typeof compilation.hooks.processAssets !== 'undefined') {\n                        // webpack v5\n                        compilation.hooks.processAssets.tap({\n                            name: 'LicenseWebpackPlugin',\n                            stage: WebpackCompilerHandler.PROCESS_ASSETS_STAGE_ADDITIONS\n                        }, function () {\n                            _this.assetManager.writeChunkBanners(_this.moduleCache.getAllModulesForChunk(chunk.name), compilation, chunk);\n                        });\n                    }\n                    else {\n                        // webpack v4\n                        this_1.assetManager.writeChunkBanners(this_1.moduleCache.getAllModulesForChunk(chunk.name), compilation, chunk);\n                    }\n                }\n            }\n        };\n        var this_1 = this;\n        try {\n            for (var chunks_1 = __values(chunks), chunks_1_1 = chunks_1.next(); !chunks_1_1.done; chunks_1_1 = chunks_1.next()) {\n                var chunk = chunks_1_1.value;\n                _loop_1(chunk);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (chunks_1_1 && !chunks_1_1.done && (_a = chunks_1.return)) _a.call(chunks_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (!this.perChunkOutput) {\n            this.assetManager.writeAllLicenses(this.moduleCache.getAllModules(), compilation);\n        }\n        var e_1, _a;\n    };\n    // copied from webpack/lib/Compilation.js\n    WebpackCompilerHandler.PROCESS_ASSETS_STAGE_ADDITIONAL = -2000;\n    WebpackCompilerHandler.PROCESS_ASSETS_STAGE_ADDITIONS = -100;\n    return WebpackCompilerHandler;\n}());\nexports.WebpackCompilerHandler = WebpackCompilerHandler;\n"]},"metadata":{},"sourceType":"script"}