{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _classCallCheck = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _require = require(\"tapable\"),\n    SyncWaterfallHook = _require.SyncWaterfallHook;\n\nvar Template = require(\"../Template\");\n\nvar JsonpMainTemplatePlugin = /*#__PURE__*/function () {\n  function JsonpMainTemplatePlugin() {\n    _classCallCheck(this, JsonpMainTemplatePlugin);\n  }\n\n  _createClass(JsonpMainTemplatePlugin, [{\n    key: \"apply\",\n    value: function apply(mainTemplate) {\n      var needChunkOnDemandLoadingCode = function needChunkOnDemandLoadingCode(chunk) {\n        var _iterator = _createForOfIteratorHelper(chunk.groupsIterable),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var chunkGroup = _step.value;\n            if (chunkGroup.getNumberOfChildren() > 0) return true;\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        return false;\n      };\n\n      var needChunkLoadingCode = function needChunkLoadingCode(chunk) {\n        var _iterator2 = _createForOfIteratorHelper(chunk.groupsIterable),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var chunkGroup = _step2.value;\n            if (chunkGroup.chunks.length > 1) return true;\n            if (chunkGroup.getNumberOfChildren() > 0) return true;\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        return false;\n      };\n\n      var needEntryDeferringCode = function needEntryDeferringCode(chunk) {\n        var _iterator3 = _createForOfIteratorHelper(chunk.groupsIterable),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var chunkGroup = _step3.value;\n            if (chunkGroup.chunks.length > 1) return true;\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n\n        return false;\n      };\n\n      var needPrefetchingCode = function needPrefetchingCode(chunk) {\n        var allPrefetchChunks = chunk.getChildIdsByOrdersMap(true).prefetch;\n        return allPrefetchChunks && Object.keys(allPrefetchChunks).length;\n      }; // TODO webpack 5, no adding to .hooks, use WeakMap and static methods\n\n\n      [\"jsonpScript\", \"linkPreload\", \"linkPrefetch\"].forEach(function (hook) {\n        if (!mainTemplate.hooks[hook]) {\n          mainTemplate.hooks[hook] = new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]);\n        }\n      });\n\n      var getScriptSrcPath = function getScriptSrcPath(hash, chunk, chunkIdExpression) {\n        var chunkFilename = mainTemplate.outputOptions.chunkFilename;\n        var chunkMaps = chunk.getChunkMaps();\n        return mainTemplate.getAssetPath(JSON.stringify(chunkFilename), {\n          hash: \"\\\" + \".concat(mainTemplate.renderCurrentHashCode(hash), \" + \\\"\"),\n          hashWithLength: function hashWithLength(length) {\n            return \"\\\" + \".concat(mainTemplate.renderCurrentHashCode(hash, length), \" + \\\"\");\n          },\n          chunk: {\n            id: \"\\\" + \".concat(chunkIdExpression, \" + \\\"\"),\n            hash: \"\\\" + \".concat(JSON.stringify(chunkMaps.hash), \"[\").concat(chunkIdExpression, \"] + \\\"\"),\n            hashWithLength: function hashWithLength(length) {\n              var shortChunkHashMap = Object.create(null);\n\n              for (var _i = 0, _Object$keys = Object.keys(chunkMaps.hash); _i < _Object$keys.length; _i++) {\n                var chunkId = _Object$keys[_i];\n\n                if (typeof chunkMaps.hash[chunkId] === \"string\") {\n                  shortChunkHashMap[chunkId] = chunkMaps.hash[chunkId].substr(0, length);\n                }\n              }\n\n              return \"\\\" + \".concat(JSON.stringify(shortChunkHashMap), \"[\").concat(chunkIdExpression, \"] + \\\"\");\n            },\n            name: \"\\\" + (\".concat(JSON.stringify(chunkMaps.name), \"[\").concat(chunkIdExpression, \"]||\").concat(chunkIdExpression, \") + \\\"\"),\n            contentHash: {\n              javascript: \"\\\" + \".concat(JSON.stringify(chunkMaps.contentHash.javascript), \"[\").concat(chunkIdExpression, \"] + \\\"\")\n            },\n            contentHashWithLength: {\n              javascript: function javascript(length) {\n                var shortContentHashMap = {};\n                var contentHash = chunkMaps.contentHash.javascript;\n\n                for (var _i2 = 0, _Object$keys2 = Object.keys(contentHash); _i2 < _Object$keys2.length; _i2++) {\n                  var chunkId = _Object$keys2[_i2];\n\n                  if (typeof contentHash[chunkId] === \"string\") {\n                    shortContentHashMap[chunkId] = contentHash[chunkId].substr(0, length);\n                  }\n                }\n\n                return \"\\\" + \".concat(JSON.stringify(shortContentHashMap), \"[\").concat(chunkIdExpression, \"] + \\\"\");\n              }\n            }\n          },\n          contentHashType: \"javascript\"\n        });\n      };\n\n      mainTemplate.hooks.localVars.tap(\"JsonpMainTemplatePlugin\", function (source, chunk, hash) {\n        var extraCode = [];\n\n        if (needChunkLoadingCode(chunk)) {\n          extraCode.push(\"\", \"// object to store loaded and loading chunks\", \"// undefined = chunk not loaded, null = chunk preloaded/prefetched\", \"// Promise = chunk loading, 0 = chunk loaded\", \"var installedChunks = {\", Template.indent(chunk.ids.map(function (id) {\n            return \"\".concat(JSON.stringify(id), \": 0\");\n          }).join(\",\\n\")), \"};\", \"\", needEntryDeferringCode(chunk) ? needPrefetchingCode(chunk) ? \"var deferredModules = [], deferredPrefetch = [];\" : \"var deferredModules = [];\" : \"\");\n        }\n\n        if (needChunkOnDemandLoadingCode(chunk)) {\n          extraCode.push(\"\", \"// script path function\", \"function jsonpScriptSrc(chunkId) {\", Template.indent([\"return \".concat(mainTemplate.requireFn, \".p + \").concat(getScriptSrcPath(hash, chunk, \"chunkId\"))]), \"}\");\n        }\n\n        if (extraCode.length === 0) return source;\n        return Template.asString([source].concat(extraCode));\n      });\n      mainTemplate.hooks.jsonpScript.tap(\"JsonpMainTemplatePlugin\", function (_, chunk, hash) {\n        var crossOriginLoading = mainTemplate.outputOptions.crossOriginLoading;\n        var chunkLoadTimeout = mainTemplate.outputOptions.chunkLoadTimeout;\n        var jsonpScriptType = mainTemplate.outputOptions.jsonpScriptType;\n        return Template.asString([\"var script = document.createElement('script');\", \"var onScriptComplete;\", jsonpScriptType ? \"script.type = \".concat(JSON.stringify(jsonpScriptType), \";\") : \"\", \"script.charset = 'utf-8';\", \"script.timeout = \".concat(chunkLoadTimeout / 1000, \";\"), \"if (\".concat(mainTemplate.requireFn, \".nc) {\"), Template.indent(\"script.setAttribute(\\\"nonce\\\", \".concat(mainTemplate.requireFn, \".nc);\")), \"}\", \"script.src = jsonpScriptSrc(chunkId);\", crossOriginLoading ? Template.asString([\"if (script.src.indexOf(window.location.origin + '/') !== 0) {\", Template.indent(\"script.crossOrigin = \".concat(JSON.stringify(crossOriginLoading), \";\")), \"}\"]) : \"\", \"// create error before stack unwound to get useful stacktrace later\", \"var error = new Error();\", \"onScriptComplete = function (event) {\", Template.indent([\"// avoid mem leaks in IE.\", \"script.onerror = script.onload = null;\", \"clearTimeout(timeout);\", \"var chunk = installedChunks[chunkId];\", \"if(chunk !== 0) {\", Template.indent([\"if(chunk) {\", Template.indent([\"var errorType = event && (event.type === 'load' ? 'missing' : event.type);\", \"var realSrc = event && event.target && event.target.src;\", \"error.message = 'Loading chunk ' + chunkId + ' failed.\\\\n(' + errorType + ': ' + realSrc + ')';\", \"error.name = 'ChunkLoadError';\", \"error.type = errorType;\", \"error.request = realSrc;\", \"chunk[1](error);\"]), \"}\", \"installedChunks[chunkId] = undefined;\"]), \"}\"]), \"};\", \"var timeout = setTimeout(function(){\", Template.indent([\"onScriptComplete({ type: 'timeout', target: script });\"]), \"}, \".concat(chunkLoadTimeout, \");\"), \"script.onerror = script.onload = onScriptComplete;\"]);\n      });\n      mainTemplate.hooks.linkPreload.tap(\"JsonpMainTemplatePlugin\", function (_, chunk, hash) {\n        var crossOriginLoading = mainTemplate.outputOptions.crossOriginLoading;\n        var jsonpScriptType = mainTemplate.outputOptions.jsonpScriptType;\n        return Template.asString([\"var link = document.createElement('link');\", jsonpScriptType ? \"link.type = \".concat(JSON.stringify(jsonpScriptType), \";\") : \"\", \"link.charset = 'utf-8';\", \"if (\".concat(mainTemplate.requireFn, \".nc) {\"), Template.indent(\"link.setAttribute(\\\"nonce\\\", \".concat(mainTemplate.requireFn, \".nc);\")), \"}\", 'link.rel = \"preload\";', 'link.as = \"script\";', \"link.href = jsonpScriptSrc(chunkId);\", crossOriginLoading ? Template.asString([\"if (link.href.indexOf(window.location.origin + '/') !== 0) {\", Template.indent(\"link.crossOrigin = \".concat(JSON.stringify(crossOriginLoading), \";\")), \"}\"]) : \"\"]);\n      });\n      mainTemplate.hooks.linkPrefetch.tap(\"JsonpMainTemplatePlugin\", function (_, chunk, hash) {\n        var crossOriginLoading = mainTemplate.outputOptions.crossOriginLoading;\n        return Template.asString([\"var link = document.createElement('link');\", crossOriginLoading ? \"link.crossOrigin = \".concat(JSON.stringify(crossOriginLoading), \";\") : \"\", \"if (\".concat(mainTemplate.requireFn, \".nc) {\"), Template.indent(\"link.setAttribute(\\\"nonce\\\", \".concat(mainTemplate.requireFn, \".nc);\")), \"}\", 'link.rel = \"prefetch\";', 'link.as = \"script\";', \"link.href = jsonpScriptSrc(chunkId);\"]);\n      });\n      mainTemplate.hooks.requireEnsure.tap(\"JsonpMainTemplatePlugin load\", function (source, chunk, hash) {\n        return Template.asString([source, \"\", \"// JSONP chunk loading for javascript\", \"\", \"var installedChunkData = installedChunks[chunkId];\", 'if(installedChunkData !== 0) { // 0 means \"already installed\".', Template.indent([\"\", '// a Promise means \"currently loading\".', \"if(installedChunkData) {\", Template.indent([\"promises.push(installedChunkData[2]);\"]), \"} else {\", Template.indent([\"// setup Promise in chunk cache\", \"var promise = new Promise(function(resolve, reject) {\", Template.indent([\"installedChunkData = installedChunks[chunkId] = [resolve, reject];\"]), \"});\", \"promises.push(installedChunkData[2] = promise);\", \"\", \"// start chunk loading\", mainTemplate.hooks.jsonpScript.call(\"\", chunk, hash), \"document.head.appendChild(script);\"]), \"}\"]), \"}\"]);\n      });\n      mainTemplate.hooks.requireEnsure.tap({\n        name: \"JsonpMainTemplatePlugin preload\",\n        stage: 10\n      }, function (source, chunk, hash) {\n        var chunkMap = chunk.getChildIdsByOrdersMap().preload;\n        if (!chunkMap || Object.keys(chunkMap).length === 0) return source;\n        return Template.asString([source, \"\", \"// chunk preloadng for javascript\", \"\", \"var chunkPreloadMap = \".concat(JSON.stringify(chunkMap, null, \"\\t\"), \";\"), \"\", \"var chunkPreloadData = chunkPreloadMap[chunkId];\", \"if(chunkPreloadData) {\", Template.indent([\"chunkPreloadData.forEach(function(chunkId) {\", Template.indent([\"if(installedChunks[chunkId] === undefined) {\", Template.indent([\"installedChunks[chunkId] = null;\", mainTemplate.hooks.linkPreload.call(\"\", chunk, hash), \"document.head.appendChild(link);\"]), \"}\"]), \"});\"]), \"}\"]);\n      });\n      mainTemplate.hooks.requireExtensions.tap(\"JsonpMainTemplatePlugin\", function (source, chunk) {\n        if (!needChunkOnDemandLoadingCode(chunk)) return source;\n        return Template.asString([source, \"\", \"// on error function for async loading\", \"\".concat(mainTemplate.requireFn, \".oe = function(err) { console.error(err); throw err; };\")]);\n      });\n      mainTemplate.hooks.bootstrap.tap(\"JsonpMainTemplatePlugin\", function (source, chunk, hash) {\n        if (needChunkLoadingCode(chunk)) {\n          var withDefer = needEntryDeferringCode(chunk);\n          var withPrefetch = needPrefetchingCode(chunk);\n          return Template.asString([source, \"\", \"// install a JSONP callback for chunk loading\", \"function webpackJsonpCallback(data) {\", Template.indent([\"var chunkIds = data[0];\", \"var moreModules = data[1];\", withDefer ? \"var executeModules = data[2];\" : \"\", withPrefetch ? \"var prefetchChunks = data[3] || [];\" : \"\", '// add \"moreModules\" to the modules object,', '// then flag all \"chunkIds\" as loaded and fire callback', \"var moduleId, chunkId, i = 0, resolves = [];\", \"for(;i < chunkIds.length; i++) {\", Template.indent([\"chunkId = chunkIds[i];\", \"if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\", Template.indent(\"resolves.push(installedChunks[chunkId][0]);\"), \"}\", \"installedChunks[chunkId] = 0;\"]), \"}\", \"for(moduleId in moreModules) {\", Template.indent([\"if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\", Template.indent(mainTemplate.renderAddModule(hash, chunk, \"moduleId\", \"moreModules[moduleId]\")), \"}\"]), \"}\", \"if(parentJsonpFunction) parentJsonpFunction(data);\", withPrefetch ? withDefer ? \"deferredPrefetch.push.apply(deferredPrefetch, prefetchChunks);\" : Template.asString([\"// chunk prefetching for javascript\", \"prefetchChunks.forEach(function(chunkId) {\", Template.indent([\"if(installedChunks[chunkId] === undefined) {\", Template.indent([\"installedChunks[chunkId] = null;\", mainTemplate.hooks.linkPrefetch.call(\"\", chunk, hash), \"document.head.appendChild(link);\"]), \"}\"]), \"});\"]) : \"\", \"while(resolves.length) {\", Template.indent(\"resolves.shift()();\"), \"}\", withDefer ? Template.asString([\"\", \"// add entry modules from loaded chunk to deferred list\", \"deferredModules.push.apply(deferredModules, executeModules || []);\", \"\", \"// run deferred modules when all chunks ready\", \"return checkDeferredModules();\"]) : \"\"]), \"};\", withDefer ? Template.asString([\"function checkDeferredModules() {\", Template.indent([\"var result;\", \"for(var i = 0; i < deferredModules.length; i++) {\", Template.indent([\"var deferredModule = deferredModules[i];\", \"var fulfilled = true;\", \"for(var j = 1; j < deferredModule.length; j++) {\", Template.indent([\"var depId = deferredModule[j];\", \"if(installedChunks[depId] !== 0) fulfilled = false;\"]), \"}\", \"if(fulfilled) {\", Template.indent([\"deferredModules.splice(i--, 1);\", \"result = \" + mainTemplate.requireFn + \"(\" + mainTemplate.requireFn + \".s = deferredModule[0]);\"]), \"}\"]), \"}\", withPrefetch ? Template.asString([\"if(deferredModules.length === 0) {\", Template.indent([\"// chunk prefetching for javascript\", \"deferredPrefetch.forEach(function(chunkId) {\", Template.indent([\"if(installedChunks[chunkId] === undefined) {\", Template.indent([\"installedChunks[chunkId] = null;\", mainTemplate.hooks.linkPrefetch.call(\"\", chunk, hash), \"document.head.appendChild(link);\"]), \"}\"]), \"});\", \"deferredPrefetch.length = 0;\"]), \"}\"]) : \"\", \"return result;\"]), \"}\"]) : \"\"]);\n        }\n\n        return source;\n      });\n      mainTemplate.hooks.beforeStartup.tap(\"JsonpMainTemplatePlugin\", function (source, chunk, hash) {\n        if (needChunkLoadingCode(chunk)) {\n          var jsonpFunction = mainTemplate.outputOptions.jsonpFunction;\n          var globalObject = mainTemplate.outputOptions.globalObject;\n          return Template.asString([\"var jsonpArray = \".concat(globalObject, \"[\").concat(JSON.stringify(jsonpFunction), \"] = \").concat(globalObject, \"[\").concat(JSON.stringify(jsonpFunction), \"] || [];\"), \"var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\", \"jsonpArray.push = webpackJsonpCallback;\", \"jsonpArray = jsonpArray.slice();\", \"for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\", \"var parentJsonpFunction = oldJsonpFunction;\", \"\", source]);\n        }\n\n        return source;\n      });\n      mainTemplate.hooks.afterStartup.tap(\"JsonpMainTemplatePlugin\", function (source, chunk, hash) {\n        var prefetchChunks = chunk.getChildIdsByOrders().prefetch;\n\n        if (needChunkLoadingCode(chunk) && prefetchChunks && prefetchChunks.length) {\n          return Template.asString([source, \"webpackJsonpCallback([[], {}, 0, \".concat(JSON.stringify(prefetchChunks), \"]);\")]);\n        }\n\n        return source;\n      });\n      mainTemplate.hooks.startup.tap(\"JsonpMainTemplatePlugin\", function (source, chunk, hash) {\n        if (needEntryDeferringCode(chunk)) {\n          if (chunk.hasEntryModule()) {\n            var entries = [chunk.entryModule].filter(Boolean).map(function (m) {\n              return [m.id].concat(Array.from(chunk.groupsIterable)[0].chunks.filter(function (c) {\n                return c !== chunk;\n              }).map(function (c) {\n                return c.id;\n              }));\n            });\n            return Template.asString([\"// add entry module to deferred list\", \"deferredModules.push(\".concat(entries.map(function (e) {\n              return JSON.stringify(e);\n            }).join(\", \"), \");\"), \"// run deferred modules when ready\", \"return checkDeferredModules();\"]);\n          } else {\n            return Template.asString([\"// run deferred modules from other chunks\", \"checkDeferredModules();\"]);\n          }\n        }\n\n        return source;\n      });\n      mainTemplate.hooks.hotBootstrap.tap(\"JsonpMainTemplatePlugin\", function (source, chunk, hash) {\n        var globalObject = mainTemplate.outputOptions.globalObject;\n        var hotUpdateChunkFilename = mainTemplate.outputOptions.hotUpdateChunkFilename;\n        var hotUpdateMainFilename = mainTemplate.outputOptions.hotUpdateMainFilename;\n        var crossOriginLoading = mainTemplate.outputOptions.crossOriginLoading;\n        var hotUpdateFunction = mainTemplate.outputOptions.hotUpdateFunction;\n        var currentHotUpdateChunkFilename = mainTemplate.getAssetPath(JSON.stringify(hotUpdateChunkFilename), {\n          hash: \"\\\" + \".concat(mainTemplate.renderCurrentHashCode(hash), \" + \\\"\"),\n          hashWithLength: function hashWithLength(length) {\n            return \"\\\" + \".concat(mainTemplate.renderCurrentHashCode(hash, length), \" + \\\"\");\n          },\n          chunk: {\n            id: '\" + chunkId + \"'\n          }\n        });\n        var currentHotUpdateMainFilename = mainTemplate.getAssetPath(JSON.stringify(hotUpdateMainFilename), {\n          hash: \"\\\" + \".concat(mainTemplate.renderCurrentHashCode(hash), \" + \\\"\"),\n          hashWithLength: function hashWithLength(length) {\n            return \"\\\" + \".concat(mainTemplate.renderCurrentHashCode(hash, length), \" + \\\"\");\n          }\n        });\n        var runtimeSource = Template.getFunctionContent(require(\"./JsonpMainTemplate.runtime\")).replace(/\\/\\/\\$semicolon/g, \";\").replace(/\\$require\\$/g, mainTemplate.requireFn).replace(/\\$crossOriginLoading\\$/g, crossOriginLoading ? JSON.stringify(crossOriginLoading) : \"null\").replace(/\\$hotMainFilename\\$/g, currentHotUpdateMainFilename).replace(/\\$hotChunkFilename\\$/g, currentHotUpdateChunkFilename).replace(/\\$hash\\$/g, JSON.stringify(hash));\n        return \"\".concat(source, \"\\nfunction hotDisposeChunk(chunkId) {\\n\\tdelete installedChunks[chunkId];\\n}\\nvar parentHotUpdateCallback = \").concat(globalObject, \"[\").concat(JSON.stringify(hotUpdateFunction), \"];\\n\").concat(globalObject, \"[\").concat(JSON.stringify(hotUpdateFunction), \"] = \").concat(runtimeSource);\n      });\n      mainTemplate.hooks.hash.tap(\"JsonpMainTemplatePlugin\", function (hash) {\n        hash.update(\"jsonp\");\n        hash.update(\"6\");\n      });\n    }\n  }]);\n\n  return JsonpMainTemplatePlugin;\n}();\n\nmodule.exports = JsonpMainTemplatePlugin;","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/webpack/lib/web/JsonpMainTemplatePlugin.js"],"names":["require","SyncWaterfallHook","Template","JsonpMainTemplatePlugin","mainTemplate","needChunkOnDemandLoadingCode","chunk","groupsIterable","chunkGroup","getNumberOfChildren","needChunkLoadingCode","chunks","length","needEntryDeferringCode","needPrefetchingCode","allPrefetchChunks","getChildIdsByOrdersMap","prefetch","Object","keys","forEach","hook","hooks","getScriptSrcPath","hash","chunkIdExpression","chunkFilename","outputOptions","chunkMaps","getChunkMaps","getAssetPath","JSON","stringify","renderCurrentHashCode","hashWithLength","id","shortChunkHashMap","create","chunkId","substr","name","contentHash","javascript","contentHashWithLength","shortContentHashMap","contentHashType","localVars","tap","source","extraCode","push","indent","ids","map","join","requireFn","asString","jsonpScript","_","crossOriginLoading","chunkLoadTimeout","jsonpScriptType","linkPreload","linkPrefetch","requireEnsure","call","stage","chunkMap","preload","requireExtensions","bootstrap","withDefer","withPrefetch","renderAddModule","beforeStartup","jsonpFunction","globalObject","afterStartup","prefetchChunks","getChildIdsByOrders","startup","hasEntryModule","entries","entryModule","filter","Boolean","m","concat","Array","from","c","e","hotBootstrap","hotUpdateChunkFilename","hotUpdateMainFilename","hotUpdateFunction","currentHotUpdateChunkFilename","currentHotUpdateMainFilename","runtimeSource","getFunctionContent","replace","update","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;;;;;;;AAEA,eAA8BA,OAAO,CAAC,SAAD,CAArC;AAAA,IAAQC,iBAAR,YAAQA,iBAAR;;AACA,IAAMC,QAAQ,GAAGF,OAAO,CAAC,aAAD,CAAxB;;IAEMG,uB;;;;;;;WACL,eAAMC,YAAN,EAAoB;AACnB,UAAMC,4BAA4B,GAAG,SAA/BA,4BAA+B,CAAAC,KAAK,EAAI;AAAA,mDACpBA,KAAK,CAACC,cADc;AAAA;;AAAA;AAC7C,8DAA+C;AAAA,gBAApCC,UAAoC;AAC9C,gBAAIA,UAAU,CAACC,mBAAX,KAAmC,CAAvC,EAA0C,OAAO,IAAP;AAC1C;AAH4C;AAAA;AAAA;AAAA;AAAA;;AAI7C,eAAO,KAAP;AACA,OALD;;AAMA,UAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAJ,KAAK,EAAI;AAAA,oDACZA,KAAK,CAACC,cADM;AAAA;;AAAA;AACrC,iEAA+C;AAAA,gBAApCC,UAAoC;AAC9C,gBAAIA,UAAU,CAACG,MAAX,CAAkBC,MAAlB,GAA2B,CAA/B,EAAkC,OAAO,IAAP;AAClC,gBAAIJ,UAAU,CAACC,mBAAX,KAAmC,CAAvC,EAA0C,OAAO,IAAP;AAC1C;AAJoC;AAAA;AAAA;AAAA;AAAA;;AAKrC,eAAO,KAAP;AACA,OAND;;AAOA,UAAMI,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAAP,KAAK,EAAI;AAAA,oDACdA,KAAK,CAACC,cADQ;AAAA;;AAAA;AACvC,iEAA+C;AAAA,gBAApCC,UAAoC;AAC9C,gBAAIA,UAAU,CAACG,MAAX,CAAkBC,MAAlB,GAA2B,CAA/B,EAAkC,OAAO,IAAP;AAClC;AAHsC;AAAA;AAAA;AAAA;AAAA;;AAIvC,eAAO,KAAP;AACA,OALD;;AAMA,UAAME,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAR,KAAK,EAAI;AACpC,YAAMS,iBAAiB,GAAGT,KAAK,CAACU,sBAAN,CAA6B,IAA7B,EAAmCC,QAA7D;AACA,eAAOF,iBAAiB,IAAIG,MAAM,CAACC,IAAP,CAAYJ,iBAAZ,EAA+BH,MAA3D;AACA,OAHD,CApBmB,CAyBnB;;;AACA,OAAC,aAAD,EAAgB,aAAhB,EAA+B,cAA/B,EAA+CQ,OAA/C,CAAuD,UAAAC,IAAI,EAAI;AAC9D,YAAI,CAACjB,YAAY,CAACkB,KAAb,CAAmBD,IAAnB,CAAL,EAA+B;AAC9BjB,UAAAA,YAAY,CAACkB,KAAb,CAAmBD,IAAnB,IAA2B,IAAIpB,iBAAJ,CAAsB,CAChD,QADgD,EAEhD,OAFgD,EAGhD,MAHgD,CAAtB,CAA3B;AAKA;AACD,OARD;;AAUA,UAAMsB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,IAAD,EAAOlB,KAAP,EAAcmB,iBAAd,EAAoC;AAC5D,YAAMC,aAAa,GAAGtB,YAAY,CAACuB,aAAb,CAA2BD,aAAjD;AACA,YAAME,SAAS,GAAGtB,KAAK,CAACuB,YAAN,EAAlB;AACA,eAAOzB,YAAY,CAAC0B,YAAb,CAA0BC,IAAI,CAACC,SAAL,CAAeN,aAAf,CAA1B,EAAyD;AAC/DF,UAAAA,IAAI,iBAASpB,YAAY,CAAC6B,qBAAb,CAAmCT,IAAnC,CAAT,UAD2D;AAE/DU,UAAAA,cAAc,EAAE,wBAAAtB,MAAM;AAAA,kCACdR,YAAY,CAAC6B,qBAAb,CAAmCT,IAAnC,EAAyCZ,MAAzC,CADc;AAAA,WAFyC;AAI/DN,UAAAA,KAAK,EAAE;AACN6B,YAAAA,EAAE,iBAASV,iBAAT,UADI;AAEND,YAAAA,IAAI,iBAASO,IAAI,CAACC,SAAL,CACZJ,SAAS,CAACJ,IADE,CAAT,cAECC,iBAFD,WAFE;AAKNS,YAAAA,cALM,0BAKStB,MALT,EAKiB;AACtB,kBAAMwB,iBAAiB,GAAGlB,MAAM,CAACmB,MAAP,CAAc,IAAd,CAA1B;;AACA,8CAAsBnB,MAAM,CAACC,IAAP,CAAYS,SAAS,CAACJ,IAAtB,CAAtB,kCAAmD;AAA9C,oBAAMc,OAAO,mBAAb;;AACJ,oBAAI,OAAOV,SAAS,CAACJ,IAAV,CAAec,OAAf,CAAP,KAAmC,QAAvC,EAAiD;AAChDF,kBAAAA,iBAAiB,CAACE,OAAD,CAAjB,GAA6BV,SAAS,CAACJ,IAAV,CAAec,OAAf,EAAwBC,MAAxB,CAC5B,CAD4B,EAE5B3B,MAF4B,CAA7B;AAIA;AACD;;AACD,oCAAcmB,IAAI,CAACC,SAAL,CACbI,iBADa,CAAd,cAEKX,iBAFL;AAGA,aAlBK;AAmBNe,YAAAA,IAAI,kBAAUT,IAAI,CAACC,SAAL,CACbJ,SAAS,CAACY,IADG,CAAV,cAECf,iBAFD,gBAEwBA,iBAFxB,WAnBE;AAsBNgB,YAAAA,WAAW,EAAE;AACZC,cAAAA,UAAU,iBAASX,IAAI,CAACC,SAAL,CAClBJ,SAAS,CAACa,WAAV,CAAsBC,UADJ,CAAT,cAELjB,iBAFK;AADE,aAtBP;AA2BNkB,YAAAA,qBAAqB,EAAE;AACtBD,cAAAA,UAAU,EAAE,oBAAA9B,MAAM,EAAI;AACrB,oBAAMgC,mBAAmB,GAAG,EAA5B;AACA,oBAAMH,WAAW,GAAGb,SAAS,CAACa,WAAV,CAAsBC,UAA1C;;AACA,kDAAsBxB,MAAM,CAACC,IAAP,CAAYsB,WAAZ,CAAtB,qCAAgD;AAA3C,sBAAMH,OAAO,qBAAb;;AACJ,sBAAI,OAAOG,WAAW,CAACH,OAAD,CAAlB,KAAgC,QAApC,EAA8C;AAC7CM,oBAAAA,mBAAmB,CAACN,OAAD,CAAnB,GAA+BG,WAAW,CAACH,OAAD,CAAX,CAAqBC,MAArB,CAC9B,CAD8B,EAE9B3B,MAF8B,CAA/B;AAIA;AACD;;AACD,sCAAcmB,IAAI,CAACC,SAAL,CACbY,mBADa,CAAd,cAEKnB,iBAFL;AAGA;AAfqB;AA3BjB,WAJwD;AAiD/DoB,UAAAA,eAAe,EAAE;AAjD8C,SAAzD,CAAP;AAmDA,OAtDD;;AAuDAzC,MAAAA,YAAY,CAACkB,KAAb,CAAmBwB,SAAnB,CAA6BC,GAA7B,CACC,yBADD,EAEC,UAACC,MAAD,EAAS1C,KAAT,EAAgBkB,IAAhB,EAAyB;AACxB,YAAMyB,SAAS,GAAG,EAAlB;;AACA,YAAIvC,oBAAoB,CAACJ,KAAD,CAAxB,EAAiC;AAChC2C,UAAAA,SAAS,CAACC,IAAV,CACC,EADD,EAEC,8CAFD,EAGC,oEAHD,EAIC,8CAJD,EAKC,yBALD,EAMChD,QAAQ,CAACiD,MAAT,CACC7C,KAAK,CAAC8C,GAAN,CAAUC,GAAV,CAAc,UAAAlB,EAAE;AAAA,6BAAOJ,IAAI,CAACC,SAAL,CAAeG,EAAf,CAAP;AAAA,WAAhB,EAAgDmB,IAAhD,CAAqD,KAArD,CADD,CAND,EASC,IATD,EAUC,EAVD,EAWCzC,sBAAsB,CAACP,KAAD,CAAtB,GACGQ,mBAAmB,CAACR,KAAD,CAAnB,GACC,kDADD,GAEC,2BAHJ,GAIG,EAfJ;AAiBA;;AACD,YAAID,4BAA4B,CAACC,KAAD,CAAhC,EAAyC;AACxC2C,UAAAA,SAAS,CAACC,IAAV,CACC,EADD,EAEC,yBAFD,EAGC,oCAHD,EAIChD,QAAQ,CAACiD,MAAT,CAAgB,kBACL/C,YAAY,CAACmD,SADR,kBACyBhC,gBAAgB,CACvDC,IADuD,EAEvDlB,KAFuD,EAGvD,SAHuD,CADzC,EAAhB,CAJD,EAWC,GAXD;AAaA;;AACD,YAAI2C,SAAS,CAACrC,MAAV,KAAqB,CAAzB,EAA4B,OAAOoC,MAAP;AAC5B,eAAO9C,QAAQ,CAACsD,QAAT,EAAmBR,MAAnB,SAA8BC,SAA9B,EAAP;AACA,OAxCF;AA2CA7C,MAAAA,YAAY,CAACkB,KAAb,CAAmBmC,WAAnB,CAA+BV,GAA/B,CACC,yBADD,EAEC,UAACW,CAAD,EAAIpD,KAAJ,EAAWkB,IAAX,EAAoB;AACnB,YAAMmC,kBAAkB,GACvBvD,YAAY,CAACuB,aAAb,CAA2BgC,kBAD5B;AAEA,YAAMC,gBAAgB,GAAGxD,YAAY,CAACuB,aAAb,CAA2BiC,gBAApD;AACA,YAAMC,eAAe,GAAGzD,YAAY,CAACuB,aAAb,CAA2BkC,eAAnD;AAEA,eAAO3D,QAAQ,CAACsD,QAAT,CAAkB,CACxB,gDADwB,EAExB,uBAFwB,EAGxBK,eAAe,2BACK9B,IAAI,CAACC,SAAL,CAAe6B,eAAf,CADL,SAEZ,EALqB,EAMxB,2BANwB,6BAOJD,gBAAgB,GAAG,IAPf,sBAQjBxD,YAAY,CAACmD,SARI,aASxBrD,QAAQ,CAACiD,MAAT,0CACiC/C,YAAY,CAACmD,SAD9C,WATwB,EAYxB,GAZwB,EAaxB,uCAbwB,EAcxBI,kBAAkB,GACfzD,QAAQ,CAACsD,QAAT,CAAkB,CAClB,+DADkB,EAElBtD,QAAQ,CAACiD,MAAT,gCACyBpB,IAAI,CAACC,SAAL,CAAe2B,kBAAf,CADzB,OAFkB,EAKlB,GALkB,CAAlB,CADe,GAQf,EAtBqB,EAuBxB,qEAvBwB,EAwBxB,0BAxBwB,EAyBxB,uCAzBwB,EA0BxBzD,QAAQ,CAACiD,MAAT,CAAgB,CACf,2BADe,EAEf,wCAFe,EAGf,wBAHe,EAIf,uCAJe,EAKf,mBALe,EAMfjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,aADe,EAEfjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,4EADe,EAEf,0DAFe,EAGf,iGAHe,EAIf,gCAJe,EAKf,yBALe,EAMf,0BANe,EAOf,kBAPe,CAAhB,CAFe,EAWf,GAXe,EAYf,uCAZe,CAAhB,CANe,EAoBf,GApBe,CAAhB,CA1BwB,EAgDxB,IAhDwB,EAiDxB,sCAjDwB,EAkDxBjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,wDADe,CAAhB,CAlDwB,eAqDlBS,gBArDkB,SAsDxB,oDAtDwB,CAAlB,CAAP;AAwDA,OAhEF;AAkEAxD,MAAAA,YAAY,CAACkB,KAAb,CAAmBwC,WAAnB,CAA+Bf,GAA/B,CACC,yBADD,EAEC,UAACW,CAAD,EAAIpD,KAAJ,EAAWkB,IAAX,EAAoB;AACnB,YAAMmC,kBAAkB,GACvBvD,YAAY,CAACuB,aAAb,CAA2BgC,kBAD5B;AAEA,YAAME,eAAe,GAAGzD,YAAY,CAACuB,aAAb,CAA2BkC,eAAnD;AAEA,eAAO3D,QAAQ,CAACsD,QAAT,CAAkB,CACxB,4CADwB,EAExBK,eAAe,yBACG9B,IAAI,CAACC,SAAL,CAAe6B,eAAf,CADH,SAEZ,EAJqB,EAKxB,yBALwB,gBAMjBzD,YAAY,CAACmD,SANI,aAOxBrD,QAAQ,CAACiD,MAAT,wCAC+B/C,YAAY,CAACmD,SAD5C,WAPwB,EAUxB,GAVwB,EAWxB,uBAXwB,EAYxB,qBAZwB,EAaxB,sCAbwB,EAcxBI,kBAAkB,GACfzD,QAAQ,CAACsD,QAAT,CAAkB,CAClB,8DADkB,EAElBtD,QAAQ,CAACiD,MAAT,8BACuBpB,IAAI,CAACC,SAAL,CAAe2B,kBAAf,CADvB,OAFkB,EAKlB,GALkB,CAAlB,CADe,GAQf,EAtBqB,CAAlB,CAAP;AAwBA,OA/BF;AAiCAvD,MAAAA,YAAY,CAACkB,KAAb,CAAmByC,YAAnB,CAAgChB,GAAhC,CACC,yBADD,EAEC,UAACW,CAAD,EAAIpD,KAAJ,EAAWkB,IAAX,EAAoB;AACnB,YAAMmC,kBAAkB,GACvBvD,YAAY,CAACuB,aAAb,CAA2BgC,kBAD5B;AAGA,eAAOzD,QAAQ,CAACsD,QAAT,CAAkB,CACxB,4CADwB,EAExBG,kBAAkB,gCACO5B,IAAI,CAACC,SAAL,CAAe2B,kBAAf,CADP,SAEf,EAJqB,gBAKjBvD,YAAY,CAACmD,SALI,aAMxBrD,QAAQ,CAACiD,MAAT,wCAC+B/C,YAAY,CAACmD,SAD5C,WANwB,EASxB,GATwB,EAUxB,wBAVwB,EAWxB,qBAXwB,EAYxB,sCAZwB,CAAlB,CAAP;AAcA,OApBF;AAsBAnD,MAAAA,YAAY,CAACkB,KAAb,CAAmB0C,aAAnB,CAAiCjB,GAAjC,CACC,8BADD,EAEC,UAACC,MAAD,EAAS1C,KAAT,EAAgBkB,IAAhB,EAAyB;AACxB,eAAOtB,QAAQ,CAACsD,QAAT,CAAkB,CACxBR,MADwB,EAExB,EAFwB,EAGxB,uCAHwB,EAIxB,EAJwB,EAKxB,oDALwB,EAMxB,gEANwB,EAOxB9C,QAAQ,CAACiD,MAAT,CAAgB,CACf,EADe,EAEf,yCAFe,EAGf,0BAHe,EAIfjD,QAAQ,CAACiD,MAAT,CAAgB,CAAC,uCAAD,CAAhB,CAJe,EAKf,UALe,EAMfjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,iCADe,EAEf,uDAFe,EAGfjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,oEADe,CAAhB,CAHe,EAMf,KANe,EAOf,iDAPe,EAQf,EARe,EASf,wBATe,EAUf/C,YAAY,CAACkB,KAAb,CAAmBmC,WAAnB,CAA+BQ,IAA/B,CAAoC,EAApC,EAAwC3D,KAAxC,EAA+CkB,IAA/C,CAVe,EAWf,oCAXe,CAAhB,CANe,EAmBf,GAnBe,CAAhB,CAPwB,EA4BxB,GA5BwB,CAAlB,CAAP;AA8BA,OAjCF;AAmCApB,MAAAA,YAAY,CAACkB,KAAb,CAAmB0C,aAAnB,CAAiCjB,GAAjC,CACC;AACCP,QAAAA,IAAI,EAAE,iCADP;AAEC0B,QAAAA,KAAK,EAAE;AAFR,OADD,EAKC,UAAClB,MAAD,EAAS1C,KAAT,EAAgBkB,IAAhB,EAAyB;AACxB,YAAM2C,QAAQ,GAAG7D,KAAK,CAACU,sBAAN,GAA+BoD,OAAhD;AACA,YAAI,CAACD,QAAD,IAAajD,MAAM,CAACC,IAAP,CAAYgD,QAAZ,EAAsBvD,MAAtB,KAAiC,CAAlD,EAAqD,OAAOoC,MAAP;AACrD,eAAO9C,QAAQ,CAACsD,QAAT,CAAkB,CACxBR,MADwB,EAExB,EAFwB,EAGxB,mCAHwB,EAIxB,EAJwB,kCAKCjB,IAAI,CAACC,SAAL,CAAemC,QAAf,EAAyB,IAAzB,EAA+B,IAA/B,CALD,QAMxB,EANwB,EAOxB,kDAPwB,EAQxB,wBARwB,EASxBjE,QAAQ,CAACiD,MAAT,CAAgB,CACf,8CADe,EAEfjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,8CADe,EAEfjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,kCADe,EAEf/C,YAAY,CAACkB,KAAb,CAAmBwC,WAAnB,CAA+BG,IAA/B,CAAoC,EAApC,EAAwC3D,KAAxC,EAA+CkB,IAA/C,CAFe,EAGf,kCAHe,CAAhB,CAFe,EAOf,GAPe,CAAhB,CAFe,EAWf,KAXe,CAAhB,CATwB,EAsBxB,GAtBwB,CAAlB,CAAP;AAwBA,OAhCF;AAkCApB,MAAAA,YAAY,CAACkB,KAAb,CAAmB+C,iBAAnB,CAAqCtB,GAArC,CACC,yBADD,EAEC,UAACC,MAAD,EAAS1C,KAAT,EAAmB;AAClB,YAAI,CAACD,4BAA4B,CAACC,KAAD,CAAjC,EAA0C,OAAO0C,MAAP;AAE1C,eAAO9C,QAAQ,CAACsD,QAAT,CAAkB,CACxBR,MADwB,EAExB,EAFwB,EAGxB,wCAHwB,YAIrB5C,YAAY,CAACmD,SAJQ,6DAAlB,CAAP;AAMA,OAXF;AAaAnD,MAAAA,YAAY,CAACkB,KAAb,CAAmBgD,SAAnB,CAA6BvB,GAA7B,CACC,yBADD,EAEC,UAACC,MAAD,EAAS1C,KAAT,EAAgBkB,IAAhB,EAAyB;AACxB,YAAId,oBAAoB,CAACJ,KAAD,CAAxB,EAAiC;AAChC,cAAMiE,SAAS,GAAG1D,sBAAsB,CAACP,KAAD,CAAxC;AACA,cAAMkE,YAAY,GAAG1D,mBAAmB,CAACR,KAAD,CAAxC;AACA,iBAAOJ,QAAQ,CAACsD,QAAT,CAAkB,CACxBR,MADwB,EAExB,EAFwB,EAGxB,+CAHwB,EAIxB,uCAJwB,EAKxB9C,QAAQ,CAACiD,MAAT,CAAgB,CACf,yBADe,EAEf,4BAFe,EAGfoB,SAAS,GAAG,+BAAH,GAAqC,EAH/B,EAIfC,YAAY,GAAG,qCAAH,GAA2C,EAJxC,EAKf,6CALe,EAMf,yDANe,EAOf,8CAPe,EAQf,kCARe,EASftE,QAAQ,CAACiD,MAAT,CAAgB,CACf,wBADe,EAEf,kGAFe,EAGfjD,QAAQ,CAACiD,MAAT,CAAgB,6CAAhB,CAHe,EAIf,GAJe,EAKf,+BALe,CAAhB,CATe,EAgBf,GAhBe,EAiBf,gCAjBe,EAkBfjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,mEADe,EAEfjD,QAAQ,CAACiD,MAAT,CACC/C,YAAY,CAACqE,eAAb,CACCjD,IADD,EAEClB,KAFD,EAGC,UAHD,EAIC,uBAJD,CADD,CAFe,EAUf,GAVe,CAAhB,CAlBe,EA8Bf,GA9Be,EA+Bf,oDA/Be,EAgCfkE,YAAY,GACTD,SAAS,GACR,gEADQ,GAERrE,QAAQ,CAACsD,QAAT,CAAkB,CAClB,qCADkB,EAElB,4CAFkB,EAGlBtD,QAAQ,CAACiD,MAAT,CAAgB,CACf,8CADe,EAEfjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,kCADe,EAEf/C,YAAY,CAACkB,KAAb,CAAmByC,YAAnB,CAAgCE,IAAhC,CAAqC,EAArC,EAAyC3D,KAAzC,EAAgDkB,IAAhD,CAFe,EAGf,kCAHe,CAAhB,CAFe,EAOf,GAPe,CAAhB,CAHkB,EAYlB,KAZkB,CAAlB,CAHQ,GAiBT,EAjDY,EAkDf,0BAlDe,EAmDftB,QAAQ,CAACiD,MAAT,CAAgB,qBAAhB,CAnDe,EAoDf,GApDe,EAqDfoB,SAAS,GACNrE,QAAQ,CAACsD,QAAT,CAAkB,CAClB,EADkB,EAElB,yDAFkB,EAGlB,oEAHkB,EAIlB,EAJkB,EAKlB,+CALkB,EAMlB,gCANkB,CAAlB,CADM,GASN,EA9DY,CAAhB,CALwB,EAqExB,IArEwB,EAsExBe,SAAS,GACNrE,QAAQ,CAACsD,QAAT,CAAkB,CAClB,mCADkB,EAElBtD,QAAQ,CAACiD,MAAT,CAAgB,CACf,aADe,EAEf,mDAFe,EAGfjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,0CADe,EAEf,uBAFe,EAGf,kDAHe,EAIfjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,gCADe,EAEf,qDAFe,CAAhB,CAJe,EAQf,GARe,EASf,iBATe,EAUfjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,iCADe,EAEf,cACC/C,YAAY,CAACmD,SADd,GAEC,GAFD,GAGCnD,YAAY,CAACmD,SAHd,GAIC,0BANc,CAAhB,CAVe,EAkBf,GAlBe,CAAhB,CAHe,EAuBf,GAvBe,EAwBfiB,YAAY,GACTtE,QAAQ,CAACsD,QAAT,CAAkB,CAClB,oCADkB,EAElBtD,QAAQ,CAACiD,MAAT,CAAgB,CACf,qCADe,EAEf,8CAFe,EAGfjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,8CADe,EAEfjD,QAAQ,CAACiD,MAAT,CAAgB,CACf,kCADe,EAEf/C,YAAY,CAACkB,KAAb,CAAmByC,YAAnB,CAAgCE,IAAhC,CACC,EADD,EAEC3D,KAFD,EAGCkB,IAHD,CAFe,EAOf,kCAPe,CAAhB,CAFe,EAWf,GAXe,CAAhB,CAHe,EAgBf,KAhBe,EAiBf,8BAjBe,CAAhB,CAFkB,EAqBlB,GArBkB,CAAlB,CADS,GAwBT,EAhDY,EAiDf,gBAjDe,CAAhB,CAFkB,EAqDlB,GArDkB,CAAlB,CADM,GAwDN,EA9HqB,CAAlB,CAAP;AAgIA;;AACD,eAAOwB,MAAP;AACA,OAxIF;AA0IA5C,MAAAA,YAAY,CAACkB,KAAb,CAAmBoD,aAAnB,CAAiC3B,GAAjC,CACC,yBADD,EAEC,UAACC,MAAD,EAAS1C,KAAT,EAAgBkB,IAAhB,EAAyB;AACxB,YAAId,oBAAoB,CAACJ,KAAD,CAAxB,EAAiC;AAChC,cAAIqE,aAAa,GAAGvE,YAAY,CAACuB,aAAb,CAA2BgD,aAA/C;AACA,cAAIC,YAAY,GAAGxE,YAAY,CAACuB,aAAb,CAA2BiD,YAA9C;AACA,iBAAO1E,QAAQ,CAACsD,QAAT,CAAkB,4BACJoB,YADI,cACY7C,IAAI,CAACC,SAAL,CACnC2C,aADmC,CADZ,iBAGhBC,YAHgB,cAGA7C,IAAI,CAACC,SAAL,CAAe2C,aAAf,CAHA,eAIxB,0DAJwB,EAKxB,yCALwB,EAMxB,kCANwB,EAOxB,iFAPwB,EAQxB,6CARwB,EASxB,EATwB,EAUxB3B,MAVwB,CAAlB,CAAP;AAYA;;AACD,eAAOA,MAAP;AACA,OApBF;AAsBA5C,MAAAA,YAAY,CAACkB,KAAb,CAAmBuD,YAAnB,CAAgC9B,GAAhC,CACC,yBADD,EAEC,UAACC,MAAD,EAAS1C,KAAT,EAAgBkB,IAAhB,EAAyB;AACxB,YAAMsD,cAAc,GAAGxE,KAAK,CAACyE,mBAAN,GAA4B9D,QAAnD;;AACA,YACCP,oBAAoB,CAACJ,KAAD,CAApB,IACAwE,cADA,IAEAA,cAAc,CAAClE,MAHhB,EAIE;AACD,iBAAOV,QAAQ,CAACsD,QAAT,CAAkB,CACxBR,MADwB,6CAEYjB,IAAI,CAACC,SAAL,CACnC8C,cADmC,CAFZ,SAAlB,CAAP;AAMA;;AACD,eAAO9B,MAAP;AACA,OAjBF;AAmBA5C,MAAAA,YAAY,CAACkB,KAAb,CAAmB0D,OAAnB,CAA2BjC,GAA3B,CACC,yBADD,EAEC,UAACC,MAAD,EAAS1C,KAAT,EAAgBkB,IAAhB,EAAyB;AACxB,YAAIX,sBAAsB,CAACP,KAAD,CAA1B,EAAmC;AAClC,cAAIA,KAAK,CAAC2E,cAAN,EAAJ,EAA4B;AAC3B,gBAAMC,OAAO,GAAG,CAAC5E,KAAK,CAAC6E,WAAP,EAAoBC,MAApB,CAA2BC,OAA3B,EAAoChC,GAApC,CAAwC,UAAAiC,CAAC;AAAA,qBACxD,CAACA,CAAC,CAACnD,EAAH,EAAOoD,MAAP,CACCC,KAAK,CAACC,IAAN,CAAWnF,KAAK,CAACC,cAAjB,EAAiC,CAAjC,EACEI,MADF,CACSyE,MADT,CACgB,UAAAM,CAAC;AAAA,uBAAIA,CAAC,KAAKpF,KAAV;AAAA,eADjB,EAEE+C,GAFF,CAEM,UAAAqC,CAAC;AAAA,uBAAIA,CAAC,CAACvD,EAAN;AAAA,eAFP,CADD,CADwD;AAAA,aAAzC,CAAhB;AAOA,mBAAOjC,QAAQ,CAACsD,QAAT,CAAkB,CACxB,sCADwB,iCAEA0B,OAAO,CAC7B7B,GADsB,CAClB,UAAAsC,CAAC;AAAA,qBAAI5D,IAAI,CAACC,SAAL,CAAe2D,CAAf,CAAJ;AAAA,aADiB,EAEtBrC,IAFsB,CAEjB,IAFiB,CAFA,SAKxB,oCALwB,EAMxB,gCANwB,CAAlB,CAAP;AAQA,WAhBD,MAgBO;AACN,mBAAOpD,QAAQ,CAACsD,QAAT,CAAkB,CACxB,2CADwB,EAExB,yBAFwB,CAAlB,CAAP;AAIA;AACD;;AACD,eAAOR,MAAP;AACA,OA5BF;AA8BA5C,MAAAA,YAAY,CAACkB,KAAb,CAAmBsE,YAAnB,CAAgC7C,GAAhC,CACC,yBADD,EAEC,UAACC,MAAD,EAAS1C,KAAT,EAAgBkB,IAAhB,EAAyB;AACxB,YAAMoD,YAAY,GAAGxE,YAAY,CAACuB,aAAb,CAA2BiD,YAAhD;AACA,YAAMiB,sBAAsB,GAC3BzF,YAAY,CAACuB,aAAb,CAA2BkE,sBAD5B;AAEA,YAAMC,qBAAqB,GAC1B1F,YAAY,CAACuB,aAAb,CAA2BmE,qBAD5B;AAEA,YAAMnC,kBAAkB,GACvBvD,YAAY,CAACuB,aAAb,CAA2BgC,kBAD5B;AAEA,YAAMoC,iBAAiB,GAAG3F,YAAY,CAACuB,aAAb,CAA2BoE,iBAArD;AACA,YAAMC,6BAA6B,GAAG5F,YAAY,CAAC0B,YAAb,CACrCC,IAAI,CAACC,SAAL,CAAe6D,sBAAf,CADqC,EAErC;AACCrE,UAAAA,IAAI,iBAASpB,YAAY,CAAC6B,qBAAb,CAAmCT,IAAnC,CAAT,UADL;AAECU,UAAAA,cAAc,EAAE,wBAAAtB,MAAM;AAAA,kCACdR,YAAY,CAAC6B,qBAAb,CAAmCT,IAAnC,EAAyCZ,MAAzC,CADc;AAAA,WAFvB;AAICN,UAAAA,KAAK,EAAE;AACN6B,YAAAA,EAAE,EAAE;AADE;AAJR,SAFqC,CAAtC;AAWA,YAAM8D,4BAA4B,GAAG7F,YAAY,CAAC0B,YAAb,CACpCC,IAAI,CAACC,SAAL,CAAe8D,qBAAf,CADoC,EAEpC;AACCtE,UAAAA,IAAI,iBAASpB,YAAY,CAAC6B,qBAAb,CAAmCT,IAAnC,CAAT,UADL;AAECU,UAAAA,cAAc,EAAE,wBAAAtB,MAAM;AAAA,kCACdR,YAAY,CAAC6B,qBAAb,CAAmCT,IAAnC,EAAyCZ,MAAzC,CADc;AAAA;AAFvB,SAFoC,CAArC;AAQA,YAAMsF,aAAa,GAAGhG,QAAQ,CAACiG,kBAAT,CACrBnG,OAAO,CAAC,6BAAD,CADc,EAGpBoG,OAHoB,CAGZ,kBAHY,EAGQ,GAHR,EAIpBA,OAJoB,CAIZ,cAJY,EAIIhG,YAAY,CAACmD,SAJjB,EAKpB6C,OALoB,CAMpB,yBANoB,EAOpBzC,kBAAkB,GAAG5B,IAAI,CAACC,SAAL,CAAe2B,kBAAf,CAAH,GAAwC,MAPtC,EASpByC,OAToB,CASZ,sBATY,EASYH,4BATZ,EAUpBG,OAVoB,CAUZ,uBAVY,EAUaJ,6BAVb,EAWpBI,OAXoB,CAWZ,WAXY,EAWCrE,IAAI,CAACC,SAAL,CAAeR,IAAf,CAXD,CAAtB;AAYA,yBAAUwB,MAAV,yHAI4B4B,YAJ5B,cAI4C7C,IAAI,CAACC,SAAL,CAC3C+D,iBAD2C,CAJ5C,iBAOFnB,YAPE,cAOc7C,IAAI,CAACC,SAAL,CAAe+D,iBAAf,CAPd,iBAOsDG,aAPtD;AAQA,OAlDF;AAoDA9F,MAAAA,YAAY,CAACkB,KAAb,CAAmBE,IAAnB,CAAwBuB,GAAxB,CAA4B,yBAA5B,EAAuD,UAAAvB,IAAI,EAAI;AAC9DA,QAAAA,IAAI,CAAC6E,MAAL,CAAY,OAAZ;AACA7E,QAAAA,IAAI,CAAC6E,MAAL,CAAY,GAAZ;AACA,OAHD;AAIA;;;;;;AAEFC,MAAM,CAACC,OAAP,GAAiBpG,uBAAjB","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst { SyncWaterfallHook } = require(\"tapable\");\nconst Template = require(\"../Template\");\n\nclass JsonpMainTemplatePlugin {\n\tapply(mainTemplate) {\n\t\tconst needChunkOnDemandLoadingCode = chunk => {\n\t\t\tfor (const chunkGroup of chunk.groupsIterable) {\n\t\t\t\tif (chunkGroup.getNumberOfChildren() > 0) return true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\tconst needChunkLoadingCode = chunk => {\n\t\t\tfor (const chunkGroup of chunk.groupsIterable) {\n\t\t\t\tif (chunkGroup.chunks.length > 1) return true;\n\t\t\t\tif (chunkGroup.getNumberOfChildren() > 0) return true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\tconst needEntryDeferringCode = chunk => {\n\t\t\tfor (const chunkGroup of chunk.groupsIterable) {\n\t\t\t\tif (chunkGroup.chunks.length > 1) return true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\tconst needPrefetchingCode = chunk => {\n\t\t\tconst allPrefetchChunks = chunk.getChildIdsByOrdersMap(true).prefetch;\n\t\t\treturn allPrefetchChunks && Object.keys(allPrefetchChunks).length;\n\t\t};\n\n\t\t// TODO webpack 5, no adding to .hooks, use WeakMap and static methods\n\t\t[\"jsonpScript\", \"linkPreload\", \"linkPrefetch\"].forEach(hook => {\n\t\t\tif (!mainTemplate.hooks[hook]) {\n\t\t\t\tmainTemplate.hooks[hook] = new SyncWaterfallHook([\n\t\t\t\t\t\"source\",\n\t\t\t\t\t\"chunk\",\n\t\t\t\t\t\"hash\"\n\t\t\t\t]);\n\t\t\t}\n\t\t});\n\n\t\tconst getScriptSrcPath = (hash, chunk, chunkIdExpression) => {\n\t\t\tconst chunkFilename = mainTemplate.outputOptions.chunkFilename;\n\t\t\tconst chunkMaps = chunk.getChunkMaps();\n\t\t\treturn mainTemplate.getAssetPath(JSON.stringify(chunkFilename), {\n\t\t\t\thash: `\" + ${mainTemplate.renderCurrentHashCode(hash)} + \"`,\n\t\t\t\thashWithLength: length =>\n\t\t\t\t\t`\" + ${mainTemplate.renderCurrentHashCode(hash, length)} + \"`,\n\t\t\t\tchunk: {\n\t\t\t\t\tid: `\" + ${chunkIdExpression} + \"`,\n\t\t\t\t\thash: `\" + ${JSON.stringify(\n\t\t\t\t\t\tchunkMaps.hash\n\t\t\t\t\t)}[${chunkIdExpression}] + \"`,\n\t\t\t\t\thashWithLength(length) {\n\t\t\t\t\t\tconst shortChunkHashMap = Object.create(null);\n\t\t\t\t\t\tfor (const chunkId of Object.keys(chunkMaps.hash)) {\n\t\t\t\t\t\t\tif (typeof chunkMaps.hash[chunkId] === \"string\") {\n\t\t\t\t\t\t\t\tshortChunkHashMap[chunkId] = chunkMaps.hash[chunkId].substr(\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\tlength\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn `\" + ${JSON.stringify(\n\t\t\t\t\t\t\tshortChunkHashMap\n\t\t\t\t\t\t)}[${chunkIdExpression}] + \"`;\n\t\t\t\t\t},\n\t\t\t\t\tname: `\" + (${JSON.stringify(\n\t\t\t\t\t\tchunkMaps.name\n\t\t\t\t\t)}[${chunkIdExpression}]||${chunkIdExpression}) + \"`,\n\t\t\t\t\tcontentHash: {\n\t\t\t\t\t\tjavascript: `\" + ${JSON.stringify(\n\t\t\t\t\t\t\tchunkMaps.contentHash.javascript\n\t\t\t\t\t\t)}[${chunkIdExpression}] + \"`\n\t\t\t\t\t},\n\t\t\t\t\tcontentHashWithLength: {\n\t\t\t\t\t\tjavascript: length => {\n\t\t\t\t\t\t\tconst shortContentHashMap = {};\n\t\t\t\t\t\t\tconst contentHash = chunkMaps.contentHash.javascript;\n\t\t\t\t\t\t\tfor (const chunkId of Object.keys(contentHash)) {\n\t\t\t\t\t\t\t\tif (typeof contentHash[chunkId] === \"string\") {\n\t\t\t\t\t\t\t\t\tshortContentHashMap[chunkId] = contentHash[chunkId].substr(\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tlength\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn `\" + ${JSON.stringify(\n\t\t\t\t\t\t\t\tshortContentHashMap\n\t\t\t\t\t\t\t)}[${chunkIdExpression}] + \"`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcontentHashType: \"javascript\"\n\t\t\t});\n\t\t};\n\t\tmainTemplate.hooks.localVars.tap(\n\t\t\t\"JsonpMainTemplatePlugin\",\n\t\t\t(source, chunk, hash) => {\n\t\t\t\tconst extraCode = [];\n\t\t\t\tif (needChunkLoadingCode(chunk)) {\n\t\t\t\t\textraCode.push(\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"// object to store loaded and loading chunks\",\n\t\t\t\t\t\t\"// undefined = chunk not loaded, null = chunk preloaded/prefetched\",\n\t\t\t\t\t\t\"// Promise = chunk loading, 0 = chunk loaded\",\n\t\t\t\t\t\t\"var installedChunks = {\",\n\t\t\t\t\t\tTemplate.indent(\n\t\t\t\t\t\t\tchunk.ids.map(id => `${JSON.stringify(id)}: 0`).join(\",\\n\")\n\t\t\t\t\t\t),\n\t\t\t\t\t\t\"};\",\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\tneedEntryDeferringCode(chunk)\n\t\t\t\t\t\t\t? needPrefetchingCode(chunk)\n\t\t\t\t\t\t\t\t? \"var deferredModules = [], deferredPrefetch = [];\"\n\t\t\t\t\t\t\t\t: \"var deferredModules = [];\"\n\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (needChunkOnDemandLoadingCode(chunk)) {\n\t\t\t\t\textraCode.push(\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"// script path function\",\n\t\t\t\t\t\t\"function jsonpScriptSrc(chunkId) {\",\n\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t`return ${mainTemplate.requireFn}.p + ${getScriptSrcPath(\n\t\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\t\"chunkId\"\n\t\t\t\t\t\t\t)}`\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\"}\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (extraCode.length === 0) return source;\n\t\t\t\treturn Template.asString([source, ...extraCode]);\n\t\t\t}\n\t\t);\n\n\t\tmainTemplate.hooks.jsonpScript.tap(\n\t\t\t\"JsonpMainTemplatePlugin\",\n\t\t\t(_, chunk, hash) => {\n\t\t\t\tconst crossOriginLoading =\n\t\t\t\t\tmainTemplate.outputOptions.crossOriginLoading;\n\t\t\t\tconst chunkLoadTimeout = mainTemplate.outputOptions.chunkLoadTimeout;\n\t\t\t\tconst jsonpScriptType = mainTemplate.outputOptions.jsonpScriptType;\n\n\t\t\t\treturn Template.asString([\n\t\t\t\t\t\"var script = document.createElement('script');\",\n\t\t\t\t\t\"var onScriptComplete;\",\n\t\t\t\t\tjsonpScriptType\n\t\t\t\t\t\t? `script.type = ${JSON.stringify(jsonpScriptType)};`\n\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\"script.charset = 'utf-8';\",\n\t\t\t\t\t`script.timeout = ${chunkLoadTimeout / 1000};`,\n\t\t\t\t\t`if (${mainTemplate.requireFn}.nc) {`,\n\t\t\t\t\tTemplate.indent(\n\t\t\t\t\t\t`script.setAttribute(\"nonce\", ${mainTemplate.requireFn}.nc);`\n\t\t\t\t\t),\n\t\t\t\t\t\"}\",\n\t\t\t\t\t\"script.src = jsonpScriptSrc(chunkId);\",\n\t\t\t\t\tcrossOriginLoading\n\t\t\t\t\t\t? Template.asString([\n\t\t\t\t\t\t\t\t\"if (script.src.indexOf(window.location.origin + '/') !== 0) {\",\n\t\t\t\t\t\t\t\tTemplate.indent(\n\t\t\t\t\t\t\t\t\t`script.crossOrigin = ${JSON.stringify(crossOriginLoading)};`\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t  ])\n\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\"// create error before stack unwound to get useful stacktrace later\",\n\t\t\t\t\t\"var error = new Error();\",\n\t\t\t\t\t\"onScriptComplete = function (event) {\",\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\"// avoid mem leaks in IE.\",\n\t\t\t\t\t\t\"script.onerror = script.onload = null;\",\n\t\t\t\t\t\t\"clearTimeout(timeout);\",\n\t\t\t\t\t\t\"var chunk = installedChunks[chunkId];\",\n\t\t\t\t\t\t\"if(chunk !== 0) {\",\n\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\"if(chunk) {\",\n\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\"var errorType = event && (event.type === 'load' ? 'missing' : event.type);\",\n\t\t\t\t\t\t\t\t\"var realSrc = event && event.target && event.target.src;\",\n\t\t\t\t\t\t\t\t\"error.message = 'Loading chunk ' + chunkId + ' failed.\\\\n(' + errorType + ': ' + realSrc + ')';\",\n\t\t\t\t\t\t\t\t\"error.name = 'ChunkLoadError';\",\n\t\t\t\t\t\t\t\t\"error.type = errorType;\",\n\t\t\t\t\t\t\t\t\"error.request = realSrc;\",\n\t\t\t\t\t\t\t\t\"chunk[1](error);\"\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\"}\",\n\t\t\t\t\t\t\t\"installedChunks[chunkId] = undefined;\"\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\"}\"\n\t\t\t\t\t]),\n\t\t\t\t\t\"};\",\n\t\t\t\t\t\"var timeout = setTimeout(function(){\",\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\"onScriptComplete({ type: 'timeout', target: script });\"\n\t\t\t\t\t]),\n\t\t\t\t\t`}, ${chunkLoadTimeout});`,\n\t\t\t\t\t\"script.onerror = script.onload = onScriptComplete;\"\n\t\t\t\t]);\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.linkPreload.tap(\n\t\t\t\"JsonpMainTemplatePlugin\",\n\t\t\t(_, chunk, hash) => {\n\t\t\t\tconst crossOriginLoading =\n\t\t\t\t\tmainTemplate.outputOptions.crossOriginLoading;\n\t\t\t\tconst jsonpScriptType = mainTemplate.outputOptions.jsonpScriptType;\n\n\t\t\t\treturn Template.asString([\n\t\t\t\t\t\"var link = document.createElement('link');\",\n\t\t\t\t\tjsonpScriptType\n\t\t\t\t\t\t? `link.type = ${JSON.stringify(jsonpScriptType)};`\n\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\"link.charset = 'utf-8';\",\n\t\t\t\t\t`if (${mainTemplate.requireFn}.nc) {`,\n\t\t\t\t\tTemplate.indent(\n\t\t\t\t\t\t`link.setAttribute(\"nonce\", ${mainTemplate.requireFn}.nc);`\n\t\t\t\t\t),\n\t\t\t\t\t\"}\",\n\t\t\t\t\t'link.rel = \"preload\";',\n\t\t\t\t\t'link.as = \"script\";',\n\t\t\t\t\t\"link.href = jsonpScriptSrc(chunkId);\",\n\t\t\t\t\tcrossOriginLoading\n\t\t\t\t\t\t? Template.asString([\n\t\t\t\t\t\t\t\t\"if (link.href.indexOf(window.location.origin + '/') !== 0) {\",\n\t\t\t\t\t\t\t\tTemplate.indent(\n\t\t\t\t\t\t\t\t\t`link.crossOrigin = ${JSON.stringify(crossOriginLoading)};`\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t  ])\n\t\t\t\t\t\t: \"\"\n\t\t\t\t]);\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.linkPrefetch.tap(\n\t\t\t\"JsonpMainTemplatePlugin\",\n\t\t\t(_, chunk, hash) => {\n\t\t\t\tconst crossOriginLoading =\n\t\t\t\t\tmainTemplate.outputOptions.crossOriginLoading;\n\n\t\t\t\treturn Template.asString([\n\t\t\t\t\t\"var link = document.createElement('link');\",\n\t\t\t\t\tcrossOriginLoading\n\t\t\t\t\t\t? `link.crossOrigin = ${JSON.stringify(crossOriginLoading)};`\n\t\t\t\t\t\t: \"\",\n\t\t\t\t\t`if (${mainTemplate.requireFn}.nc) {`,\n\t\t\t\t\tTemplate.indent(\n\t\t\t\t\t\t`link.setAttribute(\"nonce\", ${mainTemplate.requireFn}.nc);`\n\t\t\t\t\t),\n\t\t\t\t\t\"}\",\n\t\t\t\t\t'link.rel = \"prefetch\";',\n\t\t\t\t\t'link.as = \"script\";',\n\t\t\t\t\t\"link.href = jsonpScriptSrc(chunkId);\"\n\t\t\t\t]);\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.requireEnsure.tap(\n\t\t\t\"JsonpMainTemplatePlugin load\",\n\t\t\t(source, chunk, hash) => {\n\t\t\t\treturn Template.asString([\n\t\t\t\t\tsource,\n\t\t\t\t\t\"\",\n\t\t\t\t\t\"// JSONP chunk loading for javascript\",\n\t\t\t\t\t\"\",\n\t\t\t\t\t\"var installedChunkData = installedChunks[chunkId];\",\n\t\t\t\t\t'if(installedChunkData !== 0) { // 0 means \"already installed\".',\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t'// a Promise means \"currently loading\".',\n\t\t\t\t\t\t\"if(installedChunkData) {\",\n\t\t\t\t\t\tTemplate.indent([\"promises.push(installedChunkData[2]);\"]),\n\t\t\t\t\t\t\"} else {\",\n\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\"// setup Promise in chunk cache\",\n\t\t\t\t\t\t\t\"var promise = new Promise(function(resolve, reject) {\",\n\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\"installedChunkData = installedChunks[chunkId] = [resolve, reject];\"\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\"});\",\n\t\t\t\t\t\t\t\"promises.push(installedChunkData[2] = promise);\",\n\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t\"// start chunk loading\",\n\t\t\t\t\t\t\tmainTemplate.hooks.jsonpScript.call(\"\", chunk, hash),\n\t\t\t\t\t\t\t\"document.head.appendChild(script);\"\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\"}\"\n\t\t\t\t\t]),\n\t\t\t\t\t\"}\"\n\t\t\t\t]);\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.requireEnsure.tap(\n\t\t\t{\n\t\t\t\tname: \"JsonpMainTemplatePlugin preload\",\n\t\t\t\tstage: 10\n\t\t\t},\n\t\t\t(source, chunk, hash) => {\n\t\t\t\tconst chunkMap = chunk.getChildIdsByOrdersMap().preload;\n\t\t\t\tif (!chunkMap || Object.keys(chunkMap).length === 0) return source;\n\t\t\t\treturn Template.asString([\n\t\t\t\t\tsource,\n\t\t\t\t\t\"\",\n\t\t\t\t\t\"// chunk preloadng for javascript\",\n\t\t\t\t\t\"\",\n\t\t\t\t\t`var chunkPreloadMap = ${JSON.stringify(chunkMap, null, \"\\t\")};`,\n\t\t\t\t\t\"\",\n\t\t\t\t\t\"var chunkPreloadData = chunkPreloadMap[chunkId];\",\n\t\t\t\t\t\"if(chunkPreloadData) {\",\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\"chunkPreloadData.forEach(function(chunkId) {\",\n\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\"if(installedChunks[chunkId] === undefined) {\",\n\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\"installedChunks[chunkId] = null;\",\n\t\t\t\t\t\t\t\tmainTemplate.hooks.linkPreload.call(\"\", chunk, hash),\n\t\t\t\t\t\t\t\t\"document.head.appendChild(link);\"\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\"});\"\n\t\t\t\t\t]),\n\t\t\t\t\t\"}\"\n\t\t\t\t]);\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.requireExtensions.tap(\n\t\t\t\"JsonpMainTemplatePlugin\",\n\t\t\t(source, chunk) => {\n\t\t\t\tif (!needChunkOnDemandLoadingCode(chunk)) return source;\n\n\t\t\t\treturn Template.asString([\n\t\t\t\t\tsource,\n\t\t\t\t\t\"\",\n\t\t\t\t\t\"// on error function for async loading\",\n\t\t\t\t\t`${mainTemplate.requireFn}.oe = function(err) { console.error(err); throw err; };`\n\t\t\t\t]);\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.bootstrap.tap(\n\t\t\t\"JsonpMainTemplatePlugin\",\n\t\t\t(source, chunk, hash) => {\n\t\t\t\tif (needChunkLoadingCode(chunk)) {\n\t\t\t\t\tconst withDefer = needEntryDeferringCode(chunk);\n\t\t\t\t\tconst withPrefetch = needPrefetchingCode(chunk);\n\t\t\t\t\treturn Template.asString([\n\t\t\t\t\t\tsource,\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"// install a JSONP callback for chunk loading\",\n\t\t\t\t\t\t\"function webpackJsonpCallback(data) {\",\n\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\"var chunkIds = data[0];\",\n\t\t\t\t\t\t\t\"var moreModules = data[1];\",\n\t\t\t\t\t\t\twithDefer ? \"var executeModules = data[2];\" : \"\",\n\t\t\t\t\t\t\twithPrefetch ? \"var prefetchChunks = data[3] || [];\" : \"\",\n\t\t\t\t\t\t\t'// add \"moreModules\" to the modules object,',\n\t\t\t\t\t\t\t'// then flag all \"chunkIds\" as loaded and fire callback',\n\t\t\t\t\t\t\t\"var moduleId, chunkId, i = 0, resolves = [];\",\n\t\t\t\t\t\t\t\"for(;i < chunkIds.length; i++) {\",\n\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\"chunkId = chunkIds[i];\",\n\t\t\t\t\t\t\t\t\"if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\",\n\t\t\t\t\t\t\t\tTemplate.indent(\"resolves.push(installedChunks[chunkId][0]);\"),\n\t\t\t\t\t\t\t\t\"}\",\n\t\t\t\t\t\t\t\t\"installedChunks[chunkId] = 0;\"\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\"}\",\n\t\t\t\t\t\t\t\"for(moduleId in moreModules) {\",\n\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\"if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\",\n\t\t\t\t\t\t\t\tTemplate.indent(\n\t\t\t\t\t\t\t\t\tmainTemplate.renderAddModule(\n\t\t\t\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\t\t\t\"moduleId\",\n\t\t\t\t\t\t\t\t\t\t\"moreModules[moduleId]\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\"}\",\n\t\t\t\t\t\t\t\"if(parentJsonpFunction) parentJsonpFunction(data);\",\n\t\t\t\t\t\t\twithPrefetch\n\t\t\t\t\t\t\t\t? withDefer\n\t\t\t\t\t\t\t\t\t? \"deferredPrefetch.push.apply(deferredPrefetch, prefetchChunks);\"\n\t\t\t\t\t\t\t\t\t: Template.asString([\n\t\t\t\t\t\t\t\t\t\t\t\"// chunk prefetching for javascript\",\n\t\t\t\t\t\t\t\t\t\t\t\"prefetchChunks.forEach(function(chunkId) {\",\n\t\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\t\"if(installedChunks[chunkId] === undefined) {\",\n\t\t\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"installedChunks[chunkId] = null;\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tmainTemplate.hooks.linkPrefetch.call(\"\", chunk, hash),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"document.head.appendChild(link);\"\n\t\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\t\"});\"\n\t\t\t\t\t\t\t\t\t  ])\n\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\t\"while(resolves.length) {\",\n\t\t\t\t\t\t\tTemplate.indent(\"resolves.shift()();\"),\n\t\t\t\t\t\t\t\"}\",\n\t\t\t\t\t\t\twithDefer\n\t\t\t\t\t\t\t\t? Template.asString([\n\t\t\t\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t\t\t\t\"// add entry modules from loaded chunk to deferred list\",\n\t\t\t\t\t\t\t\t\t\t\"deferredModules.push.apply(deferredModules, executeModules || []);\",\n\t\t\t\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t\t\t\t\"// run deferred modules when all chunks ready\",\n\t\t\t\t\t\t\t\t\t\t\"return checkDeferredModules();\"\n\t\t\t\t\t\t\t\t  ])\n\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\"};\",\n\t\t\t\t\t\twithDefer\n\t\t\t\t\t\t\t? Template.asString([\n\t\t\t\t\t\t\t\t\t\"function checkDeferredModules() {\",\n\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\"var result;\",\n\t\t\t\t\t\t\t\t\t\t\"for(var i = 0; i < deferredModules.length; i++) {\",\n\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\"var deferredModule = deferredModules[i];\",\n\t\t\t\t\t\t\t\t\t\t\t\"var fulfilled = true;\",\n\t\t\t\t\t\t\t\t\t\t\t\"for(var j = 1; j < deferredModule.length; j++) {\",\n\t\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\t\"var depId = deferredModule[j];\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"if(installedChunks[depId] !== 0) fulfilled = false;\"\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\t\"}\",\n\t\t\t\t\t\t\t\t\t\t\t\"if(fulfilled) {\",\n\t\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\t\"deferredModules.splice(i--, 1);\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"result = \" +\n\t\t\t\t\t\t\t\t\t\t\t\t\tmainTemplate.requireFn +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"(\" +\n\t\t\t\t\t\t\t\t\t\t\t\t\tmainTemplate.requireFn +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\".s = deferredModule[0]);\"\n\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\"}\",\n\t\t\t\t\t\t\t\t\t\twithPrefetch\n\t\t\t\t\t\t\t\t\t\t\t? Template.asString([\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"if(deferredModules.length === 0) {\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"// chunk prefetching for javascript\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"deferredPrefetch.forEach(function(chunkId) {\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"if(installedChunks[chunkId] === undefined) {\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"installedChunks[chunkId] = null;\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmainTemplate.hooks.linkPrefetch.call(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thash\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"document.head.appendChild(link);\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"});\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"deferredPrefetch.length = 0;\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t\t\t\t\t\t  ])\n\t\t\t\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\t\t\t\t\"return result;\"\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t\t  ])\n\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t\treturn source;\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.beforeStartup.tap(\n\t\t\t\"JsonpMainTemplatePlugin\",\n\t\t\t(source, chunk, hash) => {\n\t\t\t\tif (needChunkLoadingCode(chunk)) {\n\t\t\t\t\tvar jsonpFunction = mainTemplate.outputOptions.jsonpFunction;\n\t\t\t\t\tvar globalObject = mainTemplate.outputOptions.globalObject;\n\t\t\t\t\treturn Template.asString([\n\t\t\t\t\t\t`var jsonpArray = ${globalObject}[${JSON.stringify(\n\t\t\t\t\t\t\tjsonpFunction\n\t\t\t\t\t\t)}] = ${globalObject}[${JSON.stringify(jsonpFunction)}] || [];`,\n\t\t\t\t\t\t\"var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\",\n\t\t\t\t\t\t\"jsonpArray.push = webpackJsonpCallback;\",\n\t\t\t\t\t\t\"jsonpArray = jsonpArray.slice();\",\n\t\t\t\t\t\t\"for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\",\n\t\t\t\t\t\t\"var parentJsonpFunction = oldJsonpFunction;\",\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\tsource\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t\treturn source;\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.afterStartup.tap(\n\t\t\t\"JsonpMainTemplatePlugin\",\n\t\t\t(source, chunk, hash) => {\n\t\t\t\tconst prefetchChunks = chunk.getChildIdsByOrders().prefetch;\n\t\t\t\tif (\n\t\t\t\t\tneedChunkLoadingCode(chunk) &&\n\t\t\t\t\tprefetchChunks &&\n\t\t\t\t\tprefetchChunks.length\n\t\t\t\t) {\n\t\t\t\t\treturn Template.asString([\n\t\t\t\t\t\tsource,\n\t\t\t\t\t\t`webpackJsonpCallback([[], {}, 0, ${JSON.stringify(\n\t\t\t\t\t\t\tprefetchChunks\n\t\t\t\t\t\t)}]);`\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t\treturn source;\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.startup.tap(\n\t\t\t\"JsonpMainTemplatePlugin\",\n\t\t\t(source, chunk, hash) => {\n\t\t\t\tif (needEntryDeferringCode(chunk)) {\n\t\t\t\t\tif (chunk.hasEntryModule()) {\n\t\t\t\t\t\tconst entries = [chunk.entryModule].filter(Boolean).map(m =>\n\t\t\t\t\t\t\t[m.id].concat(\n\t\t\t\t\t\t\t\tArray.from(chunk.groupsIterable)[0]\n\t\t\t\t\t\t\t\t\t.chunks.filter(c => c !== chunk)\n\t\t\t\t\t\t\t\t\t.map(c => c.id)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn Template.asString([\n\t\t\t\t\t\t\t\"// add entry module to deferred list\",\n\t\t\t\t\t\t\t`deferredModules.push(${entries\n\t\t\t\t\t\t\t\t.map(e => JSON.stringify(e))\n\t\t\t\t\t\t\t\t.join(\", \")});`,\n\t\t\t\t\t\t\t\"// run deferred modules when ready\",\n\t\t\t\t\t\t\t\"return checkDeferredModules();\"\n\t\t\t\t\t\t]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Template.asString([\n\t\t\t\t\t\t\t\"// run deferred modules from other chunks\",\n\t\t\t\t\t\t\t\"checkDeferredModules();\"\n\t\t\t\t\t\t]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn source;\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.hotBootstrap.tap(\n\t\t\t\"JsonpMainTemplatePlugin\",\n\t\t\t(source, chunk, hash) => {\n\t\t\t\tconst globalObject = mainTemplate.outputOptions.globalObject;\n\t\t\t\tconst hotUpdateChunkFilename =\n\t\t\t\t\tmainTemplate.outputOptions.hotUpdateChunkFilename;\n\t\t\t\tconst hotUpdateMainFilename =\n\t\t\t\t\tmainTemplate.outputOptions.hotUpdateMainFilename;\n\t\t\t\tconst crossOriginLoading =\n\t\t\t\t\tmainTemplate.outputOptions.crossOriginLoading;\n\t\t\t\tconst hotUpdateFunction = mainTemplate.outputOptions.hotUpdateFunction;\n\t\t\t\tconst currentHotUpdateChunkFilename = mainTemplate.getAssetPath(\n\t\t\t\t\tJSON.stringify(hotUpdateChunkFilename),\n\t\t\t\t\t{\n\t\t\t\t\t\thash: `\" + ${mainTemplate.renderCurrentHashCode(hash)} + \"`,\n\t\t\t\t\t\thashWithLength: length =>\n\t\t\t\t\t\t\t`\" + ${mainTemplate.renderCurrentHashCode(hash, length)} + \"`,\n\t\t\t\t\t\tchunk: {\n\t\t\t\t\t\t\tid: '\" + chunkId + \"'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tconst currentHotUpdateMainFilename = mainTemplate.getAssetPath(\n\t\t\t\t\tJSON.stringify(hotUpdateMainFilename),\n\t\t\t\t\t{\n\t\t\t\t\t\thash: `\" + ${mainTemplate.renderCurrentHashCode(hash)} + \"`,\n\t\t\t\t\t\thashWithLength: length =>\n\t\t\t\t\t\t\t`\" + ${mainTemplate.renderCurrentHashCode(hash, length)} + \"`\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tconst runtimeSource = Template.getFunctionContent(\n\t\t\t\t\trequire(\"./JsonpMainTemplate.runtime\")\n\t\t\t\t)\n\t\t\t\t\t.replace(/\\/\\/\\$semicolon/g, \";\")\n\t\t\t\t\t.replace(/\\$require\\$/g, mainTemplate.requireFn)\n\t\t\t\t\t.replace(\n\t\t\t\t\t\t/\\$crossOriginLoading\\$/g,\n\t\t\t\t\t\tcrossOriginLoading ? JSON.stringify(crossOriginLoading) : \"null\"\n\t\t\t\t\t)\n\t\t\t\t\t.replace(/\\$hotMainFilename\\$/g, currentHotUpdateMainFilename)\n\t\t\t\t\t.replace(/\\$hotChunkFilename\\$/g, currentHotUpdateChunkFilename)\n\t\t\t\t\t.replace(/\\$hash\\$/g, JSON.stringify(hash));\n\t\t\t\treturn `${source}\nfunction hotDisposeChunk(chunkId) {\n\tdelete installedChunks[chunkId];\n}\nvar parentHotUpdateCallback = ${globalObject}[${JSON.stringify(\n\t\t\t\t\thotUpdateFunction\n\t\t\t\t)}];\n${globalObject}[${JSON.stringify(hotUpdateFunction)}] = ${runtimeSource}`;\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.hash.tap(\"JsonpMainTemplatePlugin\", hash => {\n\t\t\thash.update(\"jsonp\");\n\t\t\thash.update(\"6\");\n\t\t});\n\t}\n}\nmodule.exports = JsonpMainTemplatePlugin;\n"]},"metadata":{},"sourceType":"script"}