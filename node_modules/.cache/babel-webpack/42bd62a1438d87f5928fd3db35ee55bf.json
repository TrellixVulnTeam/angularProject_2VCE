{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertPatternGroupToTask = exports.convertPatternGroupsToTasks = exports.groupPatternsByBaseDirectory = exports.getNegativePatternsAsPositive = exports.getPositivePatterns = exports.convertPatternsToTasks = exports.generate = void 0;\n\nvar utils = require(\"../utils\");\n\nfunction generate(patterns, settings) {\n  var positivePatterns = getPositivePatterns(patterns);\n  var negativePatterns = getNegativePatternsAsPositive(patterns, settings.ignore);\n  var staticPatterns = positivePatterns.filter(function (pattern) {\n    return utils.pattern.isStaticPattern(pattern, settings);\n  });\n  var dynamicPatterns = positivePatterns.filter(function (pattern) {\n    return utils.pattern.isDynamicPattern(pattern, settings);\n  });\n  var staticTasks = convertPatternsToTasks(staticPatterns, negativePatterns,\n  /* dynamic */\n  false);\n  var dynamicTasks = convertPatternsToTasks(dynamicPatterns, negativePatterns,\n  /* dynamic */\n  true);\n  return staticTasks.concat(dynamicTasks);\n}\n\nexports.generate = generate;\n/**\r\n * Returns tasks grouped by basic pattern directories.\r\n *\r\n * Patterns that can be found inside (`./`) and outside (`../`) the current directory are handled separately.\r\n * This is necessary because directory traversal starts at the base directory and goes deeper.\r\n */\n\nfunction convertPatternsToTasks(positive, negative, dynamic) {\n  var tasks = [];\n  var patternsOutsideCurrentDirectory = utils.pattern.getPatternsOutsideCurrentDirectory(positive);\n  var patternsInsideCurrentDirectory = utils.pattern.getPatternsInsideCurrentDirectory(positive);\n  var outsideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsOutsideCurrentDirectory);\n  var insideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsInsideCurrentDirectory);\n  tasks.push.apply(tasks, _toConsumableArray(convertPatternGroupsToTasks(outsideCurrentDirectoryGroup, [], dynamic)));\n  /*\r\n   * For the sake of reducing future accesses to the file system, we merge all tasks within the current directory\r\n   * into a global task, if at least one pattern refers to the root (`.`). In this case, the global task covers the rest.\r\n   */\n\n  if ('.' in insideCurrentDirectoryGroup) {\n    tasks.push(convertPatternGroupToTask('.', patternsInsideCurrentDirectory, negative, dynamic));\n  } else {\n    tasks.push.apply(tasks, _toConsumableArray(convertPatternGroupsToTasks(insideCurrentDirectoryGroup, negative, dynamic)));\n  }\n\n  return tasks;\n}\n\nexports.convertPatternsToTasks = convertPatternsToTasks;\n\nfunction getPositivePatterns(patterns) {\n  return utils.pattern.getPositivePatterns(patterns);\n}\n\nexports.getPositivePatterns = getPositivePatterns;\n\nfunction getNegativePatternsAsPositive(patterns, ignore) {\n  var negative = utils.pattern.getNegativePatterns(patterns).concat(ignore);\n  var positive = negative.map(utils.pattern.convertToPositivePattern);\n  return positive;\n}\n\nexports.getNegativePatternsAsPositive = getNegativePatternsAsPositive;\n\nfunction groupPatternsByBaseDirectory(patterns) {\n  var group = {};\n  return patterns.reduce(function (collection, pattern) {\n    var base = utils.pattern.getBaseDirectory(pattern);\n\n    if (base in collection) {\n      collection[base].push(pattern);\n    } else {\n      collection[base] = [pattern];\n    }\n\n    return collection;\n  }, group);\n}\n\nexports.groupPatternsByBaseDirectory = groupPatternsByBaseDirectory;\n\nfunction convertPatternGroupsToTasks(positive, negative, dynamic) {\n  return Object.keys(positive).map(function (base) {\n    return convertPatternGroupToTask(base, positive[base], negative, dynamic);\n  });\n}\n\nexports.convertPatternGroupsToTasks = convertPatternGroupsToTasks;\n\nfunction convertPatternGroupToTask(base, positive, negative, dynamic) {\n  return {\n    dynamic: dynamic,\n    positive: positive,\n    negative: negative,\n    base: base,\n    patterns: [].concat(positive, negative.map(utils.pattern.convertToNegativePattern))\n  };\n}\n\nexports.convertPatternGroupToTask = convertPatternGroupToTask;","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/fast-glob/out/managers/tasks.js"],"names":["Object","defineProperty","exports","value","convertPatternGroupToTask","convertPatternGroupsToTasks","groupPatternsByBaseDirectory","getNegativePatternsAsPositive","getPositivePatterns","convertPatternsToTasks","generate","utils","require","patterns","settings","positivePatterns","negativePatterns","ignore","staticPatterns","filter","pattern","isStaticPattern","dynamicPatterns","isDynamicPattern","staticTasks","dynamicTasks","concat","positive","negative","dynamic","tasks","patternsOutsideCurrentDirectory","getPatternsOutsideCurrentDirectory","patternsInsideCurrentDirectory","getPatternsInsideCurrentDirectory","outsideCurrentDirectoryGroup","insideCurrentDirectoryGroup","push","getNegativePatterns","map","convertToPositivePattern","group","reduce","collection","base","getBaseDirectory","keys","convertToNegativePattern"],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.convertPatternGroupToTask = exports.convertPatternGroupsToTasks = exports.groupPatternsByBaseDirectory = exports.getNegativePatternsAsPositive = exports.getPositivePatterns = exports.convertPatternsToTasks = exports.generate = void 0;\r\nconst utils = require(\"../utils\");\r\nfunction generate(patterns, settings) {\r\n    const positivePatterns = getPositivePatterns(patterns);\r\n    const negativePatterns = getNegativePatternsAsPositive(patterns, settings.ignore);\r\n    const staticPatterns = positivePatterns.filter((pattern) => utils.pattern.isStaticPattern(pattern, settings));\r\n    const dynamicPatterns = positivePatterns.filter((pattern) => utils.pattern.isDynamicPattern(pattern, settings));\r\n    const staticTasks = convertPatternsToTasks(staticPatterns, negativePatterns, /* dynamic */ false);\r\n    const dynamicTasks = convertPatternsToTasks(dynamicPatterns, negativePatterns, /* dynamic */ true);\r\n    return staticTasks.concat(dynamicTasks);\r\n}\r\nexports.generate = generate;\r\n/**\r\n * Returns tasks grouped by basic pattern directories.\r\n *\r\n * Patterns that can be found inside (`./`) and outside (`../`) the current directory are handled separately.\r\n * This is necessary because directory traversal starts at the base directory and goes deeper.\r\n */\r\nfunction convertPatternsToTasks(positive, negative, dynamic) {\r\n    const tasks = [];\r\n    const patternsOutsideCurrentDirectory = utils.pattern.getPatternsOutsideCurrentDirectory(positive);\r\n    const patternsInsideCurrentDirectory = utils.pattern.getPatternsInsideCurrentDirectory(positive);\r\n    const outsideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsOutsideCurrentDirectory);\r\n    const insideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsInsideCurrentDirectory);\r\n    tasks.push(...convertPatternGroupsToTasks(outsideCurrentDirectoryGroup, [], dynamic));\r\n    /*\r\n     * For the sake of reducing future accesses to the file system, we merge all tasks within the current directory\r\n     * into a global task, if at least one pattern refers to the root (`.`). In this case, the global task covers the rest.\r\n     */\r\n    if ('.' in insideCurrentDirectoryGroup) {\r\n        tasks.push(convertPatternGroupToTask('.', patternsInsideCurrentDirectory, negative, dynamic));\r\n    }\r\n    else {\r\n        tasks.push(...convertPatternGroupsToTasks(insideCurrentDirectoryGroup, negative, dynamic));\r\n    }\r\n    return tasks;\r\n}\r\nexports.convertPatternsToTasks = convertPatternsToTasks;\r\nfunction getPositivePatterns(patterns) {\r\n    return utils.pattern.getPositivePatterns(patterns);\r\n}\r\nexports.getPositivePatterns = getPositivePatterns;\r\nfunction getNegativePatternsAsPositive(patterns, ignore) {\r\n    const negative = utils.pattern.getNegativePatterns(patterns).concat(ignore);\r\n    const positive = negative.map(utils.pattern.convertToPositivePattern);\r\n    return positive;\r\n}\r\nexports.getNegativePatternsAsPositive = getNegativePatternsAsPositive;\r\nfunction groupPatternsByBaseDirectory(patterns) {\r\n    const group = {};\r\n    return patterns.reduce((collection, pattern) => {\r\n        const base = utils.pattern.getBaseDirectory(pattern);\r\n        if (base in collection) {\r\n            collection[base].push(pattern);\r\n        }\r\n        else {\r\n            collection[base] = [pattern];\r\n        }\r\n        return collection;\r\n    }, group);\r\n}\r\nexports.groupPatternsByBaseDirectory = groupPatternsByBaseDirectory;\r\nfunction convertPatternGroupsToTasks(positive, negative, dynamic) {\r\n    return Object.keys(positive).map((base) => {\r\n        return convertPatternGroupToTask(base, positive[base], negative, dynamic);\r\n    });\r\n}\r\nexports.convertPatternGroupsToTasks = convertPatternGroupsToTasks;\r\nfunction convertPatternGroupToTask(base, positive, negative, dynamic) {\r\n    return {\r\n        dynamic,\r\n        positive,\r\n        negative,\r\n        base,\r\n        patterns: [].concat(positive, negative.map(utils.pattern.convertToNegativePattern))\r\n    };\r\n}\r\nexports.convertPatternGroupToTask = convertPatternGroupToTask;\r\n"]},"metadata":{},"sourceType":"script"}