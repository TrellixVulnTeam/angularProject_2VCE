{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nvar _slicedToArray = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _classCallCheck = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BuildBrowserFeatures = void 0;\n\nvar browserslist = require(\"browserslist\");\n\nvar caniuse_lite_1 = require(\"caniuse-lite\");\n\nvar ts = require(\"typescript\");\n\nvar BuildBrowserFeatures = /*#__PURE__*/function () {\n  function BuildBrowserFeatures(projectRoot) {\n    _classCallCheck(this, BuildBrowserFeatures);\n\n    this.projectRoot = projectRoot;\n    this.supportedBrowsers = browserslist(undefined, {\n      path: this.projectRoot\n    });\n  }\n  /**\n   * True, when one or more browsers requires ES5\n   * support and the scirpt target is ES2015 or greater.\n   */\n\n\n  _createClass(BuildBrowserFeatures, [{\n    key: \"isDifferentialLoadingNeeded\",\n    value: function isDifferentialLoadingNeeded(scriptTarget) {\n      var es6TargetOrLater = scriptTarget > ts.ScriptTarget.ES5;\n      return es6TargetOrLater && this.isEs5SupportNeeded();\n    }\n    /**\n     * True, when one or more browsers requires ES5 support\n     */\n\n  }, {\n    key: \"isEs5SupportNeeded\",\n    value: function isEs5SupportNeeded() {\n      return !this.isFeatureSupported('es6-module');\n    }\n    /**\n     * True, when a browser feature is supported partially or fully.\n     */\n\n  }, {\n    key: \"isFeatureSupported\",\n    value: function isFeatureSupported(featureId) {\n      // y: feature is fully available\n      // n: feature is unavailable\n      // a: feature is partially supported\n      // x: feature is prefixed\n      var criteria = ['y', 'a'];\n      var data = caniuse_lite_1.feature(caniuse_lite_1.features[featureId]);\n      return !this.supportedBrowsers.some(function (browser) {\n        var _browser$split = browser.split(' '),\n            _browser$split2 = _slicedToArray(_browser$split, 2),\n            agentId = _browser$split2[0],\n            version = _browser$split2[1];\n\n        var browserData = data.stats[agentId];\n        var featureStatus = browserData && browserData[version]; // We are only interested in the first character\n        // Ex: when 'a #4 #5', we only need to check for 'a'\n        // as for such cases we should polyfill these features as needed\n\n        return !featureStatus || !criteria.includes(featureStatus.charAt(0));\n      });\n    }\n  }]);\n\n  return BuildBrowserFeatures;\n}();\n\nexports.BuildBrowserFeatures = BuildBrowserFeatures;","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@angular-devkit/build-angular/src/utils/build-browser-features.js"],"names":["Object","defineProperty","exports","value","BuildBrowserFeatures","browserslist","require","caniuse_lite_1","ts","projectRoot","supportedBrowsers","undefined","path","scriptTarget","es6TargetOrLater","ScriptTarget","ES5","isEs5SupportNeeded","isFeatureSupported","featureId","criteria","data","feature","features","some","browser","split","agentId","version","browserData","stats","featureStatus","includes","charAt"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,oBAAR,GAA+B,KAAK,CAApC;;AACA,IAAMC,YAAY,GAAGC,OAAO,CAAC,cAAD,CAA5B;;AACA,IAAMC,cAAc,GAAGD,OAAO,CAAC,cAAD,CAA9B;;AACA,IAAME,EAAE,GAAGF,OAAO,CAAC,YAAD,CAAlB;;IACMF,oB;AACF,gCAAYK,WAAZ,EAAyB;AAAA;;AACrB,SAAKA,WAAL,GAAmBA,WAAnB;AACA,SAAKC,iBAAL,GAAyBL,YAAY,CAACM,SAAD,EAAY;AAAEC,MAAAA,IAAI,EAAE,KAAKH;AAAb,KAAZ,CAArC;AACH;AACD;AACJ;AACA;AACA;;;;;WACI,qCAA4BI,YAA5B,EAA0C;AACtC,UAAMC,gBAAgB,GAAGD,YAAY,GAAGL,EAAE,CAACO,YAAH,CAAgBC,GAAxD;AACA,aAAOF,gBAAgB,IAAI,KAAKG,kBAAL,EAA3B;AACH;AACD;AACJ;AACA;;;;WACI,8BAAqB;AACjB,aAAO,CAAC,KAAKC,kBAAL,CAAwB,YAAxB,CAAR;AACH;AACD;AACJ;AACA;;;;WACI,4BAAmBC,SAAnB,EAA8B;AAC1B;AACA;AACA;AACA;AACA,UAAMC,QAAQ,GAAG,CACb,GADa,EAEb,GAFa,CAAjB;AAIA,UAAMC,IAAI,GAAGd,cAAc,CAACe,OAAf,CAAuBf,cAAc,CAACgB,QAAf,CAAwBJ,SAAxB,CAAvB,CAAb;AACA,aAAO,CAAC,KAAKT,iBAAL,CACHc,IADG,CACE,UAAAC,OAAO,EAAI;AACjB,6BAA2BA,OAAO,CAACC,KAAR,CAAc,GAAd,CAA3B;AAAA;AAAA,YAAOC,OAAP;AAAA,YAAgBC,OAAhB;;AACA,YAAMC,WAAW,GAAGR,IAAI,CAACS,KAAL,CAAWH,OAAX,CAApB;AACA,YAAMI,aAAa,GAAIF,WAAW,IAAIA,WAAW,CAACD,OAAD,CAAjD,CAHiB,CAIjB;AACA;AACA;;AACA,eAAO,CAACG,aAAD,IAAkB,CAACX,QAAQ,CAACY,QAAT,CAAkBD,aAAa,CAACE,MAAd,CAAqB,CAArB,CAAlB,CAA1B;AACH,OATO,CAAR;AAUH;;;;;;AAEL/B,OAAO,CAACE,oBAAR,GAA+BA,oBAA/B","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BuildBrowserFeatures = void 0;\nconst browserslist = require(\"browserslist\");\nconst caniuse_lite_1 = require(\"caniuse-lite\");\nconst ts = require(\"typescript\");\nclass BuildBrowserFeatures {\n    constructor(projectRoot) {\n        this.projectRoot = projectRoot;\n        this.supportedBrowsers = browserslist(undefined, { path: this.projectRoot });\n    }\n    /**\n     * True, when one or more browsers requires ES5\n     * support and the scirpt target is ES2015 or greater.\n     */\n    isDifferentialLoadingNeeded(scriptTarget) {\n        const es6TargetOrLater = scriptTarget > ts.ScriptTarget.ES5;\n        return es6TargetOrLater && this.isEs5SupportNeeded();\n    }\n    /**\n     * True, when one or more browsers requires ES5 support\n     */\n    isEs5SupportNeeded() {\n        return !this.isFeatureSupported('es6-module');\n    }\n    /**\n     * True, when a browser feature is supported partially or fully.\n     */\n    isFeatureSupported(featureId) {\n        // y: feature is fully available\n        // n: feature is unavailable\n        // a: feature is partially supported\n        // x: feature is prefixed\n        const criteria = [\n            'y',\n            'a',\n        ];\n        const data = caniuse_lite_1.feature(caniuse_lite_1.features[featureId]);\n        return !this.supportedBrowsers\n            .some(browser => {\n            const [agentId, version] = browser.split(' ');\n            const browserData = data.stats[agentId];\n            const featureStatus = (browserData && browserData[version]);\n            // We are only interested in the first character\n            // Ex: when 'a #4 #5', we only need to check for 'a'\n            // as for such cases we should polyfill these features as needed\n            return !featureStatus || !criteria.includes(featureStatus.charAt(0));\n        });\n    }\n}\nexports.BuildBrowserFeatures = BuildBrowserFeatures;\n"]},"metadata":{},"sourceType":"script"}