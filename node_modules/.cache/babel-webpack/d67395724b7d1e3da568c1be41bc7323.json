{"ast":null,"code":"/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n(function (factory) {\n  if (typeof module === \"object\" && typeof module.exports === \"object\") {\n    var v = factory(require, exports);\n    if (v !== undefined) module.exports = v;\n  } else if (typeof define === \"function\" && define.amd) {\n    define(\"@angular/compiler/src/ml_parser/html_tags\", [\"require\", \"exports\", \"@angular/compiler/src/ml_parser/tags\"], factory);\n  }\n})(function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getHtmlTagDefinition = exports.HtmlTagDefinition = void 0;\n\n  var tags_1 = require(\"@angular/compiler/src/ml_parser/tags\");\n\n  var HtmlTagDefinition =\n  /** @class */\n  function () {\n    function HtmlTagDefinition(_a) {\n      var _this = this;\n\n      var _b = _a === void 0 ? {} : _a,\n          closedByChildren = _b.closedByChildren,\n          implicitNamespacePrefix = _b.implicitNamespacePrefix,\n          _c = _b.contentType,\n          contentType = _c === void 0 ? tags_1.TagContentType.PARSABLE_DATA : _c,\n          _d = _b.closedByParent,\n          closedByParent = _d === void 0 ? false : _d,\n          _e = _b.isVoid,\n          isVoid = _e === void 0 ? false : _e,\n          _f = _b.ignoreFirstLf,\n          ignoreFirstLf = _f === void 0 ? false : _f,\n          _g = _b.preventNamespaceInheritance,\n          preventNamespaceInheritance = _g === void 0 ? false : _g;\n\n      this.closedByChildren = {};\n      this.closedByParent = false;\n      this.canSelfClose = false;\n\n      if (closedByChildren && closedByChildren.length > 0) {\n        closedByChildren.forEach(function (tagName) {\n          return _this.closedByChildren[tagName] = true;\n        });\n      }\n\n      this.isVoid = isVoid;\n      this.closedByParent = closedByParent || isVoid;\n      this.implicitNamespacePrefix = implicitNamespacePrefix || null;\n      this.contentType = contentType;\n      this.ignoreFirstLf = ignoreFirstLf;\n      this.preventNamespaceInheritance = preventNamespaceInheritance;\n    }\n\n    HtmlTagDefinition.prototype.isClosedByChild = function (name) {\n      return this.isVoid || name.toLowerCase() in this.closedByChildren;\n    };\n\n    HtmlTagDefinition.prototype.getContentType = function (prefix) {\n      if (typeof this.contentType === 'object') {\n        var overrideType = prefix == null ? undefined : this.contentType[prefix];\n        return overrideType !== null && overrideType !== void 0 ? overrideType : this.contentType.default;\n      }\n\n      return this.contentType;\n    };\n\n    return HtmlTagDefinition;\n  }();\n\n  exports.HtmlTagDefinition = HtmlTagDefinition;\n\n  var _DEFAULT_TAG_DEFINITION; // see https://www.w3.org/TR/html51/syntax.html#optional-tags\n  // This implementation does not fully conform to the HTML5 spec.\n\n\n  var TAG_DEFINITIONS;\n\n  function getHtmlTagDefinition(tagName) {\n    var _a, _b;\n\n    if (!TAG_DEFINITIONS) {\n      _DEFAULT_TAG_DEFINITION = new HtmlTagDefinition();\n      TAG_DEFINITIONS = {\n        'base': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'meta': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'area': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'embed': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'link': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'img': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'input': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'param': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'hr': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'br': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'source': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'track': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'wbr': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'p': new HtmlTagDefinition({\n          closedByChildren: ['address', 'article', 'aside', 'blockquote', 'div', 'dl', 'fieldset', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr', 'main', 'nav', 'ol', 'p', 'pre', 'section', 'table', 'ul'],\n          closedByParent: true\n        }),\n        'thead': new HtmlTagDefinition({\n          closedByChildren: ['tbody', 'tfoot']\n        }),\n        'tbody': new HtmlTagDefinition({\n          closedByChildren: ['tbody', 'tfoot'],\n          closedByParent: true\n        }),\n        'tfoot': new HtmlTagDefinition({\n          closedByChildren: ['tbody'],\n          closedByParent: true\n        }),\n        'tr': new HtmlTagDefinition({\n          closedByChildren: ['tr'],\n          closedByParent: true\n        }),\n        'td': new HtmlTagDefinition({\n          closedByChildren: ['td', 'th'],\n          closedByParent: true\n        }),\n        'th': new HtmlTagDefinition({\n          closedByChildren: ['td', 'th'],\n          closedByParent: true\n        }),\n        'col': new HtmlTagDefinition({\n          isVoid: true\n        }),\n        'svg': new HtmlTagDefinition({\n          implicitNamespacePrefix: 'svg'\n        }),\n        'foreignObject': new HtmlTagDefinition({\n          // Usually the implicit namespace here would be redundant since it will be inherited from\n          // the parent `svg`, but we have to do it for `foreignObject`, because the way the parser\n          // works is that the parent node of an end tag is its own start tag which means that\n          // the `preventNamespaceInheritance` on `foreignObject` would have it default to the\n          // implicit namespace which is `html`, unless specified otherwise.\n          implicitNamespacePrefix: 'svg',\n          // We want to prevent children of foreignObject from inheriting its namespace, because\n          // the point of the element is to allow nodes from other namespaces to be inserted.\n          preventNamespaceInheritance: true\n        }),\n        'math': new HtmlTagDefinition({\n          implicitNamespacePrefix: 'math'\n        }),\n        'li': new HtmlTagDefinition({\n          closedByChildren: ['li'],\n          closedByParent: true\n        }),\n        'dt': new HtmlTagDefinition({\n          closedByChildren: ['dt', 'dd']\n        }),\n        'dd': new HtmlTagDefinition({\n          closedByChildren: ['dt', 'dd'],\n          closedByParent: true\n        }),\n        'rb': new HtmlTagDefinition({\n          closedByChildren: ['rb', 'rt', 'rtc', 'rp'],\n          closedByParent: true\n        }),\n        'rt': new HtmlTagDefinition({\n          closedByChildren: ['rb', 'rt', 'rtc', 'rp'],\n          closedByParent: true\n        }),\n        'rtc': new HtmlTagDefinition({\n          closedByChildren: ['rb', 'rtc', 'rp'],\n          closedByParent: true\n        }),\n        'rp': new HtmlTagDefinition({\n          closedByChildren: ['rb', 'rt', 'rtc', 'rp'],\n          closedByParent: true\n        }),\n        'optgroup': new HtmlTagDefinition({\n          closedByChildren: ['optgroup'],\n          closedByParent: true\n        }),\n        'option': new HtmlTagDefinition({\n          closedByChildren: ['option', 'optgroup'],\n          closedByParent: true\n        }),\n        'pre': new HtmlTagDefinition({\n          ignoreFirstLf: true\n        }),\n        'listing': new HtmlTagDefinition({\n          ignoreFirstLf: true\n        }),\n        'style': new HtmlTagDefinition({\n          contentType: tags_1.TagContentType.RAW_TEXT\n        }),\n        'script': new HtmlTagDefinition({\n          contentType: tags_1.TagContentType.RAW_TEXT\n        }),\n        'title': new HtmlTagDefinition({\n          // The browser supports two separate `title` tags which have to use\n          // a different content type: `HTMLTitleElement` and `SVGTitleElement`\n          contentType: {\n            default: tags_1.TagContentType.ESCAPABLE_RAW_TEXT,\n            svg: tags_1.TagContentType.PARSABLE_DATA\n          }\n        }),\n        'textarea': new HtmlTagDefinition({\n          contentType: tags_1.TagContentType.ESCAPABLE_RAW_TEXT,\n          ignoreFirstLf: true\n        })\n      };\n    } // We have to make both a case-sensitive and a case-insesitive lookup, because\n    // HTML tag names are case insensitive, whereas some SVG tags are case sensitive.\n\n\n    return (_b = (_a = TAG_DEFINITIONS[tagName]) !== null && _a !== void 0 ? _a : TAG_DEFINITIONS[tagName.toLowerCase()]) !== null && _b !== void 0 ? _b : _DEFAULT_TAG_DEFINITION;\n  }\n\n  exports.getHtmlTagDefinition = getHtmlTagDefinition;\n});","map":{"version":3,"sources":["../../../../../../../packages/compiler/src/ml_parser/html_tags.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {TagContentType, TagDefinition} from './tags';\n\nexport class HtmlTagDefinition implements TagDefinition {\n  private closedByChildren: {[key: string]: boolean} = {};\n  private contentType: TagContentType|\n      {default: TagContentType, [namespace: string]: TagContentType};\n\n  closedByParent: boolean = false;\n  implicitNamespacePrefix: string|null;\n  isVoid: boolean;\n  ignoreFirstLf: boolean;\n  canSelfClose: boolean = false;\n  preventNamespaceInheritance: boolean;\n\n  constructor({\n    closedByChildren,\n    implicitNamespacePrefix,\n    contentType = TagContentType.PARSABLE_DATA,\n    closedByParent = false,\n    isVoid = false,\n    ignoreFirstLf = false,\n    preventNamespaceInheritance = false\n  }: {\n    closedByChildren?: string[],\n    closedByParent?: boolean,\n    implicitNamespacePrefix?: string,\n    contentType?: TagContentType|{default: TagContentType, [namespace: string]: TagContentType},\n    isVoid?: boolean,\n    ignoreFirstLf?: boolean,\n    preventNamespaceInheritance?: boolean\n  } = {}) {\n    if (closedByChildren && closedByChildren.length > 0) {\n      closedByChildren.forEach(tagName => this.closedByChildren[tagName] = true);\n    }\n    this.isVoid = isVoid;\n    this.closedByParent = closedByParent || isVoid;\n    this.implicitNamespacePrefix = implicitNamespacePrefix || null;\n    this.contentType = contentType;\n    this.ignoreFirstLf = ignoreFirstLf;\n    this.preventNamespaceInheritance = preventNamespaceInheritance;\n  }\n\n  isClosedByChild(name: string): boolean {\n    return this.isVoid || name.toLowerCase() in this.closedByChildren;\n  }\n\n  getContentType(prefix?: string): TagContentType {\n    if (typeof this.contentType === 'object') {\n      const overrideType = prefix == null ? undefined : this.contentType[prefix];\n      return overrideType ?? this.contentType.default;\n    }\n    return this.contentType;\n  }\n}\n\nlet _DEFAULT_TAG_DEFINITION!: HtmlTagDefinition;\n\n// see https://www.w3.org/TR/html51/syntax.html#optional-tags\n// This implementation does not fully conform to the HTML5 spec.\nlet TAG_DEFINITIONS!: {[key: string]: HtmlTagDefinition};\n\nexport function getHtmlTagDefinition(tagName: string): HtmlTagDefinition {\n  if (!TAG_DEFINITIONS) {\n    _DEFAULT_TAG_DEFINITION = new HtmlTagDefinition();\n    TAG_DEFINITIONS = {\n      'base': new HtmlTagDefinition({isVoid: true}),\n      'meta': new HtmlTagDefinition({isVoid: true}),\n      'area': new HtmlTagDefinition({isVoid: true}),\n      'embed': new HtmlTagDefinition({isVoid: true}),\n      'link': new HtmlTagDefinition({isVoid: true}),\n      'img': new HtmlTagDefinition({isVoid: true}),\n      'input': new HtmlTagDefinition({isVoid: true}),\n      'param': new HtmlTagDefinition({isVoid: true}),\n      'hr': new HtmlTagDefinition({isVoid: true}),\n      'br': new HtmlTagDefinition({isVoid: true}),\n      'source': new HtmlTagDefinition({isVoid: true}),\n      'track': new HtmlTagDefinition({isVoid: true}),\n      'wbr': new HtmlTagDefinition({isVoid: true}),\n      'p': new HtmlTagDefinition({\n        closedByChildren: [\n          'address', 'article', 'aside',   'blockquote', 'div',  'dl',  'fieldset',\n          'footer',  'form',    'h1',      'h2',         'h3',   'h4',  'h5',\n          'h6',      'header',  'hgroup',  'hr',         'main', 'nav', 'ol',\n          'p',       'pre',     'section', 'table',      'ul'\n        ],\n        closedByParent: true\n      }),\n      'thead': new HtmlTagDefinition({closedByChildren: ['tbody', 'tfoot']}),\n      'tbody': new HtmlTagDefinition({closedByChildren: ['tbody', 'tfoot'], closedByParent: true}),\n      'tfoot': new HtmlTagDefinition({closedByChildren: ['tbody'], closedByParent: true}),\n      'tr': new HtmlTagDefinition({closedByChildren: ['tr'], closedByParent: true}),\n      'td': new HtmlTagDefinition({closedByChildren: ['td', 'th'], closedByParent: true}),\n      'th': new HtmlTagDefinition({closedByChildren: ['td', 'th'], closedByParent: true}),\n      'col': new HtmlTagDefinition({isVoid: true}),\n      'svg': new HtmlTagDefinition({implicitNamespacePrefix: 'svg'}),\n      'foreignObject': new HtmlTagDefinition({\n        // Usually the implicit namespace here would be redundant since it will be inherited from\n        // the parent `svg`, but we have to do it for `foreignObject`, because the way the parser\n        // works is that the parent node of an end tag is its own start tag which means that\n        // the `preventNamespaceInheritance` on `foreignObject` would have it default to the\n        // implicit namespace which is `html`, unless specified otherwise.\n        implicitNamespacePrefix: 'svg',\n        // We want to prevent children of foreignObject from inheriting its namespace, because\n        // the point of the element is to allow nodes from other namespaces to be inserted.\n        preventNamespaceInheritance: true,\n      }),\n      'math': new HtmlTagDefinition({implicitNamespacePrefix: 'math'}),\n      'li': new HtmlTagDefinition({closedByChildren: ['li'], closedByParent: true}),\n      'dt': new HtmlTagDefinition({closedByChildren: ['dt', 'dd']}),\n      'dd': new HtmlTagDefinition({closedByChildren: ['dt', 'dd'], closedByParent: true}),\n      'rb': new HtmlTagDefinition(\n          {closedByChildren: ['rb', 'rt', 'rtc', 'rp'], closedByParent: true}),\n      'rt': new HtmlTagDefinition(\n          {closedByChildren: ['rb', 'rt', 'rtc', 'rp'], closedByParent: true}),\n      'rtc': new HtmlTagDefinition({closedByChildren: ['rb', 'rtc', 'rp'], closedByParent: true}),\n      'rp': new HtmlTagDefinition(\n          {closedByChildren: ['rb', 'rt', 'rtc', 'rp'], closedByParent: true}),\n      'optgroup': new HtmlTagDefinition({closedByChildren: ['optgroup'], closedByParent: true}),\n      'option':\n          new HtmlTagDefinition({closedByChildren: ['option', 'optgroup'], closedByParent: true}),\n      'pre': new HtmlTagDefinition({ignoreFirstLf: true}),\n      'listing': new HtmlTagDefinition({ignoreFirstLf: true}),\n      'style': new HtmlTagDefinition({contentType: TagContentType.RAW_TEXT}),\n      'script': new HtmlTagDefinition({contentType: TagContentType.RAW_TEXT}),\n      'title': new HtmlTagDefinition({\n        // The browser supports two separate `title` tags which have to use\n        // a different content type: `HTMLTitleElement` and `SVGTitleElement`\n        contentType: {default: TagContentType.ESCAPABLE_RAW_TEXT, svg: TagContentType.PARSABLE_DATA}\n      }),\n      'textarea': new HtmlTagDefinition(\n          {contentType: TagContentType.ESCAPABLE_RAW_TEXT, ignoreFirstLf: true}),\n    };\n  }\n  // We have to make both a case-sensitive and a case-insesitive lookup, because\n  // HTML tag names are case insensitive, whereas some SVG tags are case sensitive.\n  return TAG_DEFINITIONS[tagName] ?? TAG_DEFINITIONS[tagName.toLowerCase()] ??\n      _DEFAULT_TAG_DEFINITION;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}