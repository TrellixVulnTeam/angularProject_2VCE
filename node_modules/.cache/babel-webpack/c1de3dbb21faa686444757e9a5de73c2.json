{"ast":null,"code":"\"use strict\";\n\nvar _get = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/get\");\n\nvar _getPrototypeOf = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _classCallCheck = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar _objectSpread = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/objectSpread2\");\n\nvar _regeneratorRuntime = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/regenerator\");\n\nvar _slicedToArray = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _createForOfIteratorHelper = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _toArray = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/toArray\");\n\nvar _asyncToGenerator = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _toConsumableArray = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getStylusOptions = getStylusOptions;\nexports.urlResolver = urlResolver;\nexports.createEvaluator = createEvaluator;\nexports.resolveFilename = resolveFilename;\nexports.readFile = readFile;\nexports.normalizeSourceMap = normalizeSourceMap;\n\nvar _url = require(\"url\");\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _stylus = require(\"stylus\");\n\nvar _depsResolver = _interopRequireDefault(require(\"stylus/lib/visitor/deps-resolver\"));\n\nvar _loaderUtils = require(\"loader-utils\");\n\nvar _full = require(\"klona/full\");\n\nvar _fastGlob = _interopRequireDefault(require(\"fast-glob\"));\n\nvar _normalizePath = _interopRequireDefault(require(\"normalize-path\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction isProductionLikeMode(loaderContext) {\n  return loaderContext.mode === \"production\" || !loaderContext.mode;\n}\n\nfunction getStylusOptions(loaderContext, loaderOptions) {\n  var stylusOptions = (0, _full.klona)(typeof loaderOptions.stylusOptions === \"function\" ? loaderOptions.stylusOptions(loaderContext) || {} : loaderOptions.stylusOptions || {});\n  stylusOptions.filename = loaderContext.resourcePath;\n  stylusOptions.dest = _path.default.dirname(loaderContext.resourcePath); // Keep track of imported files (used by Stylus CLI watch mode)\n  // eslint-disable-next-line no-underscore-dangle\n\n  stylusOptions._imports = []; // https://github.com/stylus/stylus/issues/2119\n\n  stylusOptions.resolveURL = typeof stylusOptions.resolveURL === \"boolean\" && !stylusOptions.resolveURL ? false : typeof stylusOptions.resolveURL === \"object\" ? stylusOptions.resolveURL : {\n    nocheck: true\n  };\n\n  if (!stylusOptions.compress && isProductionLikeMode(loaderContext)) {\n    stylusOptions.compress = true;\n  }\n\n  return stylusOptions;\n}\n\nfunction getPossibleRequests(loaderContext, filename) {\n  var request = (0, _loaderUtils.urlToRequest)(filename, // eslint-disable-next-line no-undefined\n  filename.charAt(0) === \"/\" ? loaderContext.rootContext : undefined);\n  return _toConsumableArray(new Set([request, filename]));\n}\n\nfunction resolveFilename(_x, _x2, _x3, _x4, _x5, _x6) {\n  return _resolveFilename.apply(this, arguments);\n}\n\nfunction _resolveFilename() {\n  _resolveFilename = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(loaderContext, fileResolver, globResolver, isGlob, context, filename) {\n    var possibleRequests, result, _fastGlob$default$gen, _fastGlob$default$gen2, globTask, possibleGlobRequests, globResult, patterns, paths;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            possibleRequests = getPossibleRequests(loaderContext, filename);\n            _context.prev = 1;\n            _context.next = 4;\n            return resolveRequests(context, possibleRequests, fileResolver);\n\n          case 4:\n            result = _context.sent;\n            _context.next = 30;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](1);\n\n            if (!isGlob) {\n              _context.next = 29;\n              break;\n            }\n\n            _fastGlob$default$gen = _fastGlob.default.generateTasks(filename), _fastGlob$default$gen2 = _slicedToArray(_fastGlob$default$gen, 1), globTask = _fastGlob$default$gen2[0];\n\n            if (!(globTask.base === \".\")) {\n              _context.next = 13;\n              break;\n            }\n\n            throw new Error('Glob resolving without a glob base (\"~**/*\") is not supported, please specify a glob base (\"~package/**/*\")');\n\n          case 13:\n            possibleGlobRequests = getPossibleRequests(loaderContext, globTask.base);\n            _context.prev = 14;\n            _context.next = 17;\n            return resolveRequests(context, possibleGlobRequests, globResolver);\n\n          case 17:\n            globResult = _context.sent;\n            _context.next = 23;\n            break;\n\n          case 20:\n            _context.prev = 20;\n            _context.t1 = _context[\"catch\"](14);\n            throw _context.t1;\n\n          case 23:\n            loaderContext.addContextDependency(globResult);\n            patterns = filename.replace(new RegExp(\"^\".concat(globTask.base)), (0, _normalizePath.default)(globResult));\n            _context.next = 27;\n            return (0, _fastGlob.default)(patterns, {\n              absolute: true,\n              cwd: globResult\n            });\n\n          case 27:\n            paths = _context.sent;\n            return _context.abrupt(\"return\", paths.sort().filter(function (file) {\n              return /\\.styl$/i.test(file);\n            }));\n\n          case 29:\n            throw _context.t0;\n\n          case 30:\n            return _context.abrupt(\"return\", result);\n\n          case 31:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 7], [14, 20]]);\n  }));\n  return _resolveFilename.apply(this, arguments);\n}\n\nfunction resolveRequests(context, possibleRequests, resolve) {\n  if (possibleRequests.length === 0) {\n    return Promise.reject();\n  }\n\n  return resolve(context, possibleRequests[0]).then(function (result) {\n    return result;\n  }).catch(function (error) {\n    var _possibleRequests = _toArray(possibleRequests),\n        tailPossibleRequests = _possibleRequests.slice(1);\n\n    if (tailPossibleRequests.length === 0) {\n      throw error;\n    }\n\n    return resolveRequests(context, tailPossibleRequests, resolve);\n  });\n}\n\nvar URL_RE = /^(?:url\\s*\\(\\s*)?['\"]?(?:[#/]|(?:https?:)?\\/\\/)/i;\n\nfunction getDependencies(_x7, _x8, _x9, _x10, _x11, _x12, _x13, _x14) {\n  return _getDependencies.apply(this, arguments);\n}\n\nfunction _getDependencies() {\n  _getDependencies = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(resolvedDependencies, loaderContext, fileResolver, globResolver, seen, code, filename, options) {\n    var newOptions, parser, ast, dependencies, ImportVisitor;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            seen.add(filename); // See https://github.com/stylus/stylus/issues/2108\n\n            newOptions = (0, _full.klona)(_objectSpread(_objectSpread({}, options), {}, {\n              filename: filename,\n              cache: false\n            }));\n            parser = new _stylus.Parser(code, newOptions);\n            _context4.prev = 3;\n            ast = parser.parse();\n            _context4.next = 11;\n            break;\n\n          case 7:\n            _context4.prev = 7;\n            _context4.t0 = _context4[\"catch\"](3);\n            loaderContext.emitError(_context4.t0);\n            return _context4.abrupt(\"return\");\n\n          case 11:\n            dependencies = [];\n\n            ImportVisitor = /*#__PURE__*/function (_depsResolver$default) {\n              _inherits(ImportVisitor, _depsResolver$default);\n\n              var _super = _createSuper(ImportVisitor);\n\n              function ImportVisitor() {\n                _classCallCheck(this, ImportVisitor);\n\n                return _super.apply(this, arguments);\n              }\n\n              _createClass(ImportVisitor, [{\n                key: \"visitImport\",\n                value: // eslint-disable-next-line class-methods-use-this\n                function visitImport(node) {\n                  var firstNode = node.path.first;\n\n                  if (firstNode.name === \"url\") {\n                    return;\n                  }\n\n                  if (!firstNode.val) {\n                    var evaluator = new _stylus.Evaluator(ast);\n                    firstNode = evaluator.visit.call(evaluator, firstNode).first;\n                  }\n\n                  var originalNodePath = !firstNode.val.isNull && firstNode.val || firstNode.name;\n                  var nodePath = originalNodePath;\n\n                  if (!nodePath) {\n                    return;\n                  }\n\n                  var found;\n                  var oldNodePath;\n                  var literal = /\\.css(?:\"|$)/.test(nodePath);\n\n                  if (!literal && !/\\.styl$/i.test(nodePath)) {\n                    oldNodePath = nodePath;\n                    nodePath += \".styl\";\n                  }\n\n                  var isGlob = _fastGlob.default.isDynamicPattern(nodePath);\n\n                  found = _stylus.utils.find(nodePath, this.paths, this.filename);\n\n                  if (found && isGlob) {\n                    var _fastGlob$default$gen3 = _fastGlob.default.generateTasks(nodePath),\n                        _fastGlob$default$gen4 = _slicedToArray(_fastGlob$default$gen3, 1),\n                        globTask = _fastGlob$default$gen4[0];\n\n                    var context = globTask.base === \".\" ? _path.default.dirname(this.filename) : _path.default.join(_path.default.dirname(this.filename), globTask.base);\n                    loaderContext.addContextDependency(context);\n                  }\n\n                  if (!found && oldNodePath) {\n                    found = _stylus.utils.lookupIndex(oldNodePath, this.paths, this.filename);\n                  }\n\n                  if (found) {\n                    dependencies.push({\n                      originalLineno: firstNode.lineno,\n                      originalColumn: firstNode.column,\n                      originalNodePath: originalNodePath,\n                      resolved: found.map(function (item) {\n                        return _path.default.isAbsolute(item) ? item : _path.default.join(process.cwd(), item);\n                      })\n                    });\n                    return;\n                  }\n\n                  dependencies.push({\n                    originalLineno: firstNode.lineno,\n                    originalColumn: firstNode.column,\n                    originalNodePath: originalNodePath,\n                    resolved: resolveFilename(loaderContext, fileResolver, globResolver, isGlob, _path.default.dirname(this.filename), originalNodePath)\n                  });\n                }\n              }]);\n\n              return ImportVisitor;\n            }(_depsResolver.default);\n\n            new ImportVisitor(ast, newOptions).visit(ast);\n            _context4.next = 16;\n            return Promise.all(Array.from(dependencies).map( /*#__PURE__*/function () {\n              var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(result) {\n                var resolved, isArray, dependenciesOfDependencies, _iterator2, _step2, _loop, _ret;\n\n                return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                  while (1) {\n                    switch (_context3.prev = _context3.next) {\n                      case 0:\n                        resolved = result.resolved;\n                        _context3.prev = 1;\n                        _context3.next = 4;\n                        return resolved;\n\n                      case 4:\n                        resolved = _context3.sent;\n                        _context3.next = 12;\n                        break;\n\n                      case 7:\n                        _context3.prev = 7;\n                        _context3.t0 = _context3[\"catch\"](1);\n                        // eslint-disable-next-line no-param-reassign\n                        delete result.resolved; // eslint-disable-next-line no-param-reassign\n\n                        // eslint-disable-next-line no-param-reassign\n                        result.error = _context3.t0;\n                        return _context3.abrupt(\"return\");\n\n                      case 12:\n                        isArray = Array.isArray(resolved); // `stylus` returns forward slashes on windows\n                        // eslint-disable-next-line no-param-reassign\n\n                        // `stylus` returns forward slashes on windows\n                        // eslint-disable-next-line no-param-reassign\n                        result.resolved = isArray ? resolved.map(function (item) {\n                          return _path.default.normalize(item);\n                        }) : _path.default.normalize(resolved);\n                        dependenciesOfDependencies = [];\n                        _iterator2 = _createForOfIteratorHelper(isArray ? result.resolved : [result.resolved]);\n                        _context3.prev = 16;\n\n                        _loop = function _loop() {\n                          var dependency = _step2.value;\n\n                          // Avoid loop, the file is imported by itself\n                          if (seen.has(dependency)) {\n                            return {\n                              v: void 0\n                            };\n                          } // Avoid search nested imports in .css\n\n\n                          // Avoid search nested imports in .css\n                          if (_path.default.extname(dependency) === \".css\") {\n                            return {\n                              v: void 0\n                            };\n                          }\n\n                          loaderContext.addDependency(dependency);\n                          dependenciesOfDependencies.push(_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n                            var dependencyCode;\n                            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                              while (1) {\n                                switch (_context2.prev = _context2.next) {\n                                  case 0:\n                                    _context2.prev = 0;\n                                    _context2.next = 3;\n                                    return readFile(loaderContext.fs, dependency);\n\n                                  case 3:\n                                    dependencyCode = _context2.sent.toString();\n                                    _context2.next = 9;\n                                    break;\n\n                                  case 6:\n                                    _context2.prev = 6;\n                                    _context2.t0 = _context2[\"catch\"](0);\n                                    loaderContext.emitError(_context2.t0);\n\n                                  case 9:\n                                    _context2.next = 11;\n                                    return getDependencies(resolvedDependencies, loaderContext, fileResolver, globResolver, seen, dependencyCode, dependency, options);\n\n                                  case 11:\n                                  case \"end\":\n                                    return _context2.stop();\n                                }\n                              }\n                            }, _callee2, null, [[0, 6]]);\n                          }))());\n                        };\n\n                        _iterator2.s();\n\n                      case 19:\n                        if ((_step2 = _iterator2.n()).done) {\n                          _context3.next = 25;\n                          break;\n                        }\n\n                        _ret = _loop();\n\n                        if (!(typeof _ret === \"object\")) {\n                          _context3.next = 23;\n                          break;\n                        }\n\n                        return _context3.abrupt(\"return\", _ret.v);\n\n                      case 23:\n                        _context3.next = 19;\n                        break;\n\n                      case 25:\n                        _context3.next = 30;\n                        break;\n\n                      case 27:\n                        _context3.prev = 27;\n                        _context3.t1 = _context3[\"catch\"](16);\n\n                        _iterator2.e(_context3.t1);\n\n                      case 30:\n                        _context3.prev = 30;\n\n                        _iterator2.f();\n\n                        return _context3.finish(30);\n\n                      case 33:\n                        _context3.next = 35;\n                        return Promise.all(dependenciesOfDependencies);\n\n                      case 35:\n                      case \"end\":\n                        return _context3.stop();\n                    }\n                  }\n                }, _callee3, null, [[1, 7], [16, 27, 30, 33]]);\n              }));\n\n              return function (_x18) {\n                return _ref.apply(this, arguments);\n              };\n            }()));\n\n          case 16:\n            if (dependencies.length > 0) {\n              resolvedDependencies.set(filename, dependencies);\n            }\n\n          case 17:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[3, 7]]);\n  }));\n  return _getDependencies.apply(this, arguments);\n}\n\nfunction mergeBlocks(blocks) {\n  var finalBlock;\n\n  var adding = function adding(item) {\n    finalBlock.push(item);\n  };\n\n  var _iterator = _createForOfIteratorHelper(blocks),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var block = _step.value;\n\n      if (finalBlock) {\n        block.nodes.forEach(adding);\n      } else {\n        finalBlock = block;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return finalBlock;\n}\n\nfunction createEvaluator(_x15, _x16, _x17) {\n  return _createEvaluator.apply(this, arguments);\n}\n\nfunction _createEvaluator() {\n  _createEvaluator = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(loaderContext, code, options) {\n    var fileResolve, globResolve, resolvedImportDependencies, resolvedDependencies, seen, optionsImports, _iterator3, _step3, importPath, isGlob;\n\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            fileResolve = loaderContext.getResolve({\n              conditionNames: [\"styl\", \"stylus\", \"style\"],\n              mainFields: [\"styl\", \"style\", \"stylus\", \"main\", \"...\"],\n              mainFiles: [\"index\", \"...\"],\n              extensions: [\".styl\", \".css\"],\n              restrictions: [/\\.(css|styl)$/i]\n            });\n            globResolve = loaderContext.getResolve({\n              conditionNames: [\"styl\", \"stylus\", \"style\"],\n              mainFields: [\"styl\", \"style\", \"stylus\", \"main\", \"...\"],\n              mainFiles: [\"index\", \"...\"],\n              resolveToContext: true\n            });\n            resolvedImportDependencies = new Map();\n            resolvedDependencies = new Map();\n            seen = new Set();\n            _context7.next = 7;\n            return getDependencies(resolvedDependencies, loaderContext, fileResolve, globResolve, seen, code, loaderContext.resourcePath, options);\n\n          case 7:\n            optionsImports = [];\n            _iterator3 = _createForOfIteratorHelper(options.imports);\n\n            try {\n              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                importPath = _step3.value;\n                isGlob = _fastGlob.default.isDynamicPattern(importPath);\n                optionsImports.push({\n                  importPath: importPath,\n                  resolved: resolveFilename(loaderContext, fileResolve, globResolve, isGlob, _path.default.dirname(loaderContext.resourcePath), importPath)\n                });\n              }\n            } catch (err) {\n              _iterator3.e(err);\n            } finally {\n              _iterator3.f();\n            }\n\n            _context7.next = 12;\n            return Promise.all(optionsImports.map( /*#__PURE__*/function () {\n              var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(result) {\n                var importPath, resolved, isArray, dependenciesOfImportDependencies, _iterator4, _step4, _loop2;\n\n                return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n                  while (1) {\n                    switch (_context6.prev = _context6.next) {\n                      case 0:\n                        importPath = result.importPath;\n                        resolved = result.resolved;\n                        _context6.prev = 2;\n                        _context6.next = 5;\n                        return resolved;\n\n                      case 5:\n                        resolved = _context6.sent;\n                        _context6.next = 11;\n                        break;\n\n                      case 8:\n                        _context6.prev = 8;\n                        _context6.t0 = _context6[\"catch\"](2);\n                        return _context6.abrupt(\"return\");\n\n                      case 11:\n                        isArray = Array.isArray(resolved); // `stylus` returns forward slashes on windows\n                        // eslint-disable-next-line no-param-reassign\n\n                        // `stylus` returns forward slashes on windows\n                        // eslint-disable-next-line no-param-reassign\n                        result.resolved = isArray ? resolved.map(function (item) {\n                          return _path.default.normalize(item);\n                        }) : _path.default.normalize(resolved);\n                        resolvedImportDependencies.set(importPath, result);\n                        dependenciesOfImportDependencies = [];\n                        _iterator4 = _createForOfIteratorHelper(isArray ? result.resolved : [result.resolved]);\n\n                        try {\n                          _loop2 = function _loop2() {\n                            var dependency = _step4.value;\n                            dependenciesOfImportDependencies.push(_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n                              var dependencyCode;\n                              return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n                                while (1) {\n                                  switch (_context5.prev = _context5.next) {\n                                    case 0:\n                                      _context5.prev = 0;\n                                      _context5.next = 3;\n                                      return readFile(loaderContext.fs, dependency);\n\n                                    case 3:\n                                      dependencyCode = _context5.sent.toString();\n                                      _context5.next = 9;\n                                      break;\n\n                                    case 6:\n                                      _context5.prev = 6;\n                                      _context5.t0 = _context5[\"catch\"](0);\n                                      loaderContext.emitError(_context5.t0);\n\n                                    case 9:\n                                      _context5.next = 11;\n                                      return getDependencies(resolvedDependencies, loaderContext, fileResolve, globResolve, seen, dependencyCode, dependency, options);\n\n                                    case 11:\n                                    case \"end\":\n                                      return _context5.stop();\n                                  }\n                                }\n                              }, _callee5, null, [[0, 6]]);\n                            }))());\n                          };\n\n                          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                            _loop2();\n                          }\n                        } catch (err) {\n                          _iterator4.e(err);\n                        } finally {\n                          _iterator4.f();\n                        }\n\n                        _context6.next = 19;\n                        return Promise.all(dependenciesOfImportDependencies);\n\n                      case 19:\n                      case \"end\":\n                        return _context6.stop();\n                    }\n                  }\n                }, _callee6, null, [[2, 8]]);\n              }));\n\n              return function (_x19) {\n                return _ref3.apply(this, arguments);\n              };\n            }()));\n\n          case 12:\n            return _context7.abrupt(\"return\", /*#__PURE__*/function (_stylus$Evaluator) {\n              _inherits(CustomEvaluator, _stylus$Evaluator);\n\n              var _super2 = _createSuper(CustomEvaluator);\n\n              function CustomEvaluator() {\n                _classCallCheck(this, CustomEvaluator);\n\n                return _super2.apply(this, arguments);\n              }\n\n              _createClass(CustomEvaluator, [{\n                key: \"visitImport\",\n                value: function visitImport(imported) {\n                  var _this = this;\n\n                  this.return += 1;\n                  var node = this.visit(imported.path).first;\n                  var nodePath = !node.val.isNull && node.val || node.name;\n                  this.return -= 1;\n                  var webpackResolveError;\n\n                  if (node.name !== \"url\" && nodePath && !URL_RE.test(nodePath)) {\n                    var dependency;\n                    var isEntrypoint = loaderContext.resourcePath === node.filename;\n\n                    if (isEntrypoint) {\n                      dependency = resolvedImportDependencies.get(nodePath);\n                    }\n\n                    if (!dependency) {\n                      var dependencies = resolvedDependencies.get(_path.default.normalize(node.filename));\n\n                      if (dependencies) {\n                        dependency = dependencies.find(function (item) {\n                          if (item.originalLineno === node.lineno && item.originalColumn === node.column && item.originalNodePath === nodePath) {\n                            if (item.error) {\n                              webpackResolveError = item.error;\n                            } else {\n                              return item.resolved;\n                            }\n                          }\n\n                          return false;\n                        });\n                      }\n                    }\n\n                    if (dependency) {\n                      var _dependency = dependency,\n                          resolved = _dependency.resolved;\n\n                      if (!Array.isArray(resolved)) {\n                        // Avoid re globbing when resolved import contains glob characters\n                        node.string = _fastGlob.default.escapePath(resolved);\n                      } else if (resolved.length > 0) {\n                        var hasError = false;\n                        var blocks = resolved.map(function (item) {\n                          var clonedImported = imported.clone();\n\n                          var clonedNode = _this.visit(clonedImported.path).first; // Avoid re globbing when resolved import contains glob characters\n\n\n                          // Avoid re globbing when resolved import contains glob characters\n                          clonedNode.string = _fastGlob.default.escapePath(item);\n                          var result;\n\n                          try {\n                            result = _get(_getPrototypeOf(CustomEvaluator.prototype), \"visitImport\", _this).call(_this, clonedImported);\n                          } catch (error) {\n                            hasError = true;\n                          }\n\n                          return result;\n                        });\n\n                        if (!hasError) {\n                          return mergeBlocks(blocks);\n                        }\n                      }\n                    }\n                  }\n\n                  var result;\n\n                  try {\n                    result = _get(_getPrototypeOf(CustomEvaluator.prototype), \"visitImport\", this).call(this, imported);\n                  } catch (error) {\n                    loaderContext.emitError(new Error(\"Stylus resolver error: \".concat(error.message).concat(webpackResolveError ? \"\\n\\nWebpack resolver error: \".concat(webpackResolveError.message).concat(webpackResolveError.details ? \"\\n\\nWebpack resolver error details:\\n\".concat(webpackResolveError.details) : \"\").concat(webpackResolveError.missing ? \"\\n\\nWebpack resolver error missing:\\n\".concat(webpackResolveError.missing.join(\"\\n\")) : \"\") : \"\")));\n                    return imported;\n                  }\n\n                  return result;\n                }\n              }]);\n\n              return CustomEvaluator;\n            }(_stylus.Evaluator));\n\n          case 13:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return _createEvaluator.apply(this, arguments);\n}\n\nfunction urlResolver() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  function resolver(url) {\n    var compiler = new _stylus.Compiler(url);\n    var filename = url.filename;\n    compiler.isURL = true;\n    var visitedUrl = url.nodes.map(function (node) {\n      return compiler.visit(node);\n    }).join(\"\");\n    var splitted = visitedUrl.split(\"!\");\n    var parsedUrl = (0, _url.parse)(splitted.pop()); // Parse literal\n\n    var literal = new _stylus.nodes.Literal(\"url(\\\"\".concat(parsedUrl.href, \"\\\")\"));\n    var pathname = parsedUrl.pathname;\n    var dest = this.options.dest;\n    var tail = \"\";\n    var res; // Absolute or hash\n\n    if (parsedUrl.protocol || !pathname || pathname[0] === \"/\") {\n      return literal;\n    } // Check that file exists\n\n\n    if (!options.nocheck) {\n      // eslint-disable-next-line no-underscore-dangle\n      var _paths = options.paths || [];\n\n      pathname = _stylus.utils.lookup(pathname, _paths.concat(this.paths));\n\n      if (!pathname) {\n        return literal;\n      }\n    }\n\n    if (this.includeCSS && _path.default.extname(pathname) === \".css\") {\n      return new _stylus.nodes.Literal(parsedUrl.href);\n    }\n\n    if (parsedUrl.search) {\n      tail += parsedUrl.search;\n    }\n\n    if (parsedUrl.hash) {\n      tail += parsedUrl.hash;\n    }\n\n    if (dest && _path.default.extname(dest) === \".css\") {\n      dest = _path.default.dirname(dest);\n    }\n\n    res = _path.default.relative(dest || _path.default.dirname(this.filename), options.nocheck ? _path.default.join(_path.default.dirname(filename), pathname) : pathname) + tail;\n\n    if (_path.default.sep === \"\\\\\") {\n      res = res.replace(/\\\\/g, \"/\");\n    }\n\n    splitted.push(res);\n    return new _stylus.nodes.Literal(\"url(\\\"\".concat(splitted.join(\"!\"), \"\\\")\"));\n  }\n\n  resolver.options = options;\n  resolver.raw = true;\n  return resolver;\n}\n\nfunction readFile(inputFileSystem, filepath) {\n  return new Promise(function (resolve, reject) {\n    inputFileSystem.readFile(filepath, function (error, stats) {\n      if (error) {\n        reject(error);\n      }\n\n      resolve(stats);\n    });\n  });\n}\n\nvar IS_NATIVE_WIN32_PATH = /^[a-z]:[/\\\\]|^\\\\\\\\/i;\nvar ABSOLUTE_SCHEME = /^[A-Za-z0-9+\\-.]+:/;\n\nfunction getURLType(source) {\n  if (source[0] === \"/\") {\n    if (source[1] === \"/\") {\n      return \"scheme-relative\";\n    }\n\n    return \"path-absolute\";\n  }\n\n  if (IS_NATIVE_WIN32_PATH.test(source)) {\n    return \"path-absolute\";\n  }\n\n  return ABSOLUTE_SCHEME.test(source) ? \"absolute\" : \"path-relative\";\n}\n\nfunction normalizeSourceMap(map, rootContext) {\n  var newMap = map; // result.map.file is an optional property that provides the output filename.\n  // Since we don't know the final filename in the webpack build chain yet, it makes no sense to have it.\n  // eslint-disable-next-line no-param-reassign\n\n  delete newMap.file; // eslint-disable-next-line no-param-reassign\n\n  newMap.sourceRoot = \"\"; // eslint-disable-next-line no-param-reassign\n\n  newMap.sources = newMap.sources.map(function (source) {\n    var sourceType = getURLType(source); // Do no touch `scheme-relative`, `path-absolute` and `absolute` types\n\n    if (sourceType === \"path-relative\") {\n      return _path.default.resolve(rootContext, _path.default.normalize(source));\n    }\n\n    return source;\n  });\n  return newMap;\n}","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/stylus-loader/dist/utils.js"],"names":["Object","defineProperty","exports","value","getStylusOptions","urlResolver","createEvaluator","resolveFilename","readFile","normalizeSourceMap","_url","require","_path","_interopRequireDefault","_stylus","_depsResolver","_loaderUtils","_full","_fastGlob","_normalizePath","obj","__esModule","default","isProductionLikeMode","loaderContext","mode","loaderOptions","stylusOptions","klona","filename","resourcePath","dest","dirname","_imports","resolveURL","nocheck","compress","getPossibleRequests","request","urlToRequest","charAt","rootContext","undefined","Set","fileResolver","globResolver","isGlob","context","possibleRequests","resolveRequests","result","generateTasks","globTask","base","Error","possibleGlobRequests","globResult","addContextDependency","patterns","replace","RegExp","absolute","cwd","paths","sort","filter","file","test","resolve","length","Promise","reject","then","catch","error","tailPossibleRequests","URL_RE","getDependencies","resolvedDependencies","seen","code","options","add","newOptions","cache","parser","Parser","ast","parse","emitError","dependencies","ImportVisitor","node","firstNode","path","first","name","val","evaluator","Evaluator","visit","call","originalNodePath","isNull","nodePath","found","oldNodePath","literal","isDynamicPattern","utils","find","join","lookupIndex","push","originalLineno","lineno","originalColumn","column","resolved","map","item","isAbsolute","process","all","Array","from","isArray","normalize","dependenciesOfDependencies","dependency","has","extname","addDependency","fs","dependencyCode","toString","set","mergeBlocks","blocks","finalBlock","adding","block","nodes","forEach","fileResolve","getResolve","conditionNames","mainFields","mainFiles","extensions","restrictions","globResolve","resolveToContext","resolvedImportDependencies","Map","optionsImports","imports","importPath","dependenciesOfImportDependencies","imported","return","webpackResolveError","isEntrypoint","get","string","escapePath","hasError","clonedImported","clone","clonedNode","message","details","missing","resolver","url","compiler","Compiler","isURL","visitedUrl","splitted","split","parsedUrl","pop","Literal","href","pathname","tail","res","protocol","_paths","lookup","concat","includeCSS","search","hash","relative","sep","raw","inputFileSystem","filepath","stats","IS_NATIVE_WIN32_PATH","ABSOLUTE_SCHEME","getURLType","source","newMap","sourceRoot","sources","sourceType"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getStylusOptions = getStylusOptions;\nexports.urlResolver = urlResolver;\nexports.createEvaluator = createEvaluator;\nexports.resolveFilename = resolveFilename;\nexports.readFile = readFile;\nexports.normalizeSourceMap = normalizeSourceMap;\n\nvar _url = require(\"url\");\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _stylus = require(\"stylus\");\n\nvar _depsResolver = _interopRequireDefault(require(\"stylus/lib/visitor/deps-resolver\"));\n\nvar _loaderUtils = require(\"loader-utils\");\n\nvar _full = require(\"klona/full\");\n\nvar _fastGlob = _interopRequireDefault(require(\"fast-glob\"));\n\nvar _normalizePath = _interopRequireDefault(require(\"normalize-path\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isProductionLikeMode(loaderContext) {\n  return loaderContext.mode === \"production\" || !loaderContext.mode;\n}\n\nfunction getStylusOptions(loaderContext, loaderOptions) {\n  const stylusOptions = (0, _full.klona)(typeof loaderOptions.stylusOptions === \"function\" ? loaderOptions.stylusOptions(loaderContext) || {} : loaderOptions.stylusOptions || {});\n  stylusOptions.filename = loaderContext.resourcePath;\n  stylusOptions.dest = _path.default.dirname(loaderContext.resourcePath); // Keep track of imported files (used by Stylus CLI watch mode)\n  // eslint-disable-next-line no-underscore-dangle\n\n  stylusOptions._imports = []; // https://github.com/stylus/stylus/issues/2119\n\n  stylusOptions.resolveURL = typeof stylusOptions.resolveURL === \"boolean\" && !stylusOptions.resolveURL ? false : typeof stylusOptions.resolveURL === \"object\" ? stylusOptions.resolveURL : {\n    nocheck: true\n  };\n\n  if (!stylusOptions.compress && isProductionLikeMode(loaderContext)) {\n    stylusOptions.compress = true;\n  }\n\n  return stylusOptions;\n}\n\nfunction getPossibleRequests(loaderContext, filename) {\n  const request = (0, _loaderUtils.urlToRequest)(filename, // eslint-disable-next-line no-undefined\n  filename.charAt(0) === \"/\" ? loaderContext.rootContext : undefined);\n  return [...new Set([request, filename])];\n}\n\nasync function resolveFilename(loaderContext, fileResolver, globResolver, isGlob, context, filename) {\n  const possibleRequests = getPossibleRequests(loaderContext, filename);\n  let result;\n\n  try {\n    result = await resolveRequests(context, possibleRequests, fileResolver);\n  } catch (error) {\n    if (isGlob) {\n      const [globTask] = _fastGlob.default.generateTasks(filename);\n\n      if (globTask.base === \".\") {\n        throw new Error('Glob resolving without a glob base (\"~**/*\") is not supported, please specify a glob base (\"~package/**/*\")');\n      }\n\n      const possibleGlobRequests = getPossibleRequests(loaderContext, globTask.base);\n      let globResult;\n\n      try {\n        globResult = await resolveRequests(context, possibleGlobRequests, globResolver);\n      } catch (globError) {\n        throw globError;\n      }\n\n      loaderContext.addContextDependency(globResult);\n      const patterns = filename.replace(new RegExp(`^${globTask.base}`), (0, _normalizePath.default)(globResult));\n      const paths = await (0, _fastGlob.default)(patterns, {\n        absolute: true,\n        cwd: globResult\n      });\n      return paths.sort().filter(file => /\\.styl$/i.test(file));\n    }\n\n    throw error;\n  }\n\n  return result;\n}\n\nfunction resolveRequests(context, possibleRequests, resolve) {\n  if (possibleRequests.length === 0) {\n    return Promise.reject();\n  }\n\n  return resolve(context, possibleRequests[0]).then(result => {\n    return result;\n  }).catch(error => {\n    const [, ...tailPossibleRequests] = possibleRequests;\n\n    if (tailPossibleRequests.length === 0) {\n      throw error;\n    }\n\n    return resolveRequests(context, tailPossibleRequests, resolve);\n  });\n}\n\nconst URL_RE = /^(?:url\\s*\\(\\s*)?['\"]?(?:[#/]|(?:https?:)?\\/\\/)/i;\n\nasync function getDependencies(resolvedDependencies, loaderContext, fileResolver, globResolver, seen, code, filename, options) {\n  seen.add(filename); // See https://github.com/stylus/stylus/issues/2108\n\n  const newOptions = (0, _full.klona)({ ...options,\n    filename,\n    cache: false\n  });\n  const parser = new _stylus.Parser(code, newOptions);\n  let ast;\n\n  try {\n    ast = parser.parse();\n  } catch (error) {\n    loaderContext.emitError(error);\n    return;\n  }\n\n  const dependencies = [];\n\n  class ImportVisitor extends _depsResolver.default {\n    // eslint-disable-next-line class-methods-use-this\n    visitImport(node) {\n      let firstNode = node.path.first;\n\n      if (firstNode.name === \"url\") {\n        return;\n      }\n\n      if (!firstNode.val) {\n        const evaluator = new _stylus.Evaluator(ast);\n        firstNode = evaluator.visit.call(evaluator, firstNode).first;\n      }\n\n      const originalNodePath = !firstNode.val.isNull && firstNode.val || firstNode.name;\n      let nodePath = originalNodePath;\n\n      if (!nodePath) {\n        return;\n      }\n\n      let found;\n      let oldNodePath;\n      const literal = /\\.css(?:\"|$)/.test(nodePath);\n\n      if (!literal && !/\\.styl$/i.test(nodePath)) {\n        oldNodePath = nodePath;\n        nodePath += \".styl\";\n      }\n\n      const isGlob = _fastGlob.default.isDynamicPattern(nodePath);\n\n      found = _stylus.utils.find(nodePath, this.paths, this.filename);\n\n      if (found && isGlob) {\n        const [globTask] = _fastGlob.default.generateTasks(nodePath);\n\n        const context = globTask.base === \".\" ? _path.default.dirname(this.filename) : _path.default.join(_path.default.dirname(this.filename), globTask.base);\n        loaderContext.addContextDependency(context);\n      }\n\n      if (!found && oldNodePath) {\n        found = _stylus.utils.lookupIndex(oldNodePath, this.paths, this.filename);\n      }\n\n      if (found) {\n        dependencies.push({\n          originalLineno: firstNode.lineno,\n          originalColumn: firstNode.column,\n          originalNodePath,\n          resolved: found.map(item => _path.default.isAbsolute(item) ? item : _path.default.join(process.cwd(), item))\n        });\n        return;\n      }\n\n      dependencies.push({\n        originalLineno: firstNode.lineno,\n        originalColumn: firstNode.column,\n        originalNodePath,\n        resolved: resolveFilename(loaderContext, fileResolver, globResolver, isGlob, _path.default.dirname(this.filename), originalNodePath)\n      });\n    }\n\n  }\n\n  new ImportVisitor(ast, newOptions).visit(ast);\n  await Promise.all(Array.from(dependencies).map(async result => {\n    let {\n      resolved\n    } = result;\n\n    try {\n      resolved = await resolved;\n    } catch (ignoreError) {\n      // eslint-disable-next-line no-param-reassign\n      delete result.resolved; // eslint-disable-next-line no-param-reassign\n\n      result.error = ignoreError;\n      return;\n    }\n\n    const isArray = Array.isArray(resolved); // `stylus` returns forward slashes on windows\n    // eslint-disable-next-line no-param-reassign\n\n    result.resolved = isArray ? resolved.map(item => _path.default.normalize(item)) : _path.default.normalize(resolved);\n    const dependenciesOfDependencies = [];\n\n    for (const dependency of isArray ? result.resolved : [result.resolved]) {\n      // Avoid loop, the file is imported by itself\n      if (seen.has(dependency)) {\n        return;\n      } // Avoid search nested imports in .css\n\n\n      if (_path.default.extname(dependency) === \".css\") {\n        return;\n      }\n\n      loaderContext.addDependency(dependency);\n      dependenciesOfDependencies.push((async () => {\n        let dependencyCode;\n\n        try {\n          dependencyCode = (await readFile(loaderContext.fs, dependency)).toString();\n        } catch (error) {\n          loaderContext.emitError(error);\n        }\n\n        await getDependencies(resolvedDependencies, loaderContext, fileResolver, globResolver, seen, dependencyCode, dependency, options);\n      })());\n    }\n\n    await Promise.all(dependenciesOfDependencies);\n  }));\n\n  if (dependencies.length > 0) {\n    resolvedDependencies.set(filename, dependencies);\n  }\n}\n\nfunction mergeBlocks(blocks) {\n  let finalBlock;\n\n  const adding = item => {\n    finalBlock.push(item);\n  };\n\n  for (const block of blocks) {\n    if (finalBlock) {\n      block.nodes.forEach(adding);\n    } else {\n      finalBlock = block;\n    }\n  }\n\n  return finalBlock;\n}\n\nasync function createEvaluator(loaderContext, code, options) {\n  const fileResolve = loaderContext.getResolve({\n    conditionNames: [\"styl\", \"stylus\", \"style\"],\n    mainFields: [\"styl\", \"style\", \"stylus\", \"main\", \"...\"],\n    mainFiles: [\"index\", \"...\"],\n    extensions: [\".styl\", \".css\"],\n    restrictions: [/\\.(css|styl)$/i]\n  });\n  const globResolve = loaderContext.getResolve({\n    conditionNames: [\"styl\", \"stylus\", \"style\"],\n    mainFields: [\"styl\", \"style\", \"stylus\", \"main\", \"...\"],\n    mainFiles: [\"index\", \"...\"],\n    resolveToContext: true\n  });\n  const resolvedImportDependencies = new Map();\n  const resolvedDependencies = new Map();\n  const seen = new Set();\n  await getDependencies(resolvedDependencies, loaderContext, fileResolve, globResolve, seen, code, loaderContext.resourcePath, options);\n  const optionsImports = [];\n\n  for (const importPath of options.imports) {\n    const isGlob = _fastGlob.default.isDynamicPattern(importPath);\n\n    optionsImports.push({\n      importPath,\n      resolved: resolveFilename(loaderContext, fileResolve, globResolve, isGlob, _path.default.dirname(loaderContext.resourcePath), importPath)\n    });\n  }\n\n  await Promise.all(optionsImports.map(async result => {\n    const {\n      importPath\n    } = result;\n    let {\n      resolved\n    } = result;\n\n    try {\n      resolved = await resolved;\n    } catch (ignoreError) {\n      return;\n    }\n\n    const isArray = Array.isArray(resolved); // `stylus` returns forward slashes on windows\n    // eslint-disable-next-line no-param-reassign\n\n    result.resolved = isArray ? resolved.map(item => _path.default.normalize(item)) : _path.default.normalize(resolved);\n    resolvedImportDependencies.set(importPath, result);\n    const dependenciesOfImportDependencies = [];\n\n    for (const dependency of isArray ? result.resolved : [result.resolved]) {\n      dependenciesOfImportDependencies.push((async () => {\n        let dependencyCode;\n\n        try {\n          dependencyCode = (await readFile(loaderContext.fs, dependency)).toString();\n        } catch (error) {\n          loaderContext.emitError(error);\n        }\n\n        await getDependencies(resolvedDependencies, loaderContext, fileResolve, globResolve, seen, dependencyCode, dependency, options);\n      })());\n    }\n\n    await Promise.all(dependenciesOfImportDependencies);\n  }));\n  return class CustomEvaluator extends _stylus.Evaluator {\n    visitImport(imported) {\n      this.return += 1;\n      const node = this.visit(imported.path).first;\n      const nodePath = !node.val.isNull && node.val || node.name;\n      this.return -= 1;\n      let webpackResolveError;\n\n      if (node.name !== \"url\" && nodePath && !URL_RE.test(nodePath)) {\n        let dependency;\n        const isEntrypoint = loaderContext.resourcePath === node.filename;\n\n        if (isEntrypoint) {\n          dependency = resolvedImportDependencies.get(nodePath);\n        }\n\n        if (!dependency) {\n          const dependencies = resolvedDependencies.get(_path.default.normalize(node.filename));\n\n          if (dependencies) {\n            dependency = dependencies.find(item => {\n              if (item.originalLineno === node.lineno && item.originalColumn === node.column && item.originalNodePath === nodePath) {\n                if (item.error) {\n                  webpackResolveError = item.error;\n                } else {\n                  return item.resolved;\n                }\n              }\n\n              return false;\n            });\n          }\n        }\n\n        if (dependency) {\n          const {\n            resolved\n          } = dependency;\n\n          if (!Array.isArray(resolved)) {\n            // Avoid re globbing when resolved import contains glob characters\n            node.string = _fastGlob.default.escapePath(resolved);\n          } else if (resolved.length > 0) {\n            let hasError = false;\n            const blocks = resolved.map(item => {\n              const clonedImported = imported.clone();\n              const clonedNode = this.visit(clonedImported.path).first; // Avoid re globbing when resolved import contains glob characters\n\n              clonedNode.string = _fastGlob.default.escapePath(item);\n              let result;\n\n              try {\n                result = super.visitImport(clonedImported);\n              } catch (error) {\n                hasError = true;\n              }\n\n              return result;\n            });\n\n            if (!hasError) {\n              return mergeBlocks(blocks);\n            }\n          }\n        }\n      }\n\n      let result;\n\n      try {\n        result = super.visitImport(imported);\n      } catch (error) {\n        loaderContext.emitError(new Error(`Stylus resolver error: ${error.message}${webpackResolveError ? `\\n\\nWebpack resolver error: ${webpackResolveError.message}${webpackResolveError.details ? `\\n\\nWebpack resolver error details:\\n${webpackResolveError.details}` : \"\"}${webpackResolveError.missing ? `\\n\\nWebpack resolver error missing:\\n${webpackResolveError.missing.join(\"\\n\")}` : \"\"}` : \"\"}`));\n        return imported;\n      }\n\n      return result;\n    }\n\n  };\n}\n\nfunction urlResolver(options = {}) {\n  function resolver(url) {\n    const compiler = new _stylus.Compiler(url);\n    const {\n      filename\n    } = url;\n    compiler.isURL = true;\n    const visitedUrl = url.nodes.map(node => compiler.visit(node)).join(\"\");\n    const splitted = visitedUrl.split(\"!\");\n    const parsedUrl = (0, _url.parse)(splitted.pop()); // Parse literal\n\n    const literal = new _stylus.nodes.Literal(`url(\"${parsedUrl.href}\")`);\n    let {\n      pathname\n    } = parsedUrl;\n    let {\n      dest\n    } = this.options;\n    let tail = \"\";\n    let res; // Absolute or hash\n\n    if (parsedUrl.protocol || !pathname || pathname[0] === \"/\") {\n      return literal;\n    } // Check that file exists\n\n\n    if (!options.nocheck) {\n      // eslint-disable-next-line no-underscore-dangle\n      const _paths = options.paths || [];\n\n      pathname = _stylus.utils.lookup(pathname, _paths.concat(this.paths));\n\n      if (!pathname) {\n        return literal;\n      }\n    }\n\n    if (this.includeCSS && _path.default.extname(pathname) === \".css\") {\n      return new _stylus.nodes.Literal(parsedUrl.href);\n    }\n\n    if (parsedUrl.search) {\n      tail += parsedUrl.search;\n    }\n\n    if (parsedUrl.hash) {\n      tail += parsedUrl.hash;\n    }\n\n    if (dest && _path.default.extname(dest) === \".css\") {\n      dest = _path.default.dirname(dest);\n    }\n\n    res = _path.default.relative(dest || _path.default.dirname(this.filename), options.nocheck ? _path.default.join(_path.default.dirname(filename), pathname) : pathname) + tail;\n\n    if (_path.default.sep === \"\\\\\") {\n      res = res.replace(/\\\\/g, \"/\");\n    }\n\n    splitted.push(res);\n    return new _stylus.nodes.Literal(`url(\"${splitted.join(\"!\")}\")`);\n  }\n\n  resolver.options = options;\n  resolver.raw = true;\n  return resolver;\n}\n\nfunction readFile(inputFileSystem, filepath) {\n  return new Promise((resolve, reject) => {\n    inputFileSystem.readFile(filepath, (error, stats) => {\n      if (error) {\n        reject(error);\n      }\n\n      resolve(stats);\n    });\n  });\n}\n\nconst IS_NATIVE_WIN32_PATH = /^[a-z]:[/\\\\]|^\\\\\\\\/i;\nconst ABSOLUTE_SCHEME = /^[A-Za-z0-9+\\-.]+:/;\n\nfunction getURLType(source) {\n  if (source[0] === \"/\") {\n    if (source[1] === \"/\") {\n      return \"scheme-relative\";\n    }\n\n    return \"path-absolute\";\n  }\n\n  if (IS_NATIVE_WIN32_PATH.test(source)) {\n    return \"path-absolute\";\n  }\n\n  return ABSOLUTE_SCHEME.test(source) ? \"absolute\" : \"path-relative\";\n}\n\nfunction normalizeSourceMap(map, rootContext) {\n  const newMap = map; // result.map.file is an optional property that provides the output filename.\n  // Since we don't know the final filename in the webpack build chain yet, it makes no sense to have it.\n  // eslint-disable-next-line no-param-reassign\n\n  delete newMap.file; // eslint-disable-next-line no-param-reassign\n\n  newMap.sourceRoot = \"\"; // eslint-disable-next-line no-param-reassign\n\n  newMap.sources = newMap.sources.map(source => {\n    const sourceType = getURLType(source); // Do no touch `scheme-relative`, `path-absolute` and `absolute` types\n\n    if (sourceType === \"path-relative\") {\n      return _path.default.resolve(rootContext, _path.default.normalize(source));\n    }\n\n    return source;\n  });\n  return newMap;\n}"]},"metadata":{},"sourceType":"script"}