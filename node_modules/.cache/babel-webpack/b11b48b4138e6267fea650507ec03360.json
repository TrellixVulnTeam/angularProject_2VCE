{"ast":null,"code":"/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n'use strict';\n\nvar randomBytes = require('randombytes'); // Generate an internal UID to make the regexp pattern harder to guess.\n\n\nvar UID_LENGTH = 16;\nvar UID = generateUID();\nvar PLACE_HOLDER_REGEXP = new RegExp('(\\\\\\\\)?\"@__(F|R|D|M|S|A|U|I|B)-' + UID + '-(\\\\d+)__@\"', 'g');\nvar IS_NATIVE_CODE_REGEXP = /\\{\\s*\\[native code\\]\\s*\\}/g;\nvar IS_PURE_FUNCTION = /function.*?\\(/;\nvar IS_ARROW_FUNCTION = /.*?=>.*?/;\nvar UNSAFE_CHARS_REGEXP = /[<>\\/\\u2028\\u2029]/g;\nvar RESERVED_SYMBOLS = ['*', 'async']; // Mapping of unsafe HTML and invalid JavaScript line terminator chars to their\n// Unicode char counterparts which are safe to use in JavaScript strings.\n\nvar ESCAPED_CHARS = {\n  '<': \"\\\\u003C\",\n  '>': \"\\\\u003E\",\n  '/': \"\\\\u002F\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\n\nfunction escapeUnsafeChars(unsafeChar) {\n  return ESCAPED_CHARS[unsafeChar];\n}\n\nfunction generateUID() {\n  var bytes = randomBytes(UID_LENGTH);\n  var result = '';\n\n  for (var i = 0; i < UID_LENGTH; ++i) {\n    result += bytes[i].toString(16);\n  }\n\n  return result;\n}\n\nfunction deleteFunctions(obj) {\n  var functionKeys = [];\n\n  for (var key in obj) {\n    if (typeof obj[key] === \"function\") {\n      functionKeys.push(key);\n    }\n  }\n\n  for (var i = 0; i < functionKeys.length; i++) {\n    delete obj[functionKeys[i]];\n  }\n}\n\nmodule.exports = function serialize(obj, options) {\n  options || (options = {}); // Backwards-compatibility for `space` as the second argument.\n\n  if (typeof options === 'number' || typeof options === 'string') {\n    options = {\n      space: options\n    };\n  }\n\n  var functions = [];\n  var regexps = [];\n  var dates = [];\n  var maps = [];\n  var sets = [];\n  var arrays = [];\n  var undefs = [];\n  var infinities = [];\n  var bigInts = []; // Returns placeholders for functions and regexps (identified by index)\n  // which are later replaced by their string representation.\n\n  function replacer(key, value) {\n    // For nested function\n    if (options.ignoreFunction) {\n      deleteFunctions(value);\n    }\n\n    if (!value && value !== undefined) {\n      return value;\n    } // If the value is an object w/ a toJSON method, toJSON is called before\n    // the replacer runs, so we use this[key] to get the non-toJSONed value.\n\n\n    var origValue = this[key];\n    var type = typeof origValue;\n\n    if (type === 'object') {\n      if (origValue instanceof RegExp) {\n        return '@__R-' + UID + '-' + (regexps.push(origValue) - 1) + '__@';\n      }\n\n      if (origValue instanceof Date) {\n        return '@__D-' + UID + '-' + (dates.push(origValue) - 1) + '__@';\n      }\n\n      if (origValue instanceof Map) {\n        return '@__M-' + UID + '-' + (maps.push(origValue) - 1) + '__@';\n      }\n\n      if (origValue instanceof Set) {\n        return '@__S-' + UID + '-' + (sets.push(origValue) - 1) + '__@';\n      }\n\n      if (origValue instanceof Array) {\n        var isSparse = origValue.filter(function () {\n          return true;\n        }).length !== origValue.length;\n\n        if (isSparse) {\n          return '@__A-' + UID + '-' + (arrays.push(origValue) - 1) + '__@';\n        }\n      }\n    }\n\n    if (type === 'function') {\n      return '@__F-' + UID + '-' + (functions.push(origValue) - 1) + '__@';\n    }\n\n    if (type === 'undefined') {\n      return '@__U-' + UID + '-' + (undefs.push(origValue) - 1) + '__@';\n    }\n\n    if (type === 'number' && !isNaN(origValue) && !isFinite(origValue)) {\n      return '@__I-' + UID + '-' + (infinities.push(origValue) - 1) + '__@';\n    }\n\n    if (type === 'bigint') {\n      return '@__B-' + UID + '-' + (bigInts.push(origValue) - 1) + '__@';\n    }\n\n    return value;\n  }\n\n  function serializeFunc(fn) {\n    var serializedFn = fn.toString();\n\n    if (IS_NATIVE_CODE_REGEXP.test(serializedFn)) {\n      throw new TypeError('Serializing native function: ' + fn.name);\n    } // pure functions, example: {key: function() {}}\n\n\n    if (IS_PURE_FUNCTION.test(serializedFn)) {\n      return serializedFn;\n    } // arrow functions, example: arg1 => arg1+5\n\n\n    if (IS_ARROW_FUNCTION.test(serializedFn)) {\n      return serializedFn;\n    }\n\n    var argsStartsAt = serializedFn.indexOf('(');\n    var def = serializedFn.substr(0, argsStartsAt).trim().split(' ').filter(function (val) {\n      return val.length > 0;\n    });\n    var nonReservedSymbols = def.filter(function (val) {\n      return RESERVED_SYMBOLS.indexOf(val) === -1;\n    }); // enhanced literal objects, example: {key() {}}\n\n    if (nonReservedSymbols.length > 0) {\n      return (def.indexOf('async') > -1 ? 'async ' : '') + 'function' + (def.join('').indexOf('*') > -1 ? '*' : '') + serializedFn.substr(argsStartsAt);\n    } // arrow functions\n\n\n    return serializedFn;\n  } // Check if the parameter is function\n\n\n  if (options.ignoreFunction && typeof obj === \"function\") {\n    obj = undefined;\n  } // Protects against `JSON.stringify()` returning `undefined`, by serializing\n  // to the literal string: \"undefined\".\n\n\n  if (obj === undefined) {\n    return String(obj);\n  }\n\n  var str; // Creates a JSON string representation of the value.\n  // NOTE: Node 0.12 goes into slow mode with extra JSON.stringify() args.\n\n  if (options.isJSON && !options.space) {\n    str = JSON.stringify(obj);\n  } else {\n    str = JSON.stringify(obj, options.isJSON ? null : replacer, options.space);\n  } // Protects against `JSON.stringify()` returning `undefined`, by serializing\n  // to the literal string: \"undefined\".\n\n\n  if (typeof str !== 'string') {\n    return String(str);\n  } // Replace unsafe HTML and invalid JavaScript line terminator chars with\n  // their safe Unicode char counterpart. This _must_ happen before the\n  // regexps and functions are serialized and added back to the string.\n\n\n  if (options.unsafe !== true) {\n    str = str.replace(UNSAFE_CHARS_REGEXP, escapeUnsafeChars);\n  }\n\n  if (functions.length === 0 && regexps.length === 0 && dates.length === 0 && maps.length === 0 && sets.length === 0 && arrays.length === 0 && undefs.length === 0 && infinities.length === 0 && bigInts.length === 0) {\n    return str;\n  } // Replaces all occurrences of function, regexp, date, map and set placeholders in the\n  // JSON string with their string representations. If the original value can\n  // not be found, then `undefined` is used.\n\n\n  return str.replace(PLACE_HOLDER_REGEXP, function (match, backSlash, type, valueIndex) {\n    // The placeholder may not be preceded by a backslash. This is to prevent\n    // replacing things like `\"a\\\"@__R-<UID>-0__@\"` and thus outputting\n    // invalid JS.\n    if (backSlash) {\n      return match;\n    }\n\n    if (type === 'D') {\n      return \"new Date(\\\"\" + dates[valueIndex].toISOString() + \"\\\")\";\n    }\n\n    if (type === 'R') {\n      return \"new RegExp(\" + serialize(regexps[valueIndex].source) + \", \\\"\" + regexps[valueIndex].flags + \"\\\")\";\n    }\n\n    if (type === 'M') {\n      return \"new Map(\" + serialize(Array.from(maps[valueIndex].entries()), options) + \")\";\n    }\n\n    if (type === 'S') {\n      return \"new Set(\" + serialize(Array.from(sets[valueIndex].values()), options) + \")\";\n    }\n\n    if (type === 'A') {\n      return \"Array.prototype.slice.call(\" + serialize(Object.assign({\n        length: arrays[valueIndex].length\n      }, arrays[valueIndex]), options) + \")\";\n    }\n\n    if (type === 'U') {\n      return 'undefined';\n    }\n\n    if (type === 'I') {\n      return infinities[valueIndex];\n    }\n\n    if (type === 'B') {\n      return \"BigInt(\\\"\" + bigInts[valueIndex] + \"\\\")\";\n    }\n\n    var fn = functions[valueIndex];\n    return serializeFunc(fn);\n  });\n};","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/serialize-javascript/index.js"],"names":["randomBytes","require","UID_LENGTH","UID","generateUID","PLACE_HOLDER_REGEXP","RegExp","IS_NATIVE_CODE_REGEXP","IS_PURE_FUNCTION","IS_ARROW_FUNCTION","UNSAFE_CHARS_REGEXP","RESERVED_SYMBOLS","ESCAPED_CHARS","escapeUnsafeChars","unsafeChar","bytes","result","i","toString","deleteFunctions","obj","functionKeys","key","push","length","module","exports","serialize","options","space","functions","regexps","dates","maps","sets","arrays","undefs","infinities","bigInts","replacer","value","ignoreFunction","undefined","origValue","type","Date","Map","Set","Array","isSparse","filter","isNaN","isFinite","serializeFunc","fn","serializedFn","test","TypeError","name","argsStartsAt","indexOf","def","substr","trim","split","val","nonReservedSymbols","join","String","str","isJSON","JSON","stringify","unsafe","replace","match","backSlash","valueIndex","toISOString","source","flags","from","entries","values","Object","assign"],"mappings":"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","sourcesContent":["/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n'use strict';\n\nvar randomBytes = require('randombytes');\n\n// Generate an internal UID to make the regexp pattern harder to guess.\nvar UID_LENGTH          = 16;\nvar UID                 = generateUID();\nvar PLACE_HOLDER_REGEXP = new RegExp('(\\\\\\\\)?\"@__(F|R|D|M|S|A|U|I|B)-' + UID + '-(\\\\d+)__@\"', 'g');\n\nvar IS_NATIVE_CODE_REGEXP = /\\{\\s*\\[native code\\]\\s*\\}/g;\nvar IS_PURE_FUNCTION = /function.*?\\(/;\nvar IS_ARROW_FUNCTION = /.*?=>.*?/;\nvar UNSAFE_CHARS_REGEXP   = /[<>\\/\\u2028\\u2029]/g;\n\nvar RESERVED_SYMBOLS = ['*', 'async'];\n\n// Mapping of unsafe HTML and invalid JavaScript line terminator chars to their\n// Unicode char counterparts which are safe to use in JavaScript strings.\nvar ESCAPED_CHARS = {\n    '<'     : '\\\\u003C',\n    '>'     : '\\\\u003E',\n    '/'     : '\\\\u002F',\n    '\\u2028': '\\\\u2028',\n    '\\u2029': '\\\\u2029'\n};\n\nfunction escapeUnsafeChars(unsafeChar) {\n    return ESCAPED_CHARS[unsafeChar];\n}\n\nfunction generateUID() {\n    var bytes = randomBytes(UID_LENGTH);\n    var result = '';\n    for(var i=0; i<UID_LENGTH; ++i) {\n        result += bytes[i].toString(16);\n    }\n    return result;\n}\n\nfunction deleteFunctions(obj){\n    var functionKeys = [];\n    for (var key in obj) {\n        if (typeof obj[key] === \"function\") {\n            functionKeys.push(key);\n        }\n    }\n    for (var i = 0; i < functionKeys.length; i++) {\n        delete obj[functionKeys[i]];\n    }\n}\n\nmodule.exports = function serialize(obj, options) {\n    options || (options = {});\n\n    // Backwards-compatibility for `space` as the second argument.\n    if (typeof options === 'number' || typeof options === 'string') {\n        options = {space: options};\n    }\n\n    var functions = [];\n    var regexps   = [];\n    var dates     = [];\n    var maps      = [];\n    var sets      = [];\n    var arrays    = [];\n    var undefs    = [];\n    var infinities= [];\n    var bigInts = [];\n\n    // Returns placeholders for functions and regexps (identified by index)\n    // which are later replaced by their string representation.\n    function replacer(key, value) {\n\n        // For nested function\n        if(options.ignoreFunction){\n            deleteFunctions(value);\n        }\n\n        if (!value && value !== undefined) {\n            return value;\n        }\n\n        // If the value is an object w/ a toJSON method, toJSON is called before\n        // the replacer runs, so we use this[key] to get the non-toJSONed value.\n        var origValue = this[key];\n        var type = typeof origValue;\n\n        if (type === 'object') {\n            if(origValue instanceof RegExp) {\n                return '@__R-' + UID + '-' + (regexps.push(origValue) - 1) + '__@';\n            }\n\n            if(origValue instanceof Date) {\n                return '@__D-' + UID + '-' + (dates.push(origValue) - 1) + '__@';\n            }\n\n            if(origValue instanceof Map) {\n                return '@__M-' + UID + '-' + (maps.push(origValue) - 1) + '__@';\n            }\n\n            if(origValue instanceof Set) {\n                return '@__S-' + UID + '-' + (sets.push(origValue) - 1) + '__@';\n            }\n\n            if(origValue instanceof Array) {\n                var isSparse = origValue.filter(function(){return true}).length !== origValue.length;\n                if (isSparse) {\n                    return '@__A-' + UID + '-' + (arrays.push(origValue) - 1) + '__@';\n                }\n            }\n        }\n\n        if (type === 'function') {\n            return '@__F-' + UID + '-' + (functions.push(origValue) - 1) + '__@';\n        }\n\n        if (type === 'undefined') {\n            return '@__U-' + UID + '-' + (undefs.push(origValue) - 1) + '__@';\n        }\n\n        if (type === 'number' && !isNaN(origValue) && !isFinite(origValue)) {\n            return '@__I-' + UID + '-' + (infinities.push(origValue) - 1) + '__@';\n        }\n\n        if (type === 'bigint') {\n            return '@__B-' + UID + '-' + (bigInts.push(origValue) - 1) + '__@';\n        }\n\n        return value;\n    }\n\n    function serializeFunc(fn) {\n      var serializedFn = fn.toString();\n      if (IS_NATIVE_CODE_REGEXP.test(serializedFn)) {\n          throw new TypeError('Serializing native function: ' + fn.name);\n      }\n\n      // pure functions, example: {key: function() {}}\n      if(IS_PURE_FUNCTION.test(serializedFn)) {\n          return serializedFn;\n      }\n\n      // arrow functions, example: arg1 => arg1+5\n      if(IS_ARROW_FUNCTION.test(serializedFn)) {\n          return serializedFn;\n      }\n\n      var argsStartsAt = serializedFn.indexOf('(');\n      var def = serializedFn.substr(0, argsStartsAt)\n        .trim()\n        .split(' ')\n        .filter(function(val) { return val.length > 0 });\n\n      var nonReservedSymbols = def.filter(function(val) {\n        return RESERVED_SYMBOLS.indexOf(val) === -1\n      });\n\n      // enhanced literal objects, example: {key() {}}\n      if(nonReservedSymbols.length > 0) {\n          return (def.indexOf('async') > -1 ? 'async ' : '') + 'function'\n            + (def.join('').indexOf('*') > -1 ? '*' : '')\n            + serializedFn.substr(argsStartsAt);\n      }\n\n      // arrow functions\n      return serializedFn;\n    }\n\n    // Check if the parameter is function\n    if (options.ignoreFunction && typeof obj === \"function\") {\n        obj = undefined;\n    }\n    // Protects against `JSON.stringify()` returning `undefined`, by serializing\n    // to the literal string: \"undefined\".\n    if (obj === undefined) {\n        return String(obj);\n    }\n\n    var str;\n\n    // Creates a JSON string representation of the value.\n    // NOTE: Node 0.12 goes into slow mode with extra JSON.stringify() args.\n    if (options.isJSON && !options.space) {\n        str = JSON.stringify(obj);\n    } else {\n        str = JSON.stringify(obj, options.isJSON ? null : replacer, options.space);\n    }\n\n    // Protects against `JSON.stringify()` returning `undefined`, by serializing\n    // to the literal string: \"undefined\".\n    if (typeof str !== 'string') {\n        return String(str);\n    }\n\n    // Replace unsafe HTML and invalid JavaScript line terminator chars with\n    // their safe Unicode char counterpart. This _must_ happen before the\n    // regexps and functions are serialized and added back to the string.\n    if (options.unsafe !== true) {\n        str = str.replace(UNSAFE_CHARS_REGEXP, escapeUnsafeChars);\n    }\n\n    if (functions.length === 0 && regexps.length === 0 && dates.length === 0 && maps.length === 0 && sets.length === 0 && arrays.length === 0 && undefs.length === 0 && infinities.length === 0 && bigInts.length === 0) {\n        return str;\n    }\n\n    // Replaces all occurrences of function, regexp, date, map and set placeholders in the\n    // JSON string with their string representations. If the original value can\n    // not be found, then `undefined` is used.\n    return str.replace(PLACE_HOLDER_REGEXP, function (match, backSlash, type, valueIndex) {\n        // The placeholder may not be preceded by a backslash. This is to prevent\n        // replacing things like `\"a\\\"@__R-<UID>-0__@\"` and thus outputting\n        // invalid JS.\n        if (backSlash) {\n            return match;\n        }\n\n        if (type === 'D') {\n            return \"new Date(\\\"\" + dates[valueIndex].toISOString() + \"\\\")\";\n        }\n\n        if (type === 'R') {\n            return \"new RegExp(\" + serialize(regexps[valueIndex].source) + \", \\\"\" + regexps[valueIndex].flags + \"\\\")\";\n        }\n\n        if (type === 'M') {\n            return \"new Map(\" + serialize(Array.from(maps[valueIndex].entries()), options) + \")\";\n        }\n\n        if (type === 'S') {\n            return \"new Set(\" + serialize(Array.from(sets[valueIndex].values()), options) + \")\";\n        }\n\n        if (type === 'A') {\n            return \"Array.prototype.slice.call(\" + serialize(Object.assign({ length: arrays[valueIndex].length }, arrays[valueIndex]), options) + \")\";\n        }\n\n        if (type === 'U') {\n            return 'undefined'\n        }\n\n        if (type === 'I') {\n            return infinities[valueIndex];\n        }\n\n        if (type === 'B') {\n            return \"BigInt(\\\"\" + bigInts[valueIndex] + \"\\\")\";\n        }\n\n        var fn = functions[valueIndex];\n\n        return serializeFunc(fn);\n    });\n}\n"]},"metadata":{},"sourceType":"script"}