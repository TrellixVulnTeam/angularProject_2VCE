{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar utils = require(\"../../utils\");\n\nvar partial_1 = require(\"../matchers/partial\");\n\nvar DeepFilter = /*#__PURE__*/function () {\n  function DeepFilter(_settings, _micromatchOptions) {\n    _classCallCheck(this, DeepFilter);\n\n    this._settings = _settings;\n    this._micromatchOptions = _micromatchOptions;\n  }\n\n  _createClass(DeepFilter, [{\n    key: \"getFilter\",\n    value: function getFilter(basePath, positive, negative) {\n      var _this = this;\n\n      var matcher = this._getMatcher(positive);\n\n      var negativeRe = this._getNegativePatternsRe(negative);\n\n      return function (entry) {\n        return _this._filter(basePath, entry, matcher, negativeRe);\n      };\n    }\n  }, {\n    key: \"_getMatcher\",\n    value: function _getMatcher(patterns) {\n      return new partial_1.default(patterns, this._settings, this._micromatchOptions);\n    }\n  }, {\n    key: \"_getNegativePatternsRe\",\n    value: function _getNegativePatternsRe(patterns) {\n      var affectDepthOfReadingPatterns = patterns.filter(utils.pattern.isAffectDepthOfReadingPattern);\n      return utils.pattern.convertPatternsToRe(affectDepthOfReadingPatterns, this._micromatchOptions);\n    }\n  }, {\n    key: \"_filter\",\n    value: function _filter(basePath, entry, matcher, negativeRe) {\n      if (this._isSkippedByDeep(basePath, entry.path)) {\n        return false;\n      }\n\n      if (this._isSkippedSymbolicLink(entry)) {\n        return false;\n      }\n\n      var filepath = utils.path.removeLeadingDotSegment(entry.path);\n\n      if (this._isSkippedByPositivePatterns(filepath, matcher)) {\n        return false;\n      }\n\n      return this._isSkippedByNegativePatterns(filepath, negativeRe);\n    }\n  }, {\n    key: \"_isSkippedByDeep\",\n    value: function _isSkippedByDeep(basePath, entryPath) {\n      /**\r\n       * Avoid unnecessary depth calculations when it doesn't matter.\r\n       */\n      if (this._settings.deep === Infinity) {\n        return false;\n      }\n\n      return this._getEntryLevel(basePath, entryPath) >= this._settings.deep;\n    }\n  }, {\n    key: \"_getEntryLevel\",\n    value: function _getEntryLevel(basePath, entryPath) {\n      var entryPathDepth = entryPath.split('/').length;\n\n      if (basePath === '') {\n        return entryPathDepth;\n      }\n\n      var basePathDepth = basePath.split('/').length;\n      return entryPathDepth - basePathDepth;\n    }\n  }, {\n    key: \"_isSkippedSymbolicLink\",\n    value: function _isSkippedSymbolicLink(entry) {\n      return !this._settings.followSymbolicLinks && entry.dirent.isSymbolicLink();\n    }\n  }, {\n    key: \"_isSkippedByPositivePatterns\",\n    value: function _isSkippedByPositivePatterns(entryPath, matcher) {\n      return !this._settings.baseNameMatch && !matcher.match(entryPath);\n    }\n  }, {\n    key: \"_isSkippedByNegativePatterns\",\n    value: function _isSkippedByNegativePatterns(entryPath, patternsRe) {\n      return !utils.pattern.matchAny(entryPath, patternsRe);\n    }\n  }]);\n\n  return DeepFilter;\n}();\n\nexports.default = DeepFilter;","map":{"version":3,"sources":["/Users/abdillahihussein/Documents/GitHub/angularProject/node_modules/fast-glob/out/providers/filters/deep.js"],"names":["Object","defineProperty","exports","value","utils","require","partial_1","DeepFilter","_settings","_micromatchOptions","basePath","positive","negative","matcher","_getMatcher","negativeRe","_getNegativePatternsRe","entry","_filter","patterns","default","affectDepthOfReadingPatterns","filter","pattern","isAffectDepthOfReadingPattern","convertPatternsToRe","_isSkippedByDeep","path","_isSkippedSymbolicLink","filepath","removeLeadingDotSegment","_isSkippedByPositivePatterns","_isSkippedByNegativePatterns","entryPath","deep","Infinity","_getEntryLevel","entryPathDepth","split","length","basePathDepth","followSymbolicLinks","dirent","isSymbolicLink","baseNameMatch","match","patternsRe","matchAny"],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst utils = require(\"../../utils\");\r\nconst partial_1 = require(\"../matchers/partial\");\r\nclass DeepFilter {\r\n    constructor(_settings, _micromatchOptions) {\r\n        this._settings = _settings;\r\n        this._micromatchOptions = _micromatchOptions;\r\n    }\r\n    getFilter(basePath, positive, negative) {\r\n        const matcher = this._getMatcher(positive);\r\n        const negativeRe = this._getNegativePatternsRe(negative);\r\n        return (entry) => this._filter(basePath, entry, matcher, negativeRe);\r\n    }\r\n    _getMatcher(patterns) {\r\n        return new partial_1.default(patterns, this._settings, this._micromatchOptions);\r\n    }\r\n    _getNegativePatternsRe(patterns) {\r\n        const affectDepthOfReadingPatterns = patterns.filter(utils.pattern.isAffectDepthOfReadingPattern);\r\n        return utils.pattern.convertPatternsToRe(affectDepthOfReadingPatterns, this._micromatchOptions);\r\n    }\r\n    _filter(basePath, entry, matcher, negativeRe) {\r\n        if (this._isSkippedByDeep(basePath, entry.path)) {\r\n            return false;\r\n        }\r\n        if (this._isSkippedSymbolicLink(entry)) {\r\n            return false;\r\n        }\r\n        const filepath = utils.path.removeLeadingDotSegment(entry.path);\r\n        if (this._isSkippedByPositivePatterns(filepath, matcher)) {\r\n            return false;\r\n        }\r\n        return this._isSkippedByNegativePatterns(filepath, negativeRe);\r\n    }\r\n    _isSkippedByDeep(basePath, entryPath) {\r\n        /**\r\n         * Avoid unnecessary depth calculations when it doesn't matter.\r\n         */\r\n        if (this._settings.deep === Infinity) {\r\n            return false;\r\n        }\r\n        return this._getEntryLevel(basePath, entryPath) >= this._settings.deep;\r\n    }\r\n    _getEntryLevel(basePath, entryPath) {\r\n        const entryPathDepth = entryPath.split('/').length;\r\n        if (basePath === '') {\r\n            return entryPathDepth;\r\n        }\r\n        const basePathDepth = basePath.split('/').length;\r\n        return entryPathDepth - basePathDepth;\r\n    }\r\n    _isSkippedSymbolicLink(entry) {\r\n        return !this._settings.followSymbolicLinks && entry.dirent.isSymbolicLink();\r\n    }\r\n    _isSkippedByPositivePatterns(entryPath, matcher) {\r\n        return !this._settings.baseNameMatch && !matcher.match(entryPath);\r\n    }\r\n    _isSkippedByNegativePatterns(entryPath, patternsRe) {\r\n        return !utils.pattern.matchAny(entryPath, patternsRe);\r\n    }\r\n}\r\nexports.default = DeepFilter;\r\n"]},"metadata":{},"sourceType":"script"}